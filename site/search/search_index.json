{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Arkhon-Rheo","text":"<p>Arkhon-Rheo (Ancient Greek: \u1f04\u03c1\u03c7\u03c9\u03bd \"ruler\" + \u1fe5\u03ad\u03c9 \"to flow\") is a sophisticated multi-agent orchestration framework designed for building reliable, scalable, and complex AI systems using LangGraph and Google GenAI.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83e\udde9 Modular Orchestration: Easily compose multiple agents into complex workflows.</li> <li>\ud83e\udde0 Recursive Memory: Built-in summarization and hierarchical memory systems.</li> <li>\ud83d\udee0\ufe0f Seamless Tooling: Plug-and-play tool registry for external API integration.</li> <li>\u26a1 First-Class TDD: Designed with testing in mind, ensuring your agentic flows are deterministic and robust.</li> <li>\ud83d\ude80 Developer-First CLI: Accelerate your development cycle from initialization to production.</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Ready to flow? Check out the Getting Started guide.</p> <pre><code>pip install arkhon-rheo\narkhon-rheo init my-awesome-project\n</code></pre>"},{"location":"architecture/","title":"Architecture","text":"<p>Arkhon-Rheo is built on a foundation of Event Sourcing and State Machines, leveraging the power of LangGraph for orchestration and Google GenAI for reasoning.</p>"},{"location":"architecture/#core-components","title":"Core Components","text":""},{"location":"architecture/#1-the-message-bus","title":"1. The Message Bus","text":"<p>All communication between agents is asynchronous and event-driven. Messages are immutable records containing sender, receiver, and content payload.</p>"},{"location":"architecture/#2-recursive-memory","title":"2. Recursive Memory","text":"<p>Unlike simple buffers, Arkhon-Rheo implements a recursive summarization system. As conversation history grows, older segments are summarized into high-level context, preserving key information while staying within context window limits.</p>"},{"location":"architecture/#3-graph-based-orchestration","title":"3. Graph-based Orchestration","text":"<p>Workflows are modeled as directed graphs using the <code>Graph</code> class. Each node in the graph represents a specialized action (single Agent or subgraph), and edges define the transition logic, including support for Conditional Edges that route execution based on runtime state.</p>"},{"location":"architecture/#4-runtime-scheduler","title":"4. Runtime Scheduler","text":"<p>The <code>RuntimeScheduler</code> is the central engine that drives the execution loop. It handles asynchronous node execution, state accumulation using specified operators, and integrated persistence via the <code>CheckpointManager</code>.</p>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<pre><code>graph TD\n    User([User Request]) --&gt; Scheduler{RuntimeScheduler}\n    Scheduler --&gt; NodeA[Agent Node]\n    NodeA --&gt; ToolA[External Tool]\n    ToolA --&gt; NodeA\n    NodeA --&gt; Scheduler\n    Scheduler -- Conditional Edge --&gt; NodeB[Validator Node]\n    NodeB --&gt; Scheduler\n    Scheduler --&gt; Response([User Response])\n</code></pre>"},{"location":"cli_reference/","title":"CLI Reference","text":"<p>The <code>arkhon-rheo</code> command-line tool is designed to accelerate your multi-agent development workflow.</p>"},{"location":"cli_reference/#commands","title":"Commands","text":""},{"location":"cli_reference/#version","title":"<code>version</code>","text":"<p>Displays the current version of the Arkhon-Rheo framework.</p> <pre><code>arkhon-rheo --version\n</code></pre>"},{"location":"cli_reference/#init","title":"<code>init</code>","text":"<p>Initializes a new Arkhon-Rheo project structure in the specified directory.</p> <pre><code>arkhon-rheo init &lt;project_name&gt;\n</code></pre> <p>Arguments:</p> <ul> <li><code>target</code>: The name of the new project directory.</li> </ul>"},{"location":"cli_reference/#run","title":"<code>run</code>","text":"<p>Status: Placeholder/Experimental Executes an Arkhon-Rheo workflow based on a configuration file.</p> <pre><code>arkhon-rheo run --config workflow.yaml\n</code></pre> <p>Options:</p> <ul> <li><code>--config &lt;path&gt;</code>: Path to the workflow configuration file (default: <code>workflow.yaml</code>).</li> </ul>"},{"location":"cli_reference/#migrate","title":"<code>migrate</code>","text":"<p>Assists in migrating existing LangGraph components (subgraphs or specialized agents) to the Arkhon-Rheo framework.</p> <pre><code>arkhon-rheo migrate &lt;target_path&gt; --type &lt;subgraph|agent&gt;\n</code></pre> <p>Arguments:</p> <ul> <li><code>target</code>: The path to the file or directory to migrate.</li> </ul> <p>Options:</p> <ul> <li><code>--type [subgraph|agent]</code>: The type of component being migrated (default: <code>subgraph</code>).</li> </ul>"},{"location":"getting_started/","title":"Getting Started","text":"<p>Welcome to Arkhon-Rheo! This guide will walk you through the first steps of building your own multi-agent system.</p>"},{"location":"getting_started/#installation","title":"Installation","text":"<p>Arkhon-Rheo requires Python 3.12 or higher. We recommend using <code>uv</code> for package management.</p> <pre><code>pip install arkhon-rheo\n</code></pre>"},{"location":"getting_started/#your-first-project","title":"Your First Project","text":"<p>Use the CLI to scaffold a new project structure:</p> <pre><code>arkhon-rheo init hello-arkhon\n</code></pre> <p>This creates a directory structure like this:</p> <pre><code>hello-arkhon/\n\u251c\u2500\u2500 agents/        # Put your custom agent logic here\n\u251c\u2500\u2500 tools/         # Define external tools\n\u2514\u2500\u2500 pyproject.toml # Project configuration\n</code></pre>"},{"location":"getting_started/#basic-concepts","title":"Basic Concepts","text":""},{"location":"getting_started/#1-the-agent","title":"1. The Agent","text":"<p>In Arkhon-Rheo, an Agent is a stateful entity that can receive messages, reason, and act.</p>"},{"location":"getting_started/#2-the-orchestrator","title":"2. The Orchestrator","text":"<p>The Orchestrator manages the flow of execution between multiple agents, handling message passing and state transitions.</p>"},{"location":"getting_started/#3-tooling","title":"3. Tooling","text":"<p>Give your agents specialized capabilities by registering Tools!</p>"},{"location":"getting_started/#next-steps","title":"Next Steps","text":"<p>Explore the Architecture or see a complete Multi-Agent Example.</p>"},{"location":"refactor/","title":"REVIEW REPORT","text":"<p>\u9019\u4efd\u5206\u6790\u8207\u91cd\u69cb\u5efa\u8b70\u91dd\u5c0d <code>Arkhon-Rheo</code> \u5c08\u6848\u73fe\u72c0\uff08Phase 3\uff1aMemory &amp; Storage\uff09\u9032\u884c\u6df1\u5ea6\u89e3\u69cb\uff0c\u4e26\u5c0d\u6a19 LangGraph \u7684\u5de5\u696d\u7d1a\u67b6\u69cb\u9032\u884c\u6a21\u7d44\u5316\u8a2d\u8a08\u3002</p>"},{"location":"refactor/#1-architectural-analysis","title":"1. \u67b6\u69cb\u6df1\u5ea6\u5206\u6790 (Architectural Analysis)","text":"<p><code>Arkhon-Rheo</code> \u76ee\u524d\u5c55\u73fe\u51fa\u9ad8\u5ea6\u89e3\u8026\u7684\u5c64\u7d1a\u8a2d\u8a08\uff0c\u5176\u6838\u5fc3\u908f\u8f2f\u570d\u7e5e\u8457 Graph-based Execution \u8207 Hierarchical Memory \u5c55\u958b\u3002</p> <ul> <li>\u6838\u5fc3\u5f15\u64ce (Core Engine)\uff1a\u900f\u904e <code>graph.py</code> \u8207 <code>runtime/</code> \u9a45\u52d5\uff0c\u652f\u6301\u7bc0\u9ede\u5316\u57f7\u884c\u3002</li> <li>\u7bc0\u9ede\u985e\u578b (Node Specialization)\uff1a\u5340\u5206\u4e86 <code>Thought</code>, <code>Action</code>, <code>Observation</code>, <code>Commit</code>, <code>Validate</code>\u3002\u9019\u8868\u660e\u7cfb\u7d71\u4e0d\u53ea\u662f\u7c21\u55ae\u7684 Chain\uff0c\u800c\u662f\u5177\u5099\u63a8\u7406\u8207\u9a57\u8b49\u80fd\u529b\u7684\u8907\u96dc\u5716\u5f62\u3002</li> <li>\u8a18\u61b6\u9ad4\u67b6\u69cb (Memory Architecture)\uff1a\u5177\u5099 <code>context_window</code> (\u77ed\u671f)\u3001<code>vector_store</code> (\u9577\u671f) \u8207 <code>summarization</code> (\u58d3\u7e2e)\uff0c\u9019\u5c6c\u65bc\u5178\u578b\u7684 Memory-Augmented Agent\u3002</li> <li>\u6301\u4e45\u5316\u6a5f\u5236 (State Persistence)\uff1a<code>checkpoint.py</code> \u6307\u5411\u4e86\u72c0\u614b\u6062\u5fa9\u8207\u4e2d\u65b7\u91cd\u555f\u7684\u80fd\u529b\uff0c\u9019\u662f\u8655\u7406\u9577\u8017\u6642 Agent \u4efb\u52d9\u7684\u95dc\u9375\u3002</li> </ul>"},{"location":"refactor/#2-agentic-system","title":"2. Agentic System \u5224\u5b9a\u8207\u63a7\u5236\u5faa\u74b0","text":"<p>\u8a72\u7cfb\u7d71\u78ba\u5c6c\u65bc Agentic System\uff0c\u4e14\u63a1\u7528\u4e86\u985e ReAct (Reasoning and Acting) \u7684\u8b8a\u9ad4\u3002</p>"},{"location":"refactor/#control-loop","title":"\u63a7\u5236\u5faa\u74b0 (Control Loop)","text":"<p>\u7cfb\u7d71\u9810\u671f\u7684\u63a7\u5236\u6d41\u5982\u4e0b\uff1a</p> <ol> <li>Thought Node: \u63a5\u6536 <code>SharedState</code>\uff0c\u751f\u6210\u63a8\u7406\u908f\u8f2f\u3002</li> <li>Action Node: \u6c7a\u5b9a\u57f7\u884c\u7684\u5de5\u5177\u6216\u5b50\u4efb\u52d9\u3002</li> <li>Observation Node: \u6355\u7372\u5de5\u5177\u57f7\u884c\u7d50\u679c\u3002</li> <li>Validate/Commit Node: \u6aa2\u67e5\u7d50\u679c\u662f\u5426\u7b26\u5408\u9810\u671f\uff0c\u82e5\u5426\u5247\u56de\u6eaf\u81f3 Thought Node\uff08\u5f62\u6210 Cyclic Graph\uff09\u3002</li> </ol>"},{"location":"refactor/#state-machine","title":"\u72c0\u614b\u6a5f (State Machine)","text":"<p>\u900f\u904e <code>graph.py</code> \u5b9a\u7fa9\u7bc0\u9ede\u9593\u7684\u8df3\u8f49\u908f\u8f2f\u3002\u76ee\u524d\u7d50\u69cb\u6697\u793a\u4e86\u4e00\u500b Persistent State Machine\uff0c\u72c0\u614b\u5132\u5b58\u65bc <code>SharedState</code> \u4e2d\uff0c\u4e26\u900f\u904e <code>CheckpointManager</code> \u5beb\u5165 SQLite \u6216\u78c1\u789f\u3002</p>"},{"location":"refactor/#3-langgraph","title":"3. \u5de5\u7a0b\u7d1a\u91cd\u69cb\u65b9\u6848\uff1a\u5c0d\u9f4a LangGraph \u67b6\u69cb","text":"<p>\u70ba\u4e86\u9054\u5230 LangGraph \u7b49\u7d1a\u7684\u5065\u58ef\u6027\uff0c\u6211\u5011\u5c07\u5f37\u5316\u4ee5\u4e0b\u4e09\u9ede\uff1a</p> <ol> <li>\u5b9a\u7fa9\u5f37\u578b\u5225 State\uff1a\u78ba\u4fdd\u7bc0\u9ede\u9593\u6578\u64da\u50b3\u905e\u7684\u7a69\u5b9a\u3002</li> <li>\u7570\u6b65\u8abf\u5ea6\u5668 (Async Scheduler)\uff1a\u63d0\u9ad8\u4e26\u767c\u8655\u7406\u80fd\u529b\u3002</li> <li>\u689d\u4ef6\u908a\u7de3 (Conditional Edges)\uff1a\u986f\u5f0f\u5316\u63a7\u5236\u6d41\u6c7a\u7b56\u908f\u8f2f\u3002</li> </ol>"},{"location":"refactor/#_1","title":"\u5c08\u6848\u6587\u4ef6\u7d50\u69cb\u8def\u5f91","text":"<p><code>Arkhon-Rheo/src/arkhon_rheo/core/</code></p> <pre><code># arkhon_rheo/core/state.py\nfrom typing import Annotated, TypedDict, Union, List, Any\nimport operator\n\nclass AgentState(TypedDict):\n    \"\"\"\n    State definition for the agentic graph.\n    Uses operator.add to handle sequence accumulation for messages.\n    \"\"\"\n    messages: Annotated[List[dict], operator.add]\n    next_step: str\n    shared_context: dict\n    is_completed: bool\n    errors: List[str]\n\n# arkhon_rheo/core/graph.py\nfrom typing import Callable, Dict, Optional\nfrom arkhon_rheo.core.state import AgentState\n\nclass Graph:\n    \"\"\"\n    An advanced execution graph inspired by LangGraph.\n    Supports nodes, edges, and conditional routing.\n    \"\"\"\n    def __init__(self):\n        self.nodes: Dict[str, Callable] = {}\n        self.edges: List[tuple] = []\n        self.conditional_edges: Dict[str, Dict[str, Callable]] = {}\n\n    def add_node(self, name: str, action: Callable):\n        self.nodes[name] = action\n\n    def add_edge(self, start_node: str, end_node: str):\n        self.edges.append((start_node, end_node))\n\n    def add_conditional_edge(self, source: str, path_map: Dict[str, str], condition: Callable):\n        \"\"\"\n        Routes the flow based on the result of the condition function.\n        \"\"\"\n        self.conditional_edges[source] = {\"map\": path_map, \"fn\": condition}\n\n# arkhon_rheo/core/runtime/scheduler.py\nimport asyncio\nfrom datetime import datetime\nimport numpy as np\nfrom arkhon_rheo.core.graph import Graph\nfrom arkhon_rheo.core.state import AgentState\n\nclass RuntimeScheduler:\n    \"\"\"\n    Asynchronous executor for the agentic graph with checkpointing support.\n    \"\"\"\n    def __init__(self, graph: Graph, checkpoint_manager: Any):\n        self.graph = graph\n        self.checkpoint_manager = checkpoint_manager\n\n    async def step(self, current_node: str, state: AgentState) -&gt; str:\n        \"\"\"\n        Execute a single node and determine the next transition.\n        \"\"\"\n        # Node execution\n        new_state_delta = await self.graph.nodes[current_node](state)\n        state.update(new_state_delta)\n\n        # Checkpoint persistence\n        timestamp = np.datetime64(datetime.now())\n        self.checkpoint_manager.save(state, timestamp)\n\n        # Routing logic\n        if current_node in self.graph.conditional_edges:\n            cond_cfg = self.graph.conditional_edges[current_node]\n            decision = cond_cfg[\"fn\"](state)\n            return cond_cfg[\"map\"][decision]\n\n        # Static routing\n        for start, end in self.graph.edges:\n            if start == current_node:\n                return end\n\n        return \"END\"\n\n    async def run(self, initial_state: AgentState, entry_point: str):\n        \"\"\"\n        Main control loop (The Engine).\n        \"\"\"\n        curr = entry_point\n        while curr != \"END\" and not initial_state.get(\"is_completed\"):\n            curr = await self.step(curr, initial_state)\n</code></pre>"},{"location":"refactor/#4-checkpointmanager","title":"4. \u91dd\u5c0d <code>CheckpointManager</code> \u7684\u5b89\u5168\u6027\u8207\u6548\u80fd\u4fee\u6b63","text":"<p>\u6839\u64da <code>meta_prompts.yaml</code>  \u7684\u8981\u6c42\uff0c\u6211\u5011\u9700\u8981\u79fb\u9664\u6f5b\u5728\u7684 <code>pickle</code> \u6f0f\u6d1e\u4e26\u512a\u5316\u4f75\u767c\u3002</p>"},{"location":"refactor/#arkhon_rheocoreruntimecheckpointpy","title":"\u4fee\u6539\u6a21\u7d44\uff1a<code>arkhon_rheo/core/runtime/checkpoint.py</code>","text":"<pre><code>--- old/checkpoint.py\n+++ new/checkpoint.py\n@@ -1,15 +1,28 @@\n-import pickle\n+import json\n+import sqlite3\n+from typing import Any, Dict\n\n class CheckpointManager:\n     def __init__(self, db_path: str):\n-        self.db_path = db_path\n+        self.conn = sqlite3.connect(db_path, check_same_thread=False)\n+        self._setup_db()\n+\n+    def _setup_db(self):\n+        with self.conn:\n+            self.conn.execute(\"\"\"\n+                CREATE TABLE IF NOT EXISTS checkpoints (\n+                    thread_id TEXT PRIMARY KEY,\n+                    data TEXT,\n+                    timestamp TEXT\n+                )\n+            \"\"\")\n\n     def save(self, state: Dict[str, Any], timestamp: Any):\n-        [cite_start]# REFACTOR: Avoid pickle for security [cite: 14]\n-        data = pickle.dumps(state)\n-        # ... storage logic\n+        \"\"\"Save state using JSON to prevent arbitrary code execution.\"\"\"\n+        serialized = json.dumps(state, default=str)\n+        with self.conn:\n+            self.conn.execute(\n+                \"INSERT OR REPLACE INTO checkpoints (thread_id, data, timestamp) VALUES (?, ?, ?)\",\n+                (state.get(\"thread_id\", \"default\"), serialized, str(timestamp))\n+            )\n</code></pre>"},{"location":"concept/KEYWORDS/","title":"KEYWORDS","text":"<p>RULES SPEC DOCUMENTS_PRIORITY ROADMAP</p> <p>DOCUMENT_STANDARDS DOCUMENT_STRUCTURE</p> <p>MVP =&gt; ITERABLE_ITERATION PLACEHOLDER =&gt; CODE_FLOW_CONTROL =&gt; AGENTIC_TOOLS =&gt; AGENTIC_SKILL =&gt; LANGCHAIN =&gt; LANGGRAPH</p> <p>SCALABILITY\uff1a     SEQUENTIAL_THINKING =&gt; PARALLEL_THINKING     CHAIN_OF_THOUGHTS =&gt; TREE_OF_THOUGHTS =&gt; GRAPH_OF_THOUGHTS     NUMERICAL_METHODS =&gt; SHOOTING_METHOD_ODE_SOLVER =&gt;</p>"},{"location":"concept/KEYWORDS/#thinking-modules-cognitive-architectures","title":"Thinking Modules: Cognitive Architectures","text":""},{"location":"concept/KEYWORDS/#1-cot-chain-of-thought","title":"1. CoT: Chain-of-Thought (\u7dda\u6027\u5e8f\u5217\u63a8\u7406)","text":"<ul> <li>Sequential-Thinking\uff1a\u5f15\u5c0e\u6a21\u578b\u5c07\u8907\u96dc\u554f\u984c\u62c6\u89e3\u70ba\u7dda\u6027\u3001\u9023\u7e8c\u7684\u908f\u8f2f\u6b65\u9a5f\u3002  </li> <li>Self-Explain\uff1a\u5728\u8f38\u51fa\u7b54\u6848\u524d\uff0c\u5f37\u5236\u57f7\u884c\u5167\u90e8\u7684\u9010\u6b65\u89e3\u91cb\uff0c\u4ee5\u6e1b\u5c11\u908f\u8f2f\u8df3\u8e8d\u3002  </li> <li>Step-by-Step Verification\uff1a\u91dd\u5c0d\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e00\u6b65\u9032\u884c\u5373\u6642\u9a57\u8b49\uff0c\u78ba\u4fdd\u63a8\u5c0e\u57fa\u790e\u7a69\u56fa\u3002</li> </ul>"},{"location":"concept/KEYWORDS/#2-tot-tree-of-thoughts","title":"2. ToT: Tree-of-Thoughts (\u591a\u8def\u5f91\u5206\u652f\u641c\u7d22)","text":"<ul> <li>Brainstorming / Seed Generation\uff1a\u91dd\u5c0d\u6838\u5fc3\u554f\u984c\u7522\u751f\u591a\u500b\u4e26\u884c\u7684\u6f5b\u5728\u89e3\u6c7a\u8def\u5f91\uff08\u601d\u8003\u5206\u652f\uff09\u3002  </li> <li>Heuristic Evaluation\uff1a\u5c0d\u5404\u500b\u5206\u652f\u7684\u300c\u53ef\u884c\u6027\u300d\u9032\u884c\u9810\u5224\u8207\u8a55\u5206\u3002  </li> <li>Backtracking\uff1a\u7576\u67d0\u4e00\u5206\u679d\u9032\u5165\u908f\u8f2f\u6b7b\u80e1\u540c\u6216\u4e0d\u7b26\u76ee\u6a19\u6642\uff0c\u56de\u6eaf\u81f3\u524d\u4e00\u7bc0\u9ede\u91cd\u65b0\u63a2\u7d22\u3002</li> </ul>"},{"location":"concept/KEYWORDS/#3-got-graph-of-thought","title":"3. GoT: Graph-of-Thought (\u975e\u7dda\u6027\u62d3\u64b2\u63a8\u7406)","text":"<ul> <li>Finite-State-Machine (FSM)\uff1a\u5c07\u63a8\u7406\u904e\u7a0b\u5b9a\u7fa9\u70ba\u4e0d\u540c\u7684\u72c0\u614b\u8f49\u79fb\uff0c\u78ba\u4fdd\u908f\u8f2f\u6d41\u8f49\u7b26\u5408\u9810\u8a2d\u898f\u5247\u3002  </li> <li>Aggregation &amp; Transformation\uff1a\u5141\u8a31\u5c07\u591a\u500b\u601d\u8003\u8def\u5f91\u7684\u512a\u9ede\u9032\u884c\u300c\u5408\u4f75\uff08Combining\uff09\u300d\u6216\u5c07\u73fe\u6709\u601d\u8003\u9ede\u300c\u8f49\u63db\uff08Transforming\uff09\u300d\u70ba\u65b0\u7bc0\u9ede\u3002  </li> <li>Reflection &amp; Self-Correction\uff1a\u5f15\u5165\u56de\u994b\u8ff4\u8def\uff0c\u900f\u904e\u6279\u5224\u6027\u5be9\u8996\uff08Critique\uff09\u5c0d\u65e2\u6709\u5716\u8b5c\u7bc0\u9ede\u9032\u884c\u4fee\u6b63\u6216\u4fee\u526a\u3002</li> </ul>"},{"location":"concept/KEYWORDS/#4-aot-algorithm-of-thoughts","title":"4. AoT: Algorithm of Thoughts (\u7b97\u6cd5\u5316\u601d\u7dad)","text":"<ul> <li>DFS/BFS Integration\uff1a\u5728\u63d0\u793a\u8a5e\u4e2d\u5d4c\u5165\u6df1\u5ea6\u512a\u5148\u6216\u5ee3\u5ea6\u512a\u5148\u641c\u7d22\u7684\u908f\u8f2f\u6846\u67b6\u3002  </li> <li>Dynamic Planning\uff1a\u6839\u64da\u4e2d\u9593\u7d50\u679c\u52d5\u614b\u8abf\u6574\u5f8c\u7e8c\u7684\u601d\u8003\u8def\u5f91\u3002</li> </ul> <p>Strategy or Processer</p> <p>\u52d5\u614b\u7cfb\u7d71\u72c0\u614b \u5b58\u91cf \u6d41\u91cf \u8a55\u4f30\u5b88\u6046\u6210\u7acb</p> <p>ENTROPY \u8cc7\u8a0a\u71b5 \u6587\u5b57\u71b5 \u5b9a\u91cf\u65b9\u6cd5 \u71b5\u589e \u8a13\u7df4\u5931\u6557 \u71b5\u6e1b \u8a13\u7df4\u6210\u529f</p> <p>\u7ba1\u7406 =&gt; \u6642\u9593\u5206\u5272 =&gt; \u91cc\u7a0b\u7891\u7dad\u5ea6 (\u6642\u9593\u76f8\u95dc-&gt;\u8fed\u4ee3-&gt;\u72c0\u614b\u6a5f) \u6280\u8853 =&gt; \u5be6\u4f5c\u5206\u5272 =&gt; \u6280\u8853\u7dad\u5ea6 (\u5e8f\u5217\u601d\u8003-&gt;OOP\u908f\u8f2f\u63a7\u5236\u6d41\u7a0b-&gt;\u51fd\u5f0f) \u89e3\u69cb\u4e3b\u7fa9 =&gt; \u5b9a\u7fa9\u4e0d\u53ef\u5206\u5272\u7684\u6700\u5c0f\u55ae\u4f4d =&gt; OOP\u985e\u5225\u7269\u4ef6\u4ee5\u4e0b\u7684\u51fd\u6578/\u65b9\u6cd5</p> <p>\u8fed\u4ee3 \u6587\u4ef6\u7522\u51fa \u6982\u5ff5 SDLC -&gt; \u516d\u6bb5\u6642\u9593\u5340\u9593 = \u6bcf\u6bb5\u6642\u9593\u5340\u9593\u7684\u6838\u5fc3\u5de5\u4f5c\u6d41\u7a0b(\u4ee5SKILLS\u70ba\u9aa8\u5e79\u7d44\u6210\u5de5\u4f5c\u6d41\u7a0b) \u6d41\u7a0b \u516d\u6bb5\u6642\u9593\u5167\u7684 \u5206\u5272 \u5de5\u5177</p>"},{"location":"concept/VISIONS/","title":"VISION","text":"<p>\u9019\u662f\u4e00\u500b\u975e\u5e38\u6e05\u6670\u7684\u8996\u89ba\u5316\u8acb\u6c42\u3002\u6839\u64da\u60a8\u63d0\u4f9b\u7684 <code>IMPLEMENTATION_GUIDE.md</code>\uff08\u4ee5\u4e0b\u7c21\u7a31 SPEC\uff09\uff0c\u6211\u5011\u53ef\u4ee5\u5c07\u5c08\u6848\u7d50\u69cb\u5206\u70ba\u300cPhase 0 \u521d\u59cb\u5316\u5b8c\u6210\u300d\u8207\u300cPhase 8 \u5168\u9762\u5b8c\u5de5\u300d\u5169\u500b\u968e\u6bb5\u3002 \u9019\u88e1\u4f7f\u7528\u6a19\u6e96\u7684 ASCII Tree \u683c\u5f0f\u4f86\u7e6a\u88fd\uff0c\u4e26\u6a19\u8a3b\u4e86 SPEC \u4e2d\u63d0\u5230\u7684\u95dc\u9375\u6a94\u6848\u3002</p>"},{"location":"concept/VISIONS/#1-phase-0","title":"1. \u5c1a\u672a\u958b\u767c\u524d\u7684\u76ee\u9304\u67b6\u69cb (Phase 0 \u5b8c\u6210\u5f8c)","text":"<p>\u9019\u662f\u57f7\u884c\u5b8c SPEC \u4e2d Phase 0: Project Initialization \u6240\u6709\u6307\u4ee4\uff08<code>uv init</code>, <code>mkdir</code>, <code>touch</code>\uff09\u5f8c\u7684\u72c0\u614b\u3002\u6b64\u6642\u53ea\u6709\u9aa8\u67b6\uff0c\u6c92\u6709\u6838\u5fc3\u908f\u8f2f\u3002</p> <pre><code>arkhon-rheo/                  # [\u5c08\u6848\u6839\u76ee\u9304]\n\u251c\u2500\u2500 .git/                     # Git \u7248\u63a7\u8cc7\u6599\u593e\n\u251c\u2500\u2500 .venv/                    # Python \u865b\u64ec\u74b0\u5883 (\u7531 uv sync \u7522\u751f)\n\u251c\u2500\u2500 arkhon_rheo/              # [\u4e3b\u8981 Python \u5957\u4ef6\u76ee\u9304]\n\u2502   \u251c\u2500\u2500 __init__.py           # \u5957\u4ef6\u5165\u53e3 (\u76ee\u524d\u70ba\u7a7a)\n\u2502   \u251c\u2500\u2500 cli/                  # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u5b58\u653e CLI \u5de5\u5177\n\u2502   \u251c\u2500\u2500 config/               # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u5b58\u653e\u8a2d\u5b9a\u8f09\u5165\u5668\n\u2502   \u251c\u2500\u2500 core/                 # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u6838\u5fc3\u72c0\u614b\u6a5f\n\u2502   \u251c\u2500\u2500 memory/               # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u8a18\u61b6\u9ad4\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 nodes/                # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u57f7\u884c\u7bc0\u9ede\n\u2502   \u251c\u2500\u2500 rules/                # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u898f\u5247\u5f15\u64ce\n\u2502   \u251c\u2500\u2500 runtime/              # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u57f7\u884c\u6642\u8207 Checkpoint\n\u2502   \u2514\u2500\u2500 tools/                # (\u7a7a\u8cc7\u6599\u593e) \u7528\u65bc\u5de5\u5177\u8a3b\u518a\n\u251c\u2500\u2500 tests/                    # [\u6e2c\u8a66\u76ee\u9304]\n\u2502   \u251c\u2500\u2500 e2e/                  # \u7aef\u5c0d\u7aef\u6e2c\u8a66\n\u2502   \u251c\u2500\u2500 integration/          # \u6574\u5408\u6e2c\u8a66\n\u2502   \u2514\u2500\u2500 unit/                 # \u55ae\u5143\u6e2c\u8a66\n\u251c\u2500\u2500 .gitignore                # Git \u5ffd\u7565\u6e05\u55ae\n\u251c\u2500\u2500 .python-version           # \u6307\u5b9a Python \u7248\u672c (\u5982 3.12)\n\u251c\u2500\u2500 pyproject.toml            # [\u6838\u5fc3\u8a2d\u5b9a\u6a94] (uv, ruff, mypy, pytest \u8a2d\u5b9a)\n\u251c\u2500\u2500 uv.lock                   # \u9396\u5b9a\u4f9d\u8cf4\u7248\u672c\n\u2514\u2500\u2500 README.md                 # \u5c08\u6848\u8aaa\u660e\u6587\u4ef6\n</code></pre>"},{"location":"concept/VISIONS/#2-phase-8","title":"2. \u5b8c\u6210\u958b\u767c\u7684\u76ee\u9304\u67b6\u69cb (Phase 8 \u5b8c\u6210\u5f8c)","text":"<p>\u9019\u662f\u57f7\u884c\u5b8c Phase 1 \u5230 Phase 8 \u6240\u6709\u958b\u767c\u6b65\u9a5f\u5f8c\u7684\u6700\u7d42\u72c0\u614b\u3002\u5305\u542b\u4e86 SPEC \u4e2d\u63d0\u5230\u7684\u6240\u6709\u985e\u5225\u5be6\u4f5c\u3001\u8a2d\u5b9a\u6a94\u8207\u6253\u5305\u7522\u7269\u3002</p> <pre><code>arkhon-rheo/\n\u251c\u2500\u2500 .git/\n\u251c\u2500\u2500 .venv/\n\u251c\u2500\u2500 arkhon_rheo/                # [\u6838\u5fc3\u539f\u59cb\u78bc]\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 cli/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 main.py             # (Phase 8) CLI Scaffolding Tool\n\u2502   \u251c\u2500\u2500 config/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 loader.py           # (Phase 4/Config) Configuration Loader\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 state.py            # (Phase 1) ReActState, ReasoningStep\n\u2502   \u2502   \u2514\u2500\u2500 graph.py            # (Phase 1) StateGraph Engine\n\u2502   \u251c\u2500\u2500 memory/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 context_window.py   # (Phase 5) Short-term memory\n\u2502   \u2502   \u2514\u2500\u2500 vector_store.py     # (Phase 5) VectorStore Abstraction\n\u2502   \u251c\u2500\u2500 nodes/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 base.py             # (Phase 2) BaseNode (Template Method)\n\u2502   \u2502   \u251c\u2500\u2500 thought_node.py     # (Phase 2) LLM Reasoning\n\u2502   \u2502   \u251c\u2500\u2500 action_node.py      # (Phase 2) Tool Execution\n\u2502   \u2502   \u251c\u2500\u2500 validate_node.py    # (Phase 2) Rule Checking\n\u2502   \u2502   \u2514\u2500\u2500 ...                 # (ObserveNode, CommitNode)\n\u2502   \u251c\u2500\u2500 rules/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 base.py             # (Phase 4) Rule Abstract Class\n\u2502   \u2502   \u2514\u2500\u2500 engine.py           # (Phase 4) RuleEngine &amp; Built-in Rules\n\u2502   \u251c\u2500\u2500 runtime/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 checkpoint.py       # (Phase 5) CheckpointManager (SQLite)\n\u2502   \u2514\u2500\u2500 tools/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 base.py             # (Phase 3) Tool Base Class &amp; Schema Gen\n\u2502       \u251c\u2500\u2500 registry.py         # (Phase 3) ToolRegistry\n\u2502       \u2514\u2500\u2500 builtin/            # (Phase 3) \u5167\u5efa\u5de5\u5177\u96c6\n\u2502           \u251c\u2500\u2500 __init__.py\n\u2502           \u251c\u2500\u2500 search.py\n\u2502           \u251c\u2500\u2500 calculator.py\n\u2502           \u2514\u2500\u2500 file_ops.py\n\u251c\u2500\u2500 config/                     # [\u5916\u90e8\u8a2d\u5b9a]\n\u2502   \u2514\u2500\u2500 default.yaml            # (Config Guide) \u9810\u8a2d YAML \u8a2d\u5b9a\u6a94\n\u251c\u2500\u2500 dist/                       # (Phase 8) \u6253\u5305\u5f8c\u7684 Wheel/Sdist \u6a94\u6848\n\u251c\u2500\u2500 docs/                       # (Phase 8) API \u6587\u4ef6 (Sphinx/MkDocs)\n\u251c\u2500\u2500 examples/                   # (Phase 8) \u7bc4\u4f8b\u7a0b\u5f0f\u78bc\n\u2502   \u2514\u2500\u2500 research_agent.py\n\u251c\u2500\u2500 tests/                      # [\u5b8c\u6574\u6e2c\u8a66\u5957\u4ef6]\n\u2502   \u251c\u2500\u2500 unit/                   # (\u6db5\u84cb Core, Nodes, Tools, Rules)\n\u2502   \u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 nodes/\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 integration/            # (Phase 6) \u5b8c\u6574 ReAct \u5faa\u74b0\u6e2c\u8a66\n\u2502   \u2514\u2500\u2500 e2e/                    # (Phase 7) \u771f\u5be6 LLM \u5834\u666f\u6e2c\u8a66\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .python-version\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 uv.lock\n\u2514\u2500\u2500 README.md                   # (Phase 8) \u66f4\u65b0\u5f8c\u7684\u4f7f\u7528\u8aaa\u660e\n</code></pre>"},{"location":"concept/VISIONS/#_1","title":"\u95dc\u9375\u5dee\u7570\u6458\u8981","text":"<ol> <li>\u6a94\u6848\u586b\u5145\uff1a\u539f\u672c\u7a7a\u7684 <code>arkhon_rheo/</code> \u5b50\u76ee\u9304\u73fe\u5728\u586b\u6eff\u4e86\u5177\u9ad4\u7684 <code>.py</code> \u5be6\u4f5c\u6a94\uff08\u5982 <code>state.py</code>, <code>thought_node.py</code>\uff09\u3002</li> <li>\u8a2d\u5b9a\u6a94\uff1a\u65b0\u589e\u4e86 <code>config/default.yaml</code> \u7528\u65bc\u63a7\u5236 Agent \u884c\u70ba\u3002</li> <li>\u767c\u5e03\u7522\u7269\uff1a\u65b0\u589e\u4e86 <code>dist/</code>\uff08\u7528\u65bc PyPI \u767c\u5e03\uff09\u3001<code>docs/</code>\uff08\u6587\u4ef6\uff09\u548c <code>examples/</code>\uff08\u7bc4\u4f8b\uff09\u3002</li> <li>\u6e2c\u8a66\u5b8c\u6574\u6027\uff1a<code>tests/</code> \u76ee\u9304\u7d50\u69cb\u6703\u96a8\u8457\u6bcf\u500b Phase \u7684 TDD \u6d41\u7a0b\u800c\u64f4\u5145\uff0c\u5c0d\u61c9\u5230\u539f\u59cb\u78bc\u7684\u6bcf\u500b\u6a21\u7d44\u3002</li> </ol>"},{"location":"examples/multi_agent/","title":"Multi-Agent Orchestration Example","text":"<p>This example demonstrates how to orchestrate multiple Arkhon-Rheo agents using LangGraph.</p>"},{"location":"examples/multi_agent/#scenario","title":"Scenario","text":"<p>We have a two-agent team:</p> <ol> <li>Researcher: Analyzes the initial query and provides raw facts.</li> <li>Writer: Takes those facts and produces a final draft.</li> </ol>"},{"location":"examples/multi_agent/#the-graph","title":"The Graph","text":"<p>The workflow is defined as a linear graph: <code>START -&gt; Research -&gt; Write -&gt; END</code>.</p>"},{"location":"examples/multi_agent/#code-walkthrough","title":"Code Walkthrough","text":"<pre><code># See examples/multi_agent_orchestration/main.py for full code\ngraph = create_orchestration_graph()\nfinal_state = await graph.ainvoke({\"messages\": [initial_msg]})\n</code></pre>"},{"location":"examples/multi_agent/#running-the-example","title":"Running the Example","text":"<pre><code>uv run examples/multi_agent_orchestration/main.py\n</code></pre>"},{"location":"examples/simple/","title":"Simple Agent Example","text":"<p>A minimal demonstration of creating and running a single Arkhon-Rheo Agent.</p>"},{"location":"examples/simple/#overview","title":"Overview","text":"<p>This example shows how to subclass the <code>Agent</code> base class and implement the <code>process_message</code> method.</p>"},{"location":"examples/simple/#code-walkthrough","title":"Code Walkthrough","text":"<pre><code>class SimpleMathAgent(Agent):\n    async def process_message(self, message: AgentMessage) -&gt; str:\n        # Custom logic goes here\n        return f\"Echoing back: {message.content}\"\n</code></pre>"},{"location":"examples/simple/#running-the-example","title":"Running the Example","text":"<pre><code>uv run examples/simple_agent/main.py\n</code></pre>"},{"location":"project/TODOLIST/","title":"TODOLIST","text":""},{"location":"project/TODOLIST/#sdlc-in-6-stages","title":"SDLC in 6 Stages","text":""},{"location":"project/TODOLIST/#_1","title":"\u7011\u5e03\u5f0f","text":"<ol> <li> <p>\u898f\u5283 (Planning) \u9019\u662f\u6700\u95dc\u9375\u7684\u57fa\u790e\u968e\u6bb5\uff0c\u958b\u767c\u5718\u968a\u8207\u5229\u5bb3\u95dc\u4fc2\u4eba\u6e9d\u901a\uff0c\u8490\u96c6\u4e26\u5b9a\u7fa9\u8edf\u9ad4\u5fc5\u9808\u5177\u5099\u7684\u529f\u80fd\u3001\u9810\u7b97\u3001\u6642\u9593\u8868\u4ee5\u53ca\u8cc7\u6e90\u5206\u914d\u3002 </p> </li> <li> <p>\u7cfb\u7d71\u8a2d\u8a08 (Design) \u5728\u6b64\u968e\u6bb5\uff0c\u67b6\u69cb\u5e2b\u6703\u6839\u64da\u9700\u6c42\u898f\u683c\uff0c\u8a2d\u8a08\u8edf\u9ad4\u7684\u6574\u9ad4\u67b6\u69cb\u3002\u9019\u5305\u62ec\u5b9a\u7fa9\u6280\u8853\u5806\u758a\u3001\u8cc7\u6599\u5eab\u7d50\u69cb\u3001\u4f7f\u7528\u8005\u4ecb\u9762 (UI) \u548c\u7cfb\u7d71\u6d41\u7a0b\uff0c\u4e26\u7522\u51fa\u8edf\u9ad4\u8a2d\u8a08\u8aaa\u660e\u66f8 (SDD)\u3002 </p> </li> <li> <p>\u7a0b\u5f0f\u958b\u767c\u8207\u5be6\u4f5c (Development / Implementation) \u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u958b\u59cb\u7de8\u5beb\u7a0b\u5f0f\u78bc\uff0c\u5c07\u8a2d\u8a08\u5716\u8f49\u5316\u70ba\u5be6\u969b\u53ef\u904b\u4f5c\u7684\u8edf\u9ad4\u6a21\u7d44\u3002\u9019\u662f\u6574\u500b\u9031\u671f\u4e2d\u5de5\u4f5c\u91cf\u6700\u5bc6\u96c6\u7684\u968e\u6bb5\u3002 </p> </li> <li> <p>\u6e2c\u8a66 (Testing) \u54c1\u8cea\u4fdd\u8b49 (QA) \u5718\u968a\u5c0d\u8edf\u9ad4\u9032\u884c\u56b4\u683c\u6aa2\u67e5\uff0c\u5305\u542b\u55ae\u5143\u6e2c\u8a66\u3001\u6574\u5408\u6e2c\u8a66\u53ca\u9a57\u6536\u6e2c\u8a66\u3002\u76ee\u6a19\u662f\u627e\u51fa\u4e26\u4fee\u6b63\u932f\u8aa4 (Bugs)\uff0c\u78ba\u4fdd\u8edf\u9ad4\u7a69\u5b9a\u4e14\u7b26\u5408\u9700\u6c42\u3002 </p> </li> <li> <p>\u90e8\u7f72 (Deployment) \u7576\u8edf\u9ad4\u7d93\u904e\u6e2c\u8a66\u4e26\u6392\u9664\u91cd\u5927\u554f\u984c\u5f8c\uff0c\u6703\u6b63\u5f0f\u767c\u4f48\u5230\u751f\u7522\u74b0\u5883\uff08\u5982\u96f2\u7aef\u4f3a\u670d\u5668\u6216\u61c9\u7528\u7a0b\u5f0f\u5546\u5e97\uff09\uff0c\u4f9b\u6700\u7d42\u4f7f\u7528\u8005\u4f7f\u7528\u3002 </p> </li> <li> <p>\u7dad\u904b\u8207\u512a\u5316 (Maintenance) \u8edf\u9ad4\u4e0a\u7dda\u5f8c\u7684\u9577\u671f\u968e\u6bb5\u3002\u5718\u968a\u6703\u6839\u64da\u4f7f\u7528\u8005\u56de\u994b\u9032\u884c\u932f\u8aa4\u4fee\u5fa9\u3001\u6548\u80fd\u512a\u5316\uff0c\u4e26\u96a8\u8457\u74b0\u5883\u8b8a\u5316\u9032\u884c\u7cfb\u7d71\u66f4\u65b0\uff0c\u4ee5\u78ba\u4fdd\u8edf\u9ad4\u7684\u9577\u671f\u50f9\u503c\u3002</p> </li> </ol>"},{"location":"project/TODOLIST/#waterfall","title":"Waterfall","text":"<p>\u968e\u6bb5    Waterfall \u5be6\u8e10\u65b9\u5f0f 1. \u898f\u5283 [LLM] 2. \u8a2d\u8a08 [LLM] 3. \u958b\u767c [LLM] 4. \u6e2c\u8a66 [LLM] 5. \u90e8\u7f72 [LLM] 6. \u7dad\u904b [LLM]</p>"},{"location":"project/TODOLIST/#agile","title":"Agile","text":"<p>\u968e\u6bb5  Agile \u5be6\u8e10\u65b9\u5f0f 1. \u898f\u5283   Sprint Planning\uff1a\u6bcf\u5169\u9031\u6c7a\u5b9a\u4e00\u6b21\u8981\u505a\u7684\u529f\u80fd\uff0c\u800c\u975e\u4e00\u6b21\u898f\u5283\u6574\u5e74\u7684\u9700\u6c42\u3002 2. \u8a2d\u8a08   \u6301\u7e8c\u8a2d\u8a08\uff1a\u53ea\u91dd\u5c0d\u7576\u524d\u8981\u505a\u7684\u529f\u80fd\u9032\u884c\u8db3\u5920\u7684\u8a2d\u8a08\uff08Just-Enough Design\uff09\u3002 3. \u958b\u767c   \u6bcf\u65e5\u7ad9\u6703 (Daily Stand-up)\uff1a\u6bcf\u5929\u540c\u6b65\u9032\u5ea6\uff0c\u78ba\u4fdd\u958b\u767c\u65b9\u5411\u6b63\u78ba\u3002 4. \u6e2c\u8a66   \u81ea\u52d5\u5316\u6e2c\u8a66 &amp; CI/CD\uff1a\u7a0b\u5f0f\u78bc\u4e00\u5beb\u5b8c\u5c31\u81ea\u52d5\u8dd1\u6e2c\u8a66\uff0c\u78ba\u4fdd\u96a8\u6642\u53ef\u4ea4\u4ed8\u3002 5. \u90e8\u7f72   \u6301\u7e8c\u4ea4\u4ed8\uff1a\u6bcf\u500b Sprint \u7d50\u675f\u5f8c\uff0c\u90fd\u6709\u4e00\u500b\u300c\u53ef\u904b\u4f5c\u7684\u8edf\u9ad4\u589e\u91cf\u300d\u53ef\u4ee5\u5c55\u793a\u6216\u4e0a\u7dda\u3002 6. \u7dad\u904b   \u56de\u9867\u6703\u8b70 (Retrospective)\uff1a\u6bcf\u500b\u5faa\u74b0\u7d50\u675f\u5f8c\u6aa2\u8a0e\u6d41\u7a0b\u4e26\u5373\u6642\u512a\u5316\u3002</p>"},{"location":"project/TODOLIST/#spiral-model","title":"\u87ba\u65cb\u6a21\u578b (Spiral Model)","text":"<p>\u968e\u6bb5    [TITLE] \u5be6\u8e10\u65b9\u5f0f 1. \u898f\u5283 [LLM] 2. \u8a2d\u8a08 [LLM] 3. \u958b\u767c [LLM] 4. \u6e2c\u8a66 [LLM] 5. \u90e8\u7f72 [LLM] 6. \u7dad\u904b [LLM]</p>"},{"location":"project/TODOLIST/#v-v-model","title":"V \u6a21\u578b (V-Model)","text":"<p>\u968e\u6bb5    V-Model \u5be6\u8e10\u65b9\u5f0f 1. \u898f\u5283 [LLM] 2. \u8a2d\u8a08 [LLM] 3. \u958b\u767c [LLM] 4. \u6e2c\u8a66 [LLM] 5. \u90e8\u7f72 [LLM] 6. \u7dad\u904b [LLM]</p>"},{"location":"project/TODOLIST/#incremental-model","title":"\u589e\u91cf\u6a21\u578b (Incremental Model)","text":"<p>\u968e\u6bb5    Incremental Model \u5be6\u8e10\u65b9\u5f0f 1. \u898f\u5283 [LLM] 2. \u8a2d\u8a08 [LLM] 3. \u958b\u767c [LLM] 4. \u6e2c\u8a66 [LLM] 5. \u90e8\u7f72 [LLM] 6. \u7dad\u904b [LLM]</p> <ol> <li>\u6642\u9593\u8ef8\u8207\u91cc\u7a0b\u7891\u7e3d\u89bd\u8868\u683c \u5c55\u793a\u56db\u500b\u968e\u6bb5\u7684\u5b8c\u6574\u8cc7\u8a0a\uff1a</li> </ol> <p>PHASE 1 (Foundation): 4 \u500b\u91cc\u7a0b\u7891\uff08M1.1-M1.4\uff09 PHASE 2 (Multi-Agent): 3 \u500b\u91cc\u7a0b\u7891\uff08M2.1-M2.3\uff09 PHASE 3 (Memory Systems): 3 \u500b\u91cc\u7a0b\u7891\uff08M3.1-M3.3\uff09 PHASE 4 (Framework Release): 2 \u500b\u91cc\u7a0b\u7891\uff08M4.1-M4.2\uff09 2. \u7d2f\u7a4d\u6e2c\u8a66\u6a19\u6e96 \u6bcf\u500b PHASE \u7684\u6e2c\u8a66\u6a19\u6e96\u90fd\u63a1\u7528\u7d2f\u7a4d\u5236\uff1a</p> <p>P1: \u57fa\u790e\u6e2c\u8a66\uff0890%+ \u8986\u84cb\u7387\u3001mypy --strict\u3001\u55ae\u4ee3\u7406\u5faa\u74b0\uff09 P2: \u7e7c\u627f P1 + \u591a\u4ee3\u7406\u5354\u4f5c\u6e2c\u8a66 P3: \u7e7c\u627f P1+P2 + \u8a18\u61b6\u7cfb\u7d71\u6e2c\u8a66 P4: \u7e7c\u627f P1+P2+P3 + \u6253\u5305\u8207\u6587\u4ef6\u6e2c\u8a66 3. \u5404\u968e\u6bb5\u8a73\u7d30\u6e2c\u8a66\u6a19\u6e96 \u4f7f\u7528 YAML \u683c\u5f0f\u6e05\u695a\u8aaa\u660e\uff1a</p> <p>\u7e7c\u627f\u7684\u6e2c\u8a66\u9805\u76ee\uff08inherited_from_*\uff09 \u65b0\u589e\u7684\u6e2c\u8a66\u9700\u6c42\uff08additional_requirements\uff09 \u9000\u51fa\u6a19\u6e96\uff08exit_criteria\uff09 \u9019\u6a23\u7684\u7d50\u69cb\u78ba\u4fdd\uff1a \u2705 \u6bcf\u500b\u968e\u6bb5\u90fd\u6709\u660e\u78ba\u7684\u91cc\u7a0b\u7891 \u2705 \u6e2c\u8a66\u6a19\u6e96\u8d8a\u4f86\u8d8a\u56b4\u683c\uff08\u7d2f\u7a4d\u5236\uff09 \u2705 \u6700\u5f8c\u968e\u6bb5\u5fc5\u9808\u901a\u904e\u524d\u4e09\u500b\u968e\u6bb5\u7684\u6240\u6709\u6e2c\u8a66</p>"},{"location":"reference/","title":"API Reference","text":"<p>Note: Detailed API reference is under construction. Please refer to individual module docstrings for now.</p>"},{"location":"reference/#core-modules","title":"Core Modules","text":"<ul> <li>Agent</li> <li>Message</li> <li>Graph</li> </ul>"},{"location":"setup/DEPENDENCIES/","title":"Arkhon-Rheo \u74b0\u5883\u4f9d\u8cf4\u6e05\u55ae","text":"<p>\u7248\u672c: 1.0.0 \u66f4\u65b0\u65e5\u671f: 2026-02-15 \u5c08\u6848\u7d50\u69cb: \u6241\u5e73\u67b6\u69cb</p>"},{"location":"setup/DEPENDENCIES/#_1","title":"\ud83d\udccb \u6982\u8ff0","text":"<p>\u672c\u6587\u4ef6\u8a18\u9304 Arkhon-Rheo \u5c08\u6848\u7684\u5b8c\u6574\u74b0\u5883\u4f9d\u8cf4\uff0c\u5305\u542b\u6838\u5fc3\u4f9d\u8cf4\u3001\u958b\u767c\u5de5\u5177\u93c8\u3001\u57fa\u790e\u8a2d\u65bd\u7d44\u4ef6\u53ca\u5176\u914d\u7f6e\u5efa\u8b70\u3002</p> <p>\u5957\u4ef6\u7ba1\u7406: \u4f7f\u7528 uv - Astral \u7684\u6975\u901f Python \u5957\u4ef6\u7ba1\u7406\u5668</p>"},{"location":"setup/DEPENDENCIES/#python","title":"\ud83d\udc0d Python \u74b0\u5883\u9700\u6c42","text":"\u9805\u76ee \u7248\u672c \u8aaa\u660e Python <code>&gt;=3.12</code> \u9700\u8981 PEP 695 \u985e\u578b\u63d0\u793a\u652f\u63f4 uv latest \u5957\u4ef6\u7ba1\u7406\u5668\u548c\u865b\u64ec\u74b0\u5883\u5de5\u5177"},{"location":"setup/DEPENDENCIES/#python-312","title":"\u5b89\u88dd Python 3.12+","text":"<pre><code># macOS (\u4f7f\u7528 Homebrew)\nbrew install python@3.12\n\n# Ubuntu/Debian\nsudo apt install python3.12 python3.12-venv\n\n# \u6216\u4f7f\u7528 pyenv\npyenv install 3.12.0\npyenv local 3.12.0\n</code></pre>"},{"location":"setup/DEPENDENCIES/#uv","title":"\u5b89\u88dd uv","text":"<pre><code># macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# \u6216\u4f7f\u7528 pip\npip install uv\n\n# \u9a57\u8b49\u5b89\u88dd\nuv --version\n</code></pre>"},{"location":"setup/DEPENDENCIES/#runtime-dependencies","title":"\ud83d\udce6 \u6838\u5fc3\u4f9d\u8cf4 (Runtime Dependencies)","text":""},{"location":"setup/DEPENDENCIES/#1-aillm","title":"1. AI/LLM \u6574\u5408","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>google-genai</code> Google Gemini API SDK <code>&gt;=0.3.0</code> <pre><code>uv add google-genai\n</code></pre> <p>\u914d\u7f6e: \u9700\u8981\u8a2d\u7f6e <code>GEMINI_API_KEY</code> \u74b0\u5883\u8b8a\u6578</p>"},{"location":"setup/DEPENDENCIES/#2","title":"2. \u914d\u7f6e\u8207\u9a57\u8b49","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>pydantic</code> \u8cc7\u6599\u9a57\u8b49\u548c\u8a2d\u5b9a\u7ba1\u7406 <code>&gt;=2.0</code> <code>pyyaml</code> YAML \u914d\u7f6e\u89e3\u6790 <code>&gt;=6.0</code> <pre><code>uv add \"pydantic&gt;=2.0\" \"pyyaml&gt;=6.0\"\n</code></pre>"},{"location":"setup/DEPENDENCIES/#3","title":"3. \u8cc7\u6599\u6301\u4e45\u5316","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 Python \u5167\u5efa <code>sqlite3</code> Checkpoint \u5132\u5b58 \u96a8 Python \u63d0\u4f9b <p>\u8aaa\u660e: SQLite \u662f Python \u6a19\u6e96\u5eab\u7684\u4e00\u90e8\u5206\uff0c\u7121\u9700\u984d\u5916\u5b89\u88dd</p>"},{"location":"setup/DEPENDENCIES/#4","title":"4. \u65e5\u8a8c\u8207\u53ef\u89c0\u6e2c\u6027","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>structlog</code> \u7d50\u69cb\u5316\u65e5\u8a8c\u8a18\u9304 <code>&gt;=24.0</code> <pre><code>uv add \"structlog&gt;=24.0\"\n</code></pre>"},{"location":"setup/DEPENDENCIES/#5-metrics","title":"5. Metrics (\u53ef\u9078)","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>prometheus-client</code> Prometheus metrics \u532f\u51fa latest <pre><code>uv add prometheus-client  # \u53ef\u9078\n</code></pre>"},{"location":"setup/DEPENDENCIES/#development-dependencies","title":"\ud83d\udee0\ufe0f \u958b\u767c\u5de5\u5177\u93c8 (Development Dependencies)","text":""},{"location":"setup/DEPENDENCIES/#1","title":"1. \u6e2c\u8a66\u6846\u67b6","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>pytest</code> \u6e2c\u8a66\u6846\u67b6 <code>&gt;=8.0</code> <code>pytest-cov</code> \u6e2c\u8a66\u8986\u84cb\u7387 latest <code>pytest-asyncio</code> \u975e\u540c\u6b65\u6e2c\u8a66\u652f\u63f4 latest <pre><code>uv add --dev pytest pytest-cov pytest-asyncio\n</code></pre>"},{"location":"setup/DEPENDENCIES/#2_1","title":"2. \u7a0b\u5f0f\u78bc\u54c1\u8cea","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>ruff</code> \u6975\u901f Linter + Formatter <code>&gt;=0.8.0</code> <code>ty</code> \u985e\u578b\u6aa2\u67e5\u5668 latest <code>radon</code> \u7a0b\u5f0f\u78bc\u8907\u96dc\u5ea6\u5206\u6790 latest <pre><code>uv add --dev ruff ty radon\n</code></pre> <p>\u4f7f\u7528\u65b9\u5f0f:</p> <pre><code># Ruff - Linting \u548c\u683c\u5f0f\u5316\nruff check .\nruff format .\n\n# ty - \u985e\u578b\u6aa2\u67e5\nty check src/\n\n# Radon - \u8907\u96dc\u5ea6\u5206\u6790\nradon cc src/ -a  # Cyclomatic Complexity\nradon mi src/     # Maintainability Index\n</code></pre>"},{"location":"setup/DEPENDENCIES/#3_1","title":"3. \u6587\u4ef6\u751f\u6210","text":"\u5957\u4ef6 \u7528\u9014 \u7248\u672c\u5efa\u8b70 <code>mkdocs</code> \u6587\u4ef6\u7db2\u7ad9\u751f\u6210 latest <code>mkdocs-material</code> Material \u4e3b\u984c latest <pre><code>uv add --dev mkdocs mkdocs-material\n</code></pre>"},{"location":"setup/DEPENDENCIES/#pyprojecttoml","title":"\u2699\ufe0f pyproject.toml \u914d\u7f6e\u5efa\u8b70","text":""},{"location":"setup/DEPENDENCIES/#_2","title":"\u5b8c\u6574\u914d\u7f6e\u7bc4\u4f8b","text":"<pre><code>[project]\nname = \"arkhon-rheo\"\nversion = \"0.1.0\"\ndescription = \"Deterministic AI Workflow Engine with State Machine Architecture\"\nreadme = \"README.md\"\nrequires-python = \"&gt;=3.12\"\nlicense = { text = \"MIT\" }\nauthors = [\n    { name = \"Your Name\", email = \"your.email@example.com\" }\n]\n\ndependencies = [\n    \"google-genai&gt;=0.3.0\",\n    \"pydantic&gt;=2.0\",\n    \"pyyaml&gt;=6.0\",\n    \"structlog&gt;=24.0\",\n]\n\n[project.optional-dependencies]\ndev = [\n    \"pytest&gt;=8.0\",\n    \"pytest-cov\",\n    \"pytest-asyncio\",\n    \"ruff&gt;=0.8.0\",\n    \"ty\",\n    \"radon\",\n    \"mkdocs\",\n    \"mkdocs-material\",\n]\nmetrics = [\n    \"prometheus-client\",\n]\n\n[build-system]\nrequires = [\"hatchling\"]\nbuild-backend = \"hatchling.build\"\n\n# ===== Ruff \u914d\u7f6e =====\n[tool.ruff]\nline-length = 100\ntarget-version = \"py312\"\n\n[tool.ruff.lint]\nselect = [\n    \"E\",   # pycodestyle errors\n    \"W\",   # pycodestyle warnings\n    \"F\",   # pyflakes\n    \"I\",   # isort\n    \"N\",   # pep8-naming\n    \"UP\",  # pyupgrade\n    \"B\",   # flake8-bugbear\n    \"C4\",  # flake8-comprehensions\n]\nignore = [\n    \"E501\",  # line-too-long (handled by formatter)\n]\n\n[tool.ruff.format]\nquote-style = \"double\"\nindent-style = \"space\"\n\n# ===== Pytest \u914d\u7f6e =====\n[tool.pytest.ini_options]\ntestpaths = [\"tests\"]\npython_files = [\"test_*.py\"]\npython_classes = [\"Test*\"]\npython_functions = [\"test_*\"]\naddopts = [\n    \"-v\",\n    \"--cov=src\",\n    \"--cov-report=term-missing\",\n    \"--cov-report=html\",\n]\n\n# ===== Coverage \u914d\u7f6e =====\n[tool.coverage.run]\nsource = [\"src\"]\nomit = [\n    \"*/tests/*\",\n    \"*/__pycache__/*\",\n]\n\n[tool.coverage.report]\nexclude_lines = [\n    \"pragma: no cover\",\n    \"def __repr__\",\n    \"raise AssertionError\",\n    \"raise NotImplementedError\",\n    \"if __name__ == .__main__.:\",\n]\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_3","title":"\ud83d\ude80 \u5feb\u901f\u958b\u59cb","text":""},{"location":"setup/DEPENDENCIES/#1_1","title":"1. \u5efa\u7acb\u865b\u64ec\u74b0\u5883\u4e26\u5b89\u88dd\u4f9d\u8cf4","text":"<pre><code># \u9032\u5165\u5c08\u6848\u76ee\u9304\ncd /wk2/yaochu/github/arkhon-rheo\n\n# \u4f7f\u7528 uv \u5efa\u7acb\u865b\u64ec\u74b0\u5883\u4e26\u5b89\u88dd\u4f9d\u8cf4\nuv venv\nsource .venv/bin/activate  # Linux/macOS\n# .venv\\Scripts\\activate   # Windows\n\n# \u5b89\u88dd\u5c08\u6848\uff08\u5305\u542b\u958b\u767c\u4f9d\u8cf4\uff09\nuv pip install -e \".[dev]\"\n</code></pre>"},{"location":"setup/DEPENDENCIES/#2_2","title":"2. \u9a57\u8b49\u5b89\u88dd","text":"<pre><code># \u6aa2\u67e5 Python \u7248\u672c\npython --version  # \u61c9\u8a72 &gt;= 3.12\n\n# \u6aa2\u67e5\u5de5\u5177\nruff --version\nty --version\npytest --version\nradon --version\n\n# \u57f7\u884c\u6e2c\u8a66\uff08\u5982\u679c\u6709\uff09\npytest\n\n# \u57f7\u884c Linter\nruff check .\n\n# \u985e\u578b\u6aa2\u67e5\nty check src/\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_4","title":"\ud83d\udcc1 \u5c08\u6848\u7d50\u69cb\u8aaa\u660e\uff08\u6241\u5e73\u67b6\u69cb\uff09","text":"<pre><code>arkhon-rheo/\n\u251c\u2500\u2500 .venv/                  # uv \u865b\u64ec\u74b0\u5883\n\u251c\u2500\u2500 .agent/                 # Agent \u914d\u7f6e\u548c skills\n\u2502   \u251c\u2500\u2500 skills/\n\u2502   \u251c\u2500\u2500 workflows/\n\u2502   \u2514\u2500\u2500 skill*.{json,yaml}\n\u251c\u2500\u2500 docs/                   # \u6587\u4ef6\u76ee\u9304\n\u251c\u2500\u2500 repos/                  # \u5f85\u8a55\u4f30\u5c08\u6848\n\u251c\u2500\u2500 research/               # \u7814\u7a76\u6587\u4ef6\n\u251c\u2500\u2500 src/                    # \u672a\u4f86\u53ef\u80fd\u7684\u6e90\u78bc\u76ee\u9304\uff08\u76ee\u524d\u672a\u4f7f\u7528\uff09\n\u251c\u2500\u2500 tests/                  # \u6e2c\u8a66\u76ee\u9304\uff08\u672a\u4f86\uff09\n\u251c\u2500\u2500 pyproject.toml          # \u5c08\u6848\u914d\u7f6e\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 IMPLEMENTATION_GUIDE.md\n</code></pre> <p>\u6ce8\u610f: \u76ee\u524d\u5c08\u6848\u63a1\u7528\u6241\u5e73\u67b6\u69cb\uff0c\u4e3b\u8981\u6587\u4ef6\u4f4d\u65bc\u6839\u76ee\u9304\u548c <code>docs/</code>, <code>.agent/</code> \u7b49\u9802\u5c64\u76ee\u9304\u4e0b\u3002</p>"},{"location":"setup/DEPENDENCIES/#_5","title":"\ud83d\udd27 \u984d\u5916\u5de5\u5177\u5efa\u8b70","text":""},{"location":"setup/DEPENDENCIES/#git-hooks-pre-commit","title":"Git Hooks (pre-commit)","text":"<p>\u5efa\u8b70\u4f7f\u7528 <code>pre-commit</code> \u78ba\u4fdd\u7a0b\u5f0f\u78bc\u54c1\u8cea\uff1a</p> <pre><code>uv add --dev pre-commit\n\n# \u5efa\u7acb .pre-commit-config.yaml\ncat &gt; .pre-commit-config.yaml &lt;&lt; 'EOF'\nrepos:\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    rev: v0.8.0\n    hooks:\n      - id: ruff\n        args: [--fix]\n      - id: ruff-format\nEOF\n\n# \u5b89\u88dd hooks\npre-commit install\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_6","title":"\u74b0\u5883\u8b8a\u6578\u7ba1\u7406","text":"<p>\u5efa\u8b70\u4f7f\u7528 <code>.env</code> \u6587\u4ef6\u7ba1\u7406\u654f\u611f\u8cc7\u8a0a\uff1a</p> <pre><code># .env.example\nGEMINI_API_KEY=your_api_key_here\nARKHON_RHEO_ENV=development\nARKHON_RHEO_LOG_LEVEL=DEBUG\n</code></pre> <p>\u4f7f\u7528 <code>python-dotenv</code> \u8f09\u5165\uff1a</p> <pre><code>uv add python-dotenv\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_7","title":"\ud83d\udcca \u7a0b\u5f0f\u78bc\u54c1\u8cea\u6a19\u6e96","text":""},{"location":"setup/DEPENDENCIES/#oop","title":"OOP \u51fd\u6578\u898f\u7bc4","text":"<p>\u6839\u64da\u5c08\u6848\u8981\u6c42\uff0c\u55ae\u4e00\u51fd\u6578/\u65b9\u6cd5\u7684\u7a0b\u5f0f\u78bc\u884c\u6578\uff08\u4e0d\u8a08\u7a7a\u884c\u3001\u4e0d\u8a08 Docstring\uff09\u61c9\uff1a</p> <ul> <li>\u6700\u5927\u9577\u5ea6: \u2264 400 \u884c\u7d14\u4ee3\u78bc</li> <li>\u5efa\u8b70\u9577\u5ea6: \u2264 100 \u884c</li> <li>\u8907\u96dc\u5ea6: Cyclomatic Complexity \u2264 10\uff08\u4f7f\u7528 radon \u6aa2\u67e5\uff09</li> </ul> <p>\u6aa2\u67e5\u65b9\u5f0f:</p> <pre><code># \u4f7f\u7528 radon \u6aa2\u67e5\u8907\u96dc\u5ea6\nradon cc src/ -a -nc  # -a: \u5e73\u5747\u503c, -nc: \u4e0d\u986f\u793a C \u7d1a\nradon mi src/         # Maintainability Index\n\n# \u51fd\u6578\u884c\u6578\u6aa2\u67e5 (\u81ea\u5b9a\u7fa9)\n# \u53ef\u4ee5\u5beb\u4e00\u500b\u7c21\u55ae\u8173\u672c\u6aa2\u67e5\u6bcf\u500b\u51fd\u6578\u7684 LOC\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_8","title":"\ud83d\udd04 \u4f9d\u8cf4\u66f4\u65b0","text":""},{"location":"setup/DEPENDENCIES/#uv_1","title":"\u4f7f\u7528 uv \u7ba1\u7406\u4f9d\u8cf4","text":"<pre><code># \u67e5\u770b\u904e\u6642\u7684\u5957\u4ef6\nuv pip list --outdated\n\n# \u66f4\u65b0\u55ae\u4e00\u5957\u4ef6\nuv add package-name --upgrade\n\n# \u66f4\u65b0\u6240\u6709\u5957\u4ef6\uff08\u8b39\u614e\u4f7f\u7528\uff09\nuv pip install --upgrade -e \".[dev]\"\n\n# \u9396\u5b9a\u4f9d\u8cf4\u7248\u672c\uff08\u751f\u6210 uv.lock\uff09\nuv pip freeze &gt; requirements.txt\n</code></pre>"},{"location":"setup/DEPENDENCIES/#_9","title":"\ud83d\udcda \u53c3\u8003\u6587\u4ef6","text":"<ul> <li>uv \u5b98\u65b9\u6587\u4ef6</li> <li>Ruff \u6587\u4ef6</li> <li>Pydantic \u6587\u4ef6</li> <li>Google GenAI SDK</li> <li>Pytest \u6587\u4ef6</li> </ul> <p>\u7dad\u8b77\u8005: [Your Team] \u6700\u5f8c\u66f4\u65b0: 2026-02-15</p>"},{"location":"system/IMPLEMENTATION_GUIDE/","title":"\u5efa\u69cbAI\u4ee3\u7406\u4eba\u7cfb\u7d71 [AI-Agentic System]","text":"<p>\u6839\u64da\u63d0\u4f9b\u7684\u8cc7\u6e90\uff0c\u5efa\u69cb\u4e00\u500b\u7a69\u5065\u4e14\u751f\u7522\u7d1a\u7684\u4ee3\u7406\u4eba\u7cfb\u7d71\uff08Agent System\uff09\u4e26\u975e\u55ae\u4e00\u6280\u80fd\u53ef\u4ee5\u5b8c\u6210\uff0c\u800c\u662f\u9700\u8981\u7d50\u5408\u67b6\u69cb\u8a2d\u8a08\u3001\u6838\u5fc3\u7d44\u4ef6\u69cb\u5efa\u3001\u5de5\u4f5c\u6d41\u7a0b\u7de8\u6392\u4ee5\u53ca\u8a55\u4f30\u6e2c\u8a66\u7b49\u591a\u500b\u7dad\u5ea6\u7684\u6280\u80fd\u3002</p> <p>\u4ee5\u4e0b\u662f\u6839\u64da\u300cAntigravity Agentic Skills Directory\u300d\u6574\u7406\u51fa\u6700\u9069\u5408\u5efa\u69cb\u4ee3\u7406\u4eba\u7cfb\u7d71\u7684\u6280\u80fd\u7d44\u5408\u5efa\u8b70\uff1a</p>"},{"location":"system/IMPLEMENTATION_GUIDE/#1-the-brain-blueprint","title":"1. \u6838\u5fc3\u67b6\u69cb\u8207\u8a2d\u8a08 (The Brain &amp; Blueprint)","text":"<p>\u9019\u90e8\u5206\u6c7a\u5b9a\u4e86\u4ee3\u7406\u4eba\u5982\u4f55\u601d\u8003\u3001\u898f\u5283\u4ee5\u53ca\u7cfb\u7d71\u7684\u6574\u9ad4\u85cd\u5716\u3002</p> <ul> <li><code>ai-agents-architect</code>\uff1a\u9019\u662f\u6700\u6838\u5fc3\u7684\u6280\u80fd\u3002\u8ca0\u8cac\u81ea\u4e3b\u4ee3\u7406\u7684\u7e3d\u9ad4\u8a2d\u8a08\uff0c\u7cbe\u901a\u5de5\u5177\u4f7f\u7528\u3001\u8a18\u61b6\u9ad4\u7cfb\u7d71\u3001\u898f\u5283\u7b56\u7565\u4ee5\u53ca\u591a\u4ee3\u7406\u7de8\u6392\u3002</li> <li><code>autonomous-agents</code>\uff1a\u5c08\u6ce8\u65bc\u4ee3\u7406\u7684\u5167\u90e8\u5faa\u74b0\uff08\u5982 ReAct\u3001Plan-Execute \u5faa\u74b0\uff09\u548c\u76ee\u6a19\u5206\u89e3\u3002\u6b64\u6280\u80fd\u5f37\u8abf\u300c\u53ef\u9760\u6027\u300d\uff0c\u89e3\u6c7a\u932f\u8aa4\u7d2f\u7a4d\u6703\u5c0e\u81f4\u4ee3\u7406\u5931\u6557\u7684\u554f\u984c\u3002</li> <li><code>multi-agent-patterns</code>\uff1a\u5982\u679c\u60a8\u7684\u7cfb\u7d71\u6d89\u53ca\u591a\u500b\u4ee3\u7406\u5354\u4f5c\uff0c\u6b64\u6280\u80fd\u6db5\u84cb\u4e3b\u7de8\u6392\u5668 (Master Orchestrator)\u3001\u9ede\u5c0d\u9ede (P2P) \u548c\u5206\u5c64\u67b6\u69cb\u7684\u8a2d\u8a08\u6a21\u5f0f\u3002</li> </ul>"},{"location":"system/IMPLEMENTATION_GUIDE/#2-the-skeleton","title":"2. \u958b\u767c\u6846\u67b6\u8207\u5be6\u4f5c (The Skeleton)","text":"<p>\u9078\u64c7\u6b63\u78ba\u7684\u6846\u67b6\u4f86\u843d\u5be6\u8a2d\u8a08\u3002</p> <ul> <li><code>langgraph</code>\uff1a\u76ee\u524d\u88ab\u63a8\u85a6\u70ba\u5efa\u69cb\u300c\u6709\u72c0\u614b\u300d\uff08Stateful\uff09\u3001\u591a\u53c3\u8207\u8005 AI \u61c9\u7528\u7684\u751f\u7522\u7d1a\u6846\u67b6\u3002\u5b83\u652f\u63f4\u5faa\u74b0\uff08Loops\uff09\u3001\u5206\u652f\u548c\u6301\u4e45\u5316\uff0c\u662f\u5c07\u4ee3\u7406\u5f9e\u7c21\u55ae\u8173\u672c\u8f49\u5316\u70ba\u8907\u96dc\u61c9\u7528\u7684\u95dc\u9375\u3002</li> <li><code>langchain-architecture</code>\uff1a\u7528\u65bc\u8a2d\u8a08\u4ee3\u7406\u67b6\u69cb\u7684\u901a\u7528\u6a21\u5f0f\uff0c\u6574\u5408\u4ee3\u7406\u3001\u8a18\u61b6\u9ad4\u548c\u5de5\u5177\u3002</li> <li><code>ai-engineer</code>\uff1a\u8ca0\u8cac\u5c07\u9019\u4e9b\u8a2d\u8a08\u8f49\u5316\u70ba\u751f\u7522\u7d1a\u4ee3\u78bc\uff0c\u6574\u5408\u5411\u91cf\u641c\u5c0b\u548c\u591a\u6a21\u614b\u80fd\u529b\u3002</li> </ul>"},{"location":"system/IMPLEMENTATION_GUIDE/#3-the-memory","title":"3. \u8a18\u61b6\u8207\u4e0a\u4e0b\u6587\u7ba1\u7406 (The Memory)","text":"<p>\u6c92\u6709\u8a18\u61b6\u7684\u4ee3\u7406\u6bcf\u6b21\u4e92\u52d5\u90fd\u6703\u6b78\u96f6\uff0c\u7121\u6cd5\u8655\u7406\u8907\u96dc\u4efb\u52d9\u3002</p> <ul> <li><code>agent-memory-systems</code>\uff1a\u9019\u662f\u667a\u6167\u9ad4\u7684\u57fa\u77f3\u3002\u6db5\u84cb\u77ed\u671f\u8a18\u61b6\uff08\u4e0a\u4e0b\u6587\u8996\u7a97\uff09\u8207\u9577\u671f\u8a18\u61b6\uff08\u5411\u91cf\u5132\u5b58\uff09\u7684\u67b6\u69cb\uff0c\u4ee5\u53ca\u6c7a\u5b9a\u4ee3\u7406\u300c\u8a18\u4f4f\u6216\u907a\u5fd8\u300d\u7684\u6aa2\u7d22\u7b56\u7565\u3002</li> <li><code>context-manager</code>\uff1a\u8ca0\u8cac\u52d5\u614b\u7ba1\u7406\u4e0a\u4e0b\u6587\uff0c\u78ba\u4fdd\u5728\u591a\u4ee3\u7406\u5de5\u4f5c\u6d41\u7a0b\u548c\u9577\u671f\u5c08\u6848\u4e2d\uff0c\u8cc7\u8a0a\u6d41\u4e0d\u6703\u4e2d\u65b7\u6216\u300c\u8150\u721b\u300d\u3002</li> <li><code>context-window-management</code>\uff1a\u5c08\u9580\u8655\u7406 LLM \u4e0a\u4e0b\u6587\u8996\u7a97\u7684\u9650\u5236\uff0c\u900f\u904e\u6458\u8981\u548c\u4fee\u526a\u7b56\u7565\u4f86\u512a\u5316 Token \u4f7f\u7528\u6548\u7387\u3002</li> </ul>"},{"location":"system/IMPLEMENTATION_GUIDE/#4-the-hands","title":"4. \u5de5\u5177\u8207\u4e92\u52d5\u80fd\u529b (The Hands)","text":"<p>\u4ee3\u7406\u9700\u8981\u5de5\u5177\u624d\u80fd\u8207\u5916\u90e8\u4e16\u754c\u4e92\u52d5\u3002</p> <ul> <li><code>agent-tool-builder</code>\uff1a\u6975\u70ba\u95dc\u9375\u7684\u6280\u80fd\u3002\u91cd\u9ede\u5728\u65bc\u8a2d\u8a08\u9ad8\u54c1\u8cea\u7684\u5de5\u5177\u63cf\u8ff0\uff08\u5982 JSON Schema\uff09\uff0c\u56e0\u70ba\u300c\u5de5\u5177\u63cf\u8ff0\u6bd4\u5de5\u5177\u5be6\u4f5c\u66f4\u91cd\u8981\u300d\uff0c\u8a2d\u8a08\u4e0d\u826f\u7684\u5de5\u5177\u6703\u5c0e\u81f4\u4ee3\u7406\u7522\u751f\u5e7b\u89ba\u6216\u5931\u6557\u3002</li> <li><code>mcp-builder</code>\uff1a\u5efa\u7acb\u7b26\u5408\u6a21\u578b\u4e0a\u4e0b\u6587\u5354\u5b9a\uff08MCP\uff09\u7684\u4f3a\u670d\u5668\uff0c\u9019\u662f\u8b93 LLM \u9023\u63a5\u5916\u90e8\u670d\u52d9\u548c\u8cc7\u6599\u7684\u65b0\u8208\u6a19\u6e96\u4ecb\u9762\u3002</li> <li><code>context7-auto-research</code>\uff1a\u900f\u904e Context7 API \u81ea\u52d5\u53d6\u5f97\u8981\u8abf\u67e5\u7684\u6700\u65b0\u5eab/\u6846\u67b6\u6587\u6a94 (id/lib/doc)</li> </ul>"},{"location":"system/IMPLEMENTATION_GUIDE/#5-the-nervous-system","title":"5. \u7a69\u5b9a\u6027\u8207\u5de5\u4f5c\u6d41\u7a0b (The Nervous System)","text":"<p>\u78ba\u4fdd\u4ee3\u7406\u5728\u9047\u5230\u932f\u8aa4\u6216\u7db2\u8def\u554f\u984c\u6642\u80fd\u6062\u5fa9\uff0c\u800c\u4e0d\u662f\u5d29\u6f70\u3002</p> <ul> <li><code>workflow-automation</code>\uff1a\u4ee3\u7406\u53ef\u9760\u6027\u7684\u57fa\u790e\u8a2d\u65bd\u3002\u4f7f\u7528\u5982 Temporal \u6216 n8n \u7b49\u5de5\u5177\uff0c\u78ba\u4fdd\u9577\u6d41\u7a0b\uff08\u5982 10 \u6b65\u9a5f\u7684\u4efb\u52d9\uff09\u5177\u6709\u6301\u4e45\u57f7\u884c\u80fd\u529b\uff0c\u767c\u751f\u6545\u969c\u6642\u53ef\u5f9e\u65b7\u9ede\u6062\u5fa9\u3002</li> <li><code>agent-orchestration-multi-agent-optimize</code>\uff1a\u900f\u904e\u6210\u672c\u611f\u77e5\u7de8\u6392\u548c\u5de5\u4f5c\u8ca0\u8f09\u5206\u914d\uff0c\u512a\u5316\u591a\u4ee3\u7406\u7cfb\u7d71\u7684\u541e\u5410\u91cf\u8207\u7a69\u5b9a\u6027\u3002</li> </ul>"},{"location":"system/IMPLEMENTATION_GUIDE/#6-the-quality-control","title":"6. \u8a55\u4f30\u8207\u76e3\u63a7 (The Quality Control)","text":"<p>\u4ee3\u7406\u7cfb\u7d71\u5f80\u5f80\u4e0d\u53ef\u9810\u6e2c\uff0c\u9700\u8981\u56b4\u683c\u7684\u6e2c\u8a66\u3002</p> <ul> <li><code>agent-evaluation</code>\uff1a\u5c0d\u4ee3\u7406\u9032\u884c\u884c\u70ba\u6e2c\u8a66\u3001\u80fd\u529b\u8a55\u4f30\u548c\u57fa\u6e96\u6e2c\u8a66\u3002\u8cc7\u6e90\u6307\u51fa\uff0c\u5373\u4f7f\u662f\u9802\u5c16\u4ee3\u7406\u5728\u771f\u5be6\u4e16\u754c\u57fa\u6e96\u6e2c\u8a66\u4e2d\u4e5f\u5e38\u9054\u4e0d\u5230 50% \u7684\u6210\u529f\u7387\uff0c\u56e0\u6b64\u6b64\u6280\u80fd\u4e0d\u53ef\u6216\u7f3a\u3002</li> <li><code>langfuse</code>\uff1a\u63d0\u4f9b LLM \u7684\u53ef\u89c0\u6e2c\u6027\uff08Observability\uff09\uff0c\u5305\u62ec\u8ffd\u8e64\uff08Tracing\uff09\u3001\u63d0\u793a\u7ba1\u7406\u548c\u8a55\u4f30\uff0c\u5e6b\u52a9\u958b\u767c\u8005\u770b\u898b\u4ee3\u7406\u5167\u90e8\u7684\u601d\u8003\u904e\u7a0b\u3002</li> <li><code>agent-orchestration-improve-agent</code>\uff1a\u900f\u904e\u6027\u80fd\u5206\u6790\u548c\u6301\u7e8c\u8fed\u4ee3\uff0c\u7cfb\u7d71\u5316\u5730\u6539\u9032\u73fe\u6709\u4ee3\u7406\u7684\u8868\u73fe\u3002</li> </ul> <p>\u7e3d\u7d50\u5efa\u8b70\uff1a \u82e5\u8981\u7d44\u5efa\u4e00\u500b\u6700\u5c0f\u53ef\u884c\u6027\uff08MVP\uff09\u7684\u4ee3\u7406\u4eba\u958b\u767c\u5718\u968a\uff0c\u5efa\u8b70\u81f3\u5c11\u9700\u8981\u638c\u63e1</p> <ol> <li><code>ai-agents-architect</code>\uff08\u67b6\u69cb\uff09</li> <li><code>langgraph</code>\uff08\u5be6\u4f5c\uff09</li> <li><code>agent-tool-builder</code>\uff08\u5de5\u5177\uff09</li> <li><code>agent-memory-systems</code>\uff08\u8a18\u61b6\uff09</li> <li><code>agent-evaluation</code>\uff08\u6e2c\u8a66\uff09</li> </ol> <p>\u4ee5\u4e0a\u9019\u4e94\u9805\u6838\u5fc3\u6280\u80fd\u3002</p>"},{"location":"system/WORKFLOW_AUTOMATION/","title":"Arkhon-Rheo \u5de5\u4f5c\u6d41\u7a0b\u81ea\u52d5\u5316\u7cfb\u7d71","text":"<p>\u7248\u672c: 1.0.0 \u66f4\u65b0\u65e5\u671f: 2026-02-15 \u6574\u5408: State Machine + Skills System + SDLC</p>"},{"location":"system/WORKFLOW_AUTOMATION/#_1","title":"\ud83d\udccb \u6982\u8ff0","text":"<p>\u672c\u6587\u4ef6\u5b9a\u7fa9 Arkhon-Rheo \u5c08\u6848\u7684\u57fa\u65bc\u72c0\u614b\u6a5f\u7684\u5de5\u4f5c\u6d41\u7a0b\u81ea\u52d5\u5316\u7cfb\u7d71\uff0c\u6574\u5408\u5c08\u6848\u7684\u6838\u5fc3\u54f2\u5b78\uff08State Machine Driven\uff09\u3001Skills \u7cfb\u7d71\uff08800+ skills\uff09\u548c SDLC \u6700\u4f73\u5be6\u8e10\u3002</p> <p>\u6838\u5fc3\u7279\u6027:</p> <ul> <li>\ud83d\udd04 \u72c0\u614b\u6a5f\u9a45\u52d5: \u660e\u78ba\u7684\u72c0\u614b\u8f49\u63db\u548c\u6aa2\u67e5\u9ede</li> <li>\ud83e\udd16 AI Skills \u6574\u5408: \u81ea\u52d5\u5316 skill \u9078\u64c7\u548c\u7d44\u5408</li> <li>\ud83d\udcca \u8996\u89ba\u5316\u7ba1\u7406: Mermaid \u5716\u8868\u5448\u73fe\u5de5\u4f5c\u6d41\u7a0b</li> <li>\u2699\ufe0f \u53ef\u57f7\u884c\u914d\u7f6e: YAML \u683c\u5f0f\u7684\u5de5\u4f5c\u6d41\u7a0b\u5b9a\u7fa9</li> <li>\ud83d\udccf \u54c1\u8cea\u6a19\u6e96: OOP \u7a0b\u5f0f\u78bc\u898f\u7bc4\u548c\u8907\u96dc\u5ea6\u63a7\u5236</li> </ul>"},{"location":"system/WORKFLOW_AUTOMATION/#sdlc","title":"\ud83d\udd04 SDLC \u72c0\u614b\u6a5f\u6a21\u578b","text":""},{"location":"system/WORKFLOW_AUTOMATION/#_2","title":"\u72c0\u614b\u8f49\u63db\u5716","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Planning\n\n    Planning --&gt; Design: \u9700\u6c42\u5df2\u78ba\u8a8d\n    Planning --&gt; Planning: \u9700\u6c42\u4e0d\u660e\u78ba\n\n    Design --&gt; Implementation: \u8a2d\u8a08\u5df2\u5be9\u6838\n    Design --&gt; Planning: \u8a2d\u8a08\u9700\u5927\u5e45\u4fee\u6539\n\n    Implementation --&gt; Testing: \u529f\u80fd\u5df2\u5b8c\u6210\n    Implementation --&gt; Design: \u5be6\u4f5c\u767c\u73fe\u8a2d\u8a08\u7f3a\u9677\n\n    Testing --&gt; Review: \u6e2c\u8a66\u901a\u904e\n    Testing --&gt; Implementation: \u6e2c\u8a66\u5931\u6557\n\n    Review --&gt; Deployment: \u5be9\u6838\u901a\u904e\n    Review --&gt; Implementation: \u9700\u8981\u4fee\u6b63\n\n    Deployment --&gt; Monitoring: \u90e8\u7f72\u6210\u529f\n    Deployment --&gt; Review: \u90e8\u7f72\u5931\u6557\n\n    Monitoring --&gt; [*]: \u7a69\u5b9a\u904b\u884c\n    Monitoring --&gt; Implementation: \u767c\u73fe\u554f\u984c\u9700\u4fee\u5fa9\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#sdlc-agile","title":"\ud83d\udd04 SDLC \u8207 Agile \u958b\u767c","text":"<p>\u91cd\u8981: Arkhon-Rheo \u63a1\u7528 Agile \u958b\u767c\u65b9\u6cd5\u3002</p> <p>\u6bcf\u500b Phase (\u5982 Phase 1 Foundation) \u4e26\u975e\u5c0d\u61c9\u55ae\u4e00 SDLC \u5faa\u74b0\uff0c\u800c\u662f\u5305\u542b\u591a\u6b21\u8fed\u4ee3\u7684\u5b8c\u6574 SDLC \u5faa\u74b0\uff1a</p> <ul> <li>\u6bcf\u500b Sprint \u90fd\u53ef\u80fd\u7d93\u6b77\u591a\u6b21 <code>Planning \u2192 Design \u2192 Implementation \u2192 Testing \u2192 Review</code> \u5faa\u74b0</li> <li>\u6bcf\u500b\u529f\u80fd \u90fd\u61c9\u8a72\u7d93\u904e\u5b8c\u6574\u7684 SDLC \u6d41\u7a0b\u624d\u7b97\u5b8c\u6210</li> <li>\u6301\u7e8c\u6574\u5408 \u78ba\u4fdd\u6bcf\u6b21\u5faa\u74b0\u5f8c\u90fd\u80fd\u90e8\u7f72\u548c\u76e3\u63a7</li> <li>\u5feb\u901f\u8fed\u4ee3 \u5141\u8a31\u6839\u64da\u6e2c\u8a66\u7d50\u679c\u5feb\u901f\u8abf\u6574\u8a2d\u8a08</li> </ul> <p>\u95dc\u9375\u6982\u5ff5:</p> <ul> <li>SDLC \u72c0\u614b = \u5de5\u4f5c\u6d41\u7a0b\u72c0\u614b\uff08\u7576\u524d\u6b63\u5728\u505a\u4ec0\u9ebc\uff09</li> <li>Phase = \u6642\u7a0b\u91cc\u7a0b\u7891\uff08\u5728\u958b\u767c\u7684\u54ea\u500b\u968e\u6bb5\uff09</li> <li>Sprint = \u6642\u9593\u76d2\uff08\u4e00\u9031\u70ba\u55ae\u4f4d\uff09</li> <li>\u9019\u4e09\u8005\u662f\u6b63\u4ea4\u7684\u6982\u5ff5\uff0c\u53ef\u4ee5\u7368\u7acb\u8b8a\u5316</li> </ul> <p>\u4f8b\u5982\uff1a\u5728 Phase 1 Sprint 1.1 (\u6838\u5fc3\u72c0\u614b\u6a5f\u958b\u767c) \u671f\u9593\uff1a</p> <ul> <li>\u8a2d\u8a08 <code>ReActState</code> \u985e\u5225\u6642\uff1a\u8655\u65bc Planning/Design \u72c0\u614b</li> <li>\u5be6\u4f5c <code>ReActState</code> \u6642\uff1a\u8655\u65bc Implementation \u72c0\u614b</li> <li>\u5beb\u55ae\u5143\u6e2c\u8a66\u6642\uff1a\u8655\u65bc Testing \u72c0\u614b</li> <li>Code Review \u6642\uff1a\u8655\u65bc Review \u72c0\u614b</li> <li>\u5408\u4f75\u5230\u4e3b\u5206\u652f\u6642\uff1a\u5feb\u901f Deployment \u4e26 Monitoring</li> </ul> <p>\u5b8c\u6210\u4e00\u500b\u985e\u5225\u5f8c\uff0c\u53c8\u56de\u5230 Planning \u958b\u59cb\u4e0b\u4e00\u500b\u985e\u5225\u7684\u8a2d\u8a08\u3002</p>"},{"location":"system/WORKFLOW_AUTOMATION/#_3","title":"\u72c0\u614b\u5b9a\u7fa9\u8868","text":"\u72c0\u614b \u76ee\u7684 \u8f38\u5165 \u8f38\u51fa \u505c\u7559\u6642\u9593 Planning \u9700\u6c42\u5206\u6790\u3001\u898f\u5283 Feature Request Specification Doc 2-4 \u5929 Design \u7cfb\u7d71\u8a2d\u8a08\u3001\u67b6\u69cb Specification Doc Design Doc + ADR 1-3 \u5929 Implementation \u7de8\u78bc\u5be6\u4f5c Design Doc Working Code + Tests 3-10 \u5929 Testing \u6e2c\u8a66\u9a57\u8b49 Code + Tests Test Report 1-2 \u5929 Review \u4ee3\u78bc\u5be9\u6838 Code + Tests + Docs Approved PR 0.5-1 \u5929 Deployment \u90e8\u7f72\u4e0a\u7dda Approved PR Deployed System 0.5-1 \u5929 Monitoring \u76e3\u63a7\u89c0\u5bdf Deployed System Metrics \u6301\u7e8c"},{"location":"system/WORKFLOW_AUTOMATION/#skills","title":"\ud83c\udfaf \u57fa\u65bc Skills \u7684\u72c0\u614b\u81ea\u52d5\u5316","text":""},{"location":"system/WORKFLOW_AUTOMATION/#skills_1","title":"Skills \u81ea\u52d5\u9078\u64c7\u7b56\u7565","text":"<p>\u57fa\u65bc <code>skill_tags.yaml</code> \u7684\u5206\u985e\u7cfb\u7d71\uff0c\u6bcf\u500bSDLC\u72c0\u614b\u81ea\u52d5\u63a8\u85a6\u76f8\u95dc skills\uff1a</p>"},{"location":"system/WORKFLOW_AUTOMATION/#1-planning-skills","title":"1. Planning \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u5f9e\u9700\u6c42\u5230\u53ef\u57f7\u884c\u898f\u5283</p> <p>\u63a8\u85a6 Skills (\u5f9e skill_tags.yaml 'Planning' \u985e\u5225):</p> <pre><code>primary_skills:\n  - brainstorming          # \u5275\u610f\u767c\u60f3\u548c\u9700\u6c42\u63a2\u7d22\n  - concise-planning       # \u7c21\u6f54\u8a08\u5283\u751f\u6210\n  - plan-writing           # \u8a08\u5283\u6587\u4ef6\u64b0\u5beb\n  - architecture           # \u67b6\u69cb\u6c7a\u7b56\u6846\u67b6\n\nsupporting_skills:\n  - product-manager-toolkit  # \u7522\u54c1\u9700\u6c42\u7ba1\u7406\n  - startup-analyst          # \u5e02\u5834\u5206\u6790\n  - competitive-landscape    # \u7af6\u54c1\u5206\u6790\n</code></pre> <p>\u81ea\u52d5\u5316\u6d41\u7a0b:</p> <ol> <li>\u8f38\u5165\uff1aFeature Request/User Story</li> <li>\u4f7f\u7528 <code>brainstorming</code> \u63a2\u7d22\u9700\u6c42</li> <li>\u4f7f\u7528 <code>concise-planning</code> \u751f\u6210\u521d\u6b65\u8a08\u5283</li> <li>\u4f7f\u7528 <code>plan-writing</code> \u7522\u51fa\u6b63\u5f0f\u898f\u5283\u6587\u4ef6</li> <li>\u8f38\u51fa\uff1aSpecification Document</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#2-design-skills","title":"2. Design \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u5f9e\u898f\u5283\u5230\u53ef\u5be6\u4f5c\u7684\u8a2d\u8a08</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Architecture' + 'Design' \u985e\u5225):</p> <pre><code>primary_skills:\n  - architect-review        # \u67b6\u69cb\u5be9\u6838\n  - architecture-decision-records  # ADR \u64b0\u5beb\n  - architecture-patterns   # \u67b6\u69cb\u6a21\u5f0f\u9078\u64c7\n  - design-orchestration    # \u8a2d\u8a08\u5354\u8abf\n\ndatabase_design:\n  - database-architect      # \u8cc7\u6599\u5eab\u8a2d\u8a08\n  - database-design         # Schema \u8a2d\u8a08\n\napi_design:\n  - api-design-principles   # API \u8a2d\u8a08\u539f\u5247\n  - api-patterns           # API \u6a21\u5f0f\u9078\u64c7\n</code></pre> <p>\u81ea\u52d5\u5316\u6d41\u7a0b:</p> <ol> <li>\u8f38\u5165\uff1aSpecification Document</li> <li>\u4f7f\u7528 <code>architect-review</code> \u5be9\u6838\u67b6\u69cb\u9700\u6c42</li> <li>\u4f7f\u7528 <code>architecture-patterns</code> \u9078\u64c7\u8a2d\u8a08\u6a21\u5f0f</li> <li>\u4f7f\u7528 <code>database-architect</code> / <code>api-design-principles</code> \u8a2d\u8a08\u7d44\u4ef6</li> <li>\u4f7f\u7528 <code>architecture-decision-records</code> \u8a18\u9304\u6c7a\u7b56</li> <li>\u8f38\u51fa\uff1aDesign Document + ADRs</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#3-implementation-skills","title":"3. Implementation \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u9ad8\u54c1\u8cea\u4ee3\u78bc\u5be6\u4f5c</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Coding' + 'Refactoring' \u985e\u5225):</p> <pre><code>coding_skills:\n  - clean-code            # \u4ee3\u78bc\u54c1\u8cea\u6a19\u6e96\n  - software-architecture # \u8edf\u9ad4\u67b6\u69cb\u5be6\u4f5c\n  - tdd-workflow          # \u6e2c\u8a66\u9a45\u52d5\u958b\u767c\n\nlanguage_specific:\n  - python-pro            # Python \u5c08\u5bb6\n  - typescript-pro        # TypeScript \u5c08\u5bb6\n  - golang-pro            # Go \u5c08\u5bb6\n\nquality_assurance:\n  - code-reviewer         # \u4ee3\u78bc\u5be9\u6838\n  - production-code-audit # \u751f\u7522\u7d1a\u4ee3\u78bc\u7a3d\u6838\n  - systematic-debugging  # \u7cfb\u7d71\u5316\u9664\u932f\n</code></pre> <p>\u81ea\u52d5\u5316\u6d41\u7a0b:</p> <ol> <li>\u8f38\u5165\uff1aDesign Document</li> <li>\u4f7f\u7528 <code>tdd-workflow</code> \u958b\u59cb TDD \u5faa\u74b0</li> <li>\u4f7f\u7528\u8a9e\u8a00\u5c08\u5bb6 skills (\u5982 <code>python-pro</code>) \u5be6\u4f5c\u4ee3\u78bc</li> <li>\u4f7f\u7528 <code>clean-code</code> \u5be9\u6838\u4ee3\u78bc\u54c1\u8cea</li> <li>\u4f7f\u7528 <code>code-reviewer</code> \u9032\u884c\u81ea\u6211\u5be9\u6838</li> <li>\u8f38\u51fa\uff1aWorking Code + Unit Tests</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#4-testing-skills","title":"4. Testing \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u5168\u9762\u6e2c\u8a66\u8986\u84cb</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Testing' + 'Debugging' \u985e\u5225):</p> <pre><code>testing_skills:\n  - test-automator        # \u6e2c\u8a66\u81ea\u52d5\u5316\n  - e2e-testing-patterns  # E2E \u6e2c\u8a66\u6a21\u5f0f\n  - javascript-testing-patterns  # JS \u6e2c\u8a66\u6a21\u5f0f\n  - python-testing-patterns      # Python \u6e2c\u8a66\u6a21\u5f0f\n\ndebugging_skills:\n  - systematic-debugging  # \u7cfb\u7d71\u5316\u9664\u932f\n  - debugger             # \u9664\u932f\u5c08\u5bb6\n  - error-detective      # \u932f\u8aa4\u5075\u6e2c\n\nverification_skills:\n  - verification-before-completion  # \u5b8c\u6210\u524d\u9a57\u8b49\n</code></pre> <p>\u81ea\u52d5\u5316\u6d41\u7a0b:</p> <ol> <li>\u8f38\u5165\uff1aCode + Unit Tests</li> <li>\u4f7f\u7528 <code>test-automator</code> \u5efa\u7acb\u81ea\u52d5\u5316\u6e2c\u8a66</li> <li>\u4f7f\u7528\u8a9e\u8a00\u6e2c\u8a66 skills \u5efa\u7acb\u5b8c\u6574\u6e2c\u8a66\u5957\u4ef6</li> <li>\u4f7f\u7528 <code>systematic-debugging</code> \u89e3\u6c7a\u6e2c\u8a66\u5931\u6557</li> <li>\u4f7f\u7528 <code>verification-before-completion</code> \u9a57\u8b49</li> <li>\u8f38\u51fa\uff1aTest Report (Coverage &gt; 90%)</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#5-review-skills","title":"5. Review \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u591a\u7dad\u5ea6\u5be9\u6838</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Code Review' \u985e\u5225):</p> <pre><code>review_skills:\n  - code-reviewer           # \u7d9c\u5408\u4ee3\u78bc\u5be9\u6838\n  - architect-review        # \u67b6\u69cb\u5be9\u6838\n  - security-auditor        # \u5b89\u5168\u5be9\u6838\n  - performance-engineer    # \u6027\u80fd\u5be9\u6838\n\nspecialized_reviews:\n  - backend-security-coder  # \u5f8c\u7aef\u5b89\u5168\n  - frontend-security-coder # \u524d\u7aef\u5b89\u5168\n  - ui-visual-validator     # UI \u9a57\u8b49\n</code></pre> <p>\u81ea\u52d5\u5316\u6d41\u7a0b:</p> <ol> <li>\u8f38\u5165\uff1aCode + Tests + Docs</li> <li>\u4e26\u884c\u57f7\u884c\u591a\u500b\u5be9\u6838 skills</li> <li>\u5f59\u7e3d\u5be9\u6838\u5831\u544a</li> <li>\u4f7f\u7528 <code>receiving-code-review</code> \u8655\u7406\u53cd\u994b</li> <li>\u8f38\u51fa\uff1aApproved PR / Change Requests</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#6-deployment-skills","title":"6. Deployment \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u5b89\u5168\u90e8\u7f72</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Deployment' \u985e\u5225):</p> <pre><code>deployment_skills:\n  - deployment-engineer    # \u90e8\u7f72\u5de5\u7a0b\u5e2b\n  - deployment-procedures  # \u90e8\u7f72\u6d41\u7a0b\n  - gitops-workflow       # GitOps \u5de5\u4f5c\u6d41\u7a0b\n\ninfrastructure_skills:\n  - cloud-architect       # \u96f2\u7aef\u67b6\u69cb\n  - kubernetes-architect  # K8s \u90e8\u7f72\n  - terraform-specialist  # IaC \u81ea\u52d5\u5316\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#7-monitoring-skills","title":"7. Monitoring \u968e\u6bb5 Skills","text":"<p>\u76ee\u6a19: \u6301\u7e8c\u76e3\u63a7\u548c\u6539\u9032</p> <p>\u63a8\u85a6 Skills (\u5f9e 'Observability' \u985e\u5225):</p> <pre><code>monitoring_skills:\n  - observability-engineer   # \u53ef\u89c0\u6e2c\u6027\u5de5\u7a0b\n  - incident-responder       # \u4e8b\u4ef6\u97ff\u61c9\n  - performance-engineer     # \u6027\u80fd\u76e3\u63a7\n\nanalytics_skills:\n  - analytics-tracking       # \u5206\u6790\u8ffd\u8e64\n  - data-storytelling        # \u6578\u64da\u5206\u6790\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_4","title":"\ud83d\udcca \u91cc\u7a0b\u7891\u7cfb\u7d71","text":""},{"location":"system/WORKFLOW_AUTOMATION/#roadmapmd","title":"\u8207 ROADMAP.md \u6574\u5408","text":"<p>\u57fa\u65bc <code>docs/ROADMAP.md</code> \u76844\u968e\u6bb5\u958b\u767c\u8a08\u5283\uff1a</p> <pre><code>gantt\n    title Arkhon-Rheo \u958b\u767c\u91cc\u7a0b\u7891\n    dateFormat YYYY-MM-DD\n    section Phase 1: Foundation\n    \u6838\u5fc3\u72c0\u614b\u6a5f           :done, p1a, 2026-01-01, 2w\n    YAML \u914d\u7f6e\u7cfb\u7d71        :done, p1b, after p1a, 1w\n    Rule Engine          :active, p1c, after p1b, 1w\n\n    section Phase 2: Multi-Agent\n    \u591a\u4ee3\u7406\u901a\u8a0a           :p2a, after p1c, 2w\n    ACL \u6b0a\u9650\u63a7\u5236         :p2b, after p2a, 1w\n\n    section Phase 3: Memory\n    SQLite Checkpointing :p3a, after p2b, 2w\n    Event Log \u6301\u4e45\u5316     :p3b, after p3a, 1w\n\n    section Phase 4: Package\n    pip \u5957\u4ef6\u7d50\u69cb         :p4a, after p3b, 1w\n    MkDocs \u6587\u4ef6          :p4b, after p4a, 1w\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_5","title":"\u91cc\u7a0b\u7891\u6aa2\u67e5\u9ede","text":"\u91cc\u7a0b\u7891 \u5b8c\u6210\u6a19\u6e96 \u9a57\u8b49\u65b9\u5f0f M1: Foundation \u72c0\u614b\u6a5f\u53ef\u57f7\u884c pytest \u901a\u904e + demo \u904b\u884c M2: Multi-Agent ACL \u7cfb\u7d71\u904b\u4f5c \u591a\u4ee3\u7406\u901a\u8a0a\u6e2c\u8a66\u901a\u904e M3: Memory Checkpoint \u6062\u5fa9 \u72c0\u614b\u6062\u5fa9\u6e2c\u8a66\u901a\u904e M4: Package pip \u53ef\u5b89\u88dd <code>pip install arkhon-rheo</code> \u6210\u529f"},{"location":"system/WORKFLOW_AUTOMATION/#oop","title":"\ud83d\udccf OOP \u7a0b\u5f0f\u78bc\u898f\u7bc4","text":""},{"location":"system/WORKFLOW_AUTOMATION/#_6","title":"\u51fd\u6578\u9577\u5ea6\u9650\u5236","text":"<p>\u898f\u5247: \u55ae\u4e00\u51fd\u6578/\u65b9\u6cd5\u7684\u7d14\u4ee3\u78bc\u884c\u6578\uff08\u4e0d\u8a08\u7a7a\u884c\u3001\u4e0d\u8a08 Docstring\uff09</p> <ul> <li>\u26a0\ufe0f \u6700\u5927\u9577\u5ea6: \u2264 400 \u884c\uff08\u786c\u6027\u9650\u5236\uff09</li> <li>\u2705 \u5efa\u8b70\u9577\u5ea6: \u2264 100 \u884c</li> <li>\ud83c\udfaf \u7406\u60f3\u9577\u5ea6: \u2264 50 \u884c</li> </ul>"},{"location":"system/WORKFLOW_AUTOMATION/#_7","title":"\u8907\u96dc\u5ea6\u9650\u5236","text":"<p>\u4f7f\u7528 <code>radon</code> \u6aa2\u67e5\uff1a</p> \u6307\u6a19 \u9650\u5236 \u8aaa\u660e Cyclomatic Complexity \u2264 10 \u6c7a\u7b56\u8def\u5f91\u6578\u91cf Maintainability Index \u2265 65 \u53ef\u7dad\u8b77\u6027\u6307\u6578\uff080-100\uff09 Halstead Difficulty \u2264 20 \u7a0b\u5f0f\u7406\u89e3\u96e3\u5ea6 <p>\u6aa2\u67e5\u547d\u4ee4:</p> <pre><code># \u5faa\u74b0\u8907\u96dc\u5ea6\nradon cc src/ -a -nc\n\n# \u53ef\u7dad\u8b77\u6027\u6307\u6578\nradon mi src/ -s\n\n# Halstead \u6307\u6a19\nradon hal src/\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_8","title":"\u7a0b\u5f0f\u78bc\u7d44\u7e54\u6700\u4f73\u5be6\u8e10","text":"<p>\u6a21\u7d44\u5316\u8a2d\u8a08\u539f\u5247:</p> <ol> <li>\u55ae\u4e00\u8077\u8cac\u539f\u5247 (SRP): \u4e00\u500b\u985e/\u51fd\u6578\u53ea\u505a\u4e00\u4ef6\u4e8b</li> <li>\u6700\u5c0f\u77e5\u60c5\u539f\u5247: \u6e1b\u5c11\u6a21\u7d44\u9593\u4f9d\u8cf4</li> <li>\u7d44\u5408\u512a\u65bc\u7e7c\u627f: \u4f7f\u7528\u7d44\u5408\u6a21\u5f0f</li> <li>\u4f9d\u8cf4\u6ce8\u5165: \u907f\u514d\u786c\u7de8\u78bc\u4f9d\u8cf4</li> </ol> <p>\u6587\u4ef6\u7d50\u69cb\u7bc4\u4f8b:</p> <pre><code># src/arkhon_rheo/core/state.py\n\nfrom dataclasses import dataclass, field, replace\nfrom typing import Any\n\n\n@dataclass(frozen=True)\nclass ReActState:\n    \"\"\"\n    \u4e0d\u53ef\u8b8a\u72c0\u614b\u5bb9\u5668 (Event Sourcing).\n\n    \u6240\u6709\u72c0\u614b\u66f4\u65b0\u900f\u904e update() \u65b9\u6cd5\u5efa\u7acb\u65b0\u5be6\u4f8b (Copy-on-Write).\n    \"\"\"\n\n    thought: str = \"\"\n    action: dict[str, Any] | None = None\n    observation: str | None = None\n    metadata: dict[str, Any] = field(default_factory=dict)\n\n    def update(self, **changes) -&gt; \"ReActState\":\n        \"\"\"\u5efa\u7acb\u65b0\u72c0\u614b (\u4e0d\u53ef\u8b8a\u66f4\u65b0).\"\"\"\n        return replace(self, **changes)\n\n    # ... \u5176\u4ed6\u65b9\u6cd5\uff0c\u6bcf\u500b &lt; 50 \u884c\n</code></pre> <p>\u51fd\u6578\u62c6\u5206\u793a\u4f8b:</p> <p>\u274c \u58de\u7684\u793a\u4f8b (\u904e\u9577\u51fd\u6578):</p> <pre><code>def process_request(request):\n    # \u9a57\u8b49 (50 \u884c)\n    # \u89e3\u6790 (100 \u884c)\n    # \u696d\u52d9\u908f\u8f2f (150 \u884c)\n    # \u683c\u5f0f\u5316\u8f38\u51fa (50 \u884c)\n    # \u932f\u8aa4\u8655\u7406 (50 \u884c)\n    pass  # \u7e3d\u8a08 400 \u884c\n</code></pre> <p>\u2705 \u597d\u7684\u793a\u4f8b (\u62c6\u5206\u51fd\u6578):</p> <pre><code>def process_request(request):\n    \"\"\"\u4e3b\u6d41\u7a0b\u5354\u8abf\u5668 (&lt; 20 \u884c).\"\"\"\n    validated_data = _validate_request(request)\n    parsed_data = _parse_request(validated_data)\n    result = _execute_business_logic(parsed_data)\n    return _format_response(result)\n\ndef _validate_request(request):\n    \"\"\"\u9a57\u8b49\u908f\u8f2f (&lt; 50 \u884c).\"\"\"\n    pass\n\ndef _parse_request(data):\n    \"\"\"\u89e3\u6790\u908f\u8f2f (&lt; 80 \u884c).\"\"\"\n    pass\n\ndef _execute_business_logic(data):\n    \"\"\"\u696d\u52d9\u908f\u8f2f (&lt; 100 \u884c).\"\"\"\n    pass\n\ndef _format_response(result):\n    \"\"\"\u683c\u5f0f\u5316\u8f38\u51fa (&lt; 40 \u884c).\"\"\"\n    pass\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#yaml","title":"\u2699\ufe0f \u53ef\u57f7\u884c\u5de5\u4f5c\u6d41\u7a0b (YAML \u683c\u5f0f)","text":""},{"location":"system/WORKFLOW_AUTOMATION/#_9","title":"\u5de5\u4f5c\u6d41\u7a0b\u5b9a\u7fa9\u7bc4\u4f8b","text":"<pre><code># .agent/workflows/feature-implementation.yaml\n---\nname: \"Feature Implementation Workflow\"\nversion: \"1.0.0\"\ndescription: \"Complete SDLC workflow for implementing a new feature\"\n\n# \u72c0\u614b\u6a5f\u5b9a\u7fa9\nstates:\n  - name: \"planning\"\n    skills:\n      - \"brainstorming\"\n      - \"concise-planning\"\n    entry_checks:\n      - \"user_story_exists\"\n    exit_criteria:\n      - \"specification_complete\"\n      - \"stakeholder_approved\"\n\n  - name: \"design\"\n    skills:\n      - \"architect-review\"\n      - \"architecture-patterns\"\n      - \"database-architect\"\n    entry_checks:\n      - \"specification_approved\"\n    exit_criteria:\n      - \"design_doc_complete\"\n      - \"adrs_documented\"\n\n  - name: \"implementation\"\n    skills:\n      - \"tdd-workflow\"\n      - \"python-pro\"\n      - \"clean-code\"\n    entry_checks:\n      - \"design_approved\"\n    exit_criteria:\n      - \"tests_passing\"\n      - \"coverage_above_90\"\n      - \"lint_checks_passing\"\n\n  - name: \"testing\"\n    skills:\n      - \"test-automator\"\n      - \"systematic-debugging\"\n    entry_checks:\n      - \"unit_tests_passing\"\n    exit_criteria:\n      - \"e2e_tests_passing\"\n      - \"all_scenarios_covered\"\n\n  - name: \"review\"\n    skills:\n      - \"code-reviewer\"\n      - \"security-auditor\"\n    entry_checks:\n      - \"all_tests_passing\"\n    exit_criteria:\n      - \"pr_approved\"\n      - \"no_blocking_issues\"\n\n  - name: \"deployment\"\n    skills:\n      - \"deployment-engineer\"\n      - \"gitops-workflow\"\n    entry_checks:\n      - \"pr_merged\"\n    exit_criteria:\n      - \"deployed_to_production\"\n      - \"health_checks_passing\"\n\n# \u72c0\u614b\u8f49\u63db\u898f\u5247\ntransitions:\n  - from: \"planning\"\n    to: \"design\"\n    condition: \"exit_criteria_met\"\n\n  - from: \"design\"\n    to: \"implementation\"\n    condition: \"exit_criteria_met\"\n\n  - from: \"implementation\"\n    to: \"testing\"\n    condition: \"exit_criteria_met\"\n\n  - from: \"implementation\"\n    to: \"design\"\n    condition: \"design_flaw_found\"\n\n  - from: \"testing\"\n    to: \"review\"\n    condition: \"all_tests_pass\"\n\n  - from: \"testing\"\n    to: \"implementation\"\n    condition: \"tests_fail\"\n\n  - from: \"review\"\n    to: \"deployment\"\n    condition: \"approved\"\n\n  - from: \"review\"\n    to: \"implementation\"\n    condition: \"changes_requested\"\n\n# \u6aa2\u67e5\u9ede\u914d\u7f6e\ncheckpoints:\n  interval: 1  # \u6bcf\u500b\u72c0\u614b\u8f49\u63db\u5f8c\u5132\u5b58\n  storage: \"sqlite\"\n  retention_days: 30\n\n# \u901a\u77e5\u914d\u7f6e\nnotifications:\n  - event: \"state_transition\"\n    channels: [\"slack\", \"email\"]\n  - event: \"gate_failed\"\n    channels: [\"slack\"]\n  - event: \"deployment_complete\"\n    channels: [\"slack\", \"email\"]\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_10","title":"\ud83d\ude80 \u4f7f\u7528\u6307\u5357","text":""},{"location":"system/WORKFLOW_AUTOMATION/#_11","title":"\u555f\u52d5\u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code># \u4f7f\u7528 CLI \u555f\u52d5\u5de5\u4f5c\u6d41\u7a0b\narkhon-rheo workflow run \\\n  --config .agent/workflows/feature-implementation.yaml \\\n  --input user_story.md\n\n# \u6216\u4f7f\u7528 Python API\nfrom arkhon_rheo.workflow import WorkflowEngine\n\nengine = WorkflowEngine.from_yaml(\".agent/workflows/feature-implementation.yaml\")\nresult = engine.run(initial_state={\"user_story\": \"...\"})\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_12","title":"\u76e3\u63a7\u5de5\u4f5c\u6d41\u7a0b","text":"<pre><code># \u67e5\u770b\u7576\u524d\u72c0\u614b\narkhon-rheo workflow status\n\n# \u67e5\u770b\u72c0\u614b\u6b77\u53f2\narkhon-rheo workflow history\n\n# \u6062\u5fa9\u5230\u6aa2\u67e5\u9ede\narkhon-rheo workflow restore --checkpoint &lt;checkpoint_id&gt;\n</code></pre>"},{"location":"system/WORKFLOW_AUTOMATION/#_13","title":"\ud83d\udcda \u8207\u73fe\u6709\u7cfb\u7d71\u6574\u5408","text":""},{"location":"system/WORKFLOW_AUTOMATION/#_14","title":"\u6574\u5408\u9ede","text":"<ol> <li>.agent/workflows/: \u5b58\u653e\u53ef\u57f7\u884c\u5de5\u4f5c\u6d41\u7a0b\u5b9a\u7fa9</li> <li>skill_tags.yaml: Skills \u5206\u985e\u548c\u81ea\u52d5\u9078\u64c7\u4f9d\u64da</li> <li>docs/ROADMAP.md: \u91cc\u7a0b\u7891\u548c\u6642\u7a0b\u898f\u5283</li> <li>docs/STATE_MACHINE.md: \u72c0\u614b\u6a5f\u5be6\u4f5c\u7d30\u7bc0</li> <li>DEPENDENCIES.md: \u5de5\u5177\u93c8\u548c\u74b0\u5883\u914d\u7f6e</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#_15","title":"\u64f4\u5c55\u65b9\u5f0f","text":"<p>\u65b0\u589e\u81ea\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u7a0b:</p> <ol> <li>\u8907\u88fd <code>.agent/workflows/feature-implementation.yaml</code></li> <li>\u4fee\u6539\u72c0\u614b\u548c\u6280\u80fd\u914d\u7f6e</li> <li>\u5b9a\u7fa9\u81ea\u8a02\u8f49\u63db\u898f\u5247</li> <li>\u4f7f\u7528 CLI \u57f7\u884c</li> </ol> <p>\u65b0\u589e\u81ea\u5b9a\u7fa9 Skills:</p> <ol> <li>\u5728 <code>.agent/skills/</code> \u5efa\u7acb\u65b0 skill</li> <li>\u66f4\u65b0 <code>skill_tags.yaml</code> \u5206\u985e</li> <li>\u66f4\u65b0 <code>skills_index.json</code></li> <li>\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u5f15\u7528</li> </ol>"},{"location":"system/WORKFLOW_AUTOMATION/#_16","title":"\ud83d\udcd6 \u53c3\u8003\u6587\u4ef6","text":"<ul> <li>ARCHITECTURE.md - \u7cfb\u7d71\u67b6\u69cb</li> <li>STATE_MACHINE.md - \u72c0\u614b\u6a5f\u8a2d\u8a08</li> <li>ROADMAP.md - \u958b\u767c\u8def\u7dda\u5716</li> <li>DEPENDENCIES.md - \u74b0\u5883\u4f9d\u8cf4</li> <li>skill_tags.yaml - Skills \u5206\u985e\u7cfb\u7d71</li> </ul> <p>\u7dad\u8b77\u8005: Arkhon-Rheo Team \u6700\u5f8c\u66f4\u65b0: 2026-02-15 \u6587\u4ef6\u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/","title":"Arkhon-Rheo + ReActEngine Documentation","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/#overview","title":"\ud83d\udcd6 Overview","text":"<p>This documentation suite provides comprehensive specifications, design documents, and implementation guides for Arkhon-Rheo, a production-grade autonomous agent system built on the ReActEngine OOP architecture.</p> <p>Arkhon-Rheo is a Deterministic AI Workflow Engine that combines:</p> <ul> <li>State Machine: Explicit state transitions governing all agent behavior</li> <li>Event Sourcing: Immutable, append-only log of every reasoning step</li> <li>Rule Engine: Governance constraints and policy enforcement</li> <li>Tool Registry: Pluggable tool architecture with JSON Schema validation</li> </ul> <p>NOT a prompt hack or simple LLM wrapper. This is a structured, testable, production-ready agent system.</p>"},{"location":"vers0.1.0/#core-philosophy","title":"\ud83c\udfaf Core Philosophy","text":"<pre><code>Arkhon-Rheo = Philosophy + Governance Standards\nReActEngine = Concrete OOP Implementation  \nIntegration = Philosophy \u27fa Code Architecture\n</code></pre>"},{"location":"vers0.1.0/#design-principles","title":"Design Principles","text":"<ol> <li>State Machine Driven - All behavior governed by explicit FSM transitions</li> <li>Event Sourcing - Complete audit trail with checkpoint/replay capability</li> <li>YAML Configuration - Declarative runtime behavior without code changes</li> <li>Tool Pluggability - Dynamic tool registration via standardized schema</li> <li>Rule Engine Extensibility - Custom governance rules defined in YAML</li> <li>LangGraph Isomorphism - Structurally equivalent to LangGraph StateGraph</li> </ol>"},{"location":"vers0.1.0/#documentation-roadmap","title":"\ud83d\udcda Documentation Roadmap","text":"<p>This directory contains 9 core documents organized from high-level specification to implementation details:</p>"},{"location":"vers0.1.0/#specifications-design-01-02","title":"\ud83d\udccb Specifications &amp; Design (01-02)","text":"Document Purpose Audience SPECIFICATION.md Technical requirements, API reference, and system contracts All stakeholders DESIGN.md System design patterns, data flow, and architectural decisions Architects, senior engineers"},{"location":"vers0.1.0/#architecture-planning-03-04","title":"\ud83c\udfd7\ufe0f Architecture &amp; Planning (03-04)","text":"Document Purpose Audience ROADMAP.md 4-phase development plan (12 weeks) with sprint deliverables Project managers, team leads ARCHITECTURE.md Component hierarchy, layered design (L1-L5), extension points Software architects"},{"location":"vers0.1.0/#implementation-guides-05-06","title":"\ud83d\udee0\ufe0f Implementation Guides (05-06)","text":"Document Purpose Audience DEVGUIDE.md Developer workflows, IDE setup, CLI usage, debugging Developers, contributors TDD.md Test-driven development strategy, test pyramid, mocking patterns QA engineers, developers"},{"location":"vers0.1.0/#advanced-topics-07-09","title":"\ud83d\udd10 Advanced Topics (07-09)","text":"Document Purpose Audience ACL.md Multi-agent roles, permissions, message passing protocols System integrators STATE_MACHINE.md FSM design, state transitions, checkpointing mechanisms Advanced developers RULES.md Rule engine implementation, built-in governance rules Security reviewers, architects"},{"location":"vers0.1.0/#supplementary","title":"\ud83d\udcd1 Supplementary","text":"<ul> <li>SKILLS_MANIFEST.md - Available skills and their integration points</li> </ul>"},{"location":"vers0.1.0/#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"vers0.1.0/#for-new-readers","title":"For New Readers","text":"<p>Start here depending on your role:</p> <ul> <li>Product Managers / Stakeholders: Read SPECIFICATION.md \u00a7 1-2</li> <li>Architects: ARCHITECTURE.md \u2192 DESIGN.md</li> <li>Developers: DEVGUIDE.md \u2192 TDD.md</li> <li>Security Reviewers: RULES.md \u2192 ACL.md</li> </ul>"},{"location":"vers0.1.0/#reading-path-by-objective","title":"Reading Path by Objective","text":""},{"location":"vers0.1.0/#understanding-the-system-top-down","title":"\ud83c\udfaf Understanding the System (Top-Down)","text":"<pre><code>SPECIFICATION \u2192 DESIGN \u2192 ARCHITECTURE \u2192 DEVGUIDE\n</code></pre>"},{"location":"vers0.1.0/#implementing-features-bottom-up","title":"\ud83d\udd28 Implementing Features (Bottom-Up)","text":"<pre><code>DEVGUIDE \u2192 TDD \u2192 STATE_MACHINE \u2192 RULES \u2192 ACL\n</code></pre>"},{"location":"vers0.1.0/#project-planning","title":"\ud83d\udcc5 Project Planning","text":"<pre><code>ROADMAP \u2192 SPECIFICATION (\u00a72-\u00a75) \u2192 ARCHITECTURE (\u00a78)\n</code></pre>"},{"location":"vers0.1.0/#system-architecture","title":"\ud83c\udfdb\ufe0f System Architecture","text":""},{"location":"vers0.1.0/#high-level-component-structure","title":"High-Level Component Structure","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    User Interface Layer                 \u2502\n\u2502         CLI / API / REPL / Human Approval Gates         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Orchestration &amp; Runtime Layer              \u2502\n\u2502    StateGraph Engine \u2502 Scheduler \u2502 Checkpointing       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 ReAct Node Layer (FSM)                  \u2502\n\u2502  ThoughtNode \u2502 ValidateNode \u2502 ActionNode \u2502 ObsNode     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Tool &amp; Policy Layer                        \u2502\n\u2502   ToolRegistry \u2502 RuleEngine \u2502 ACL Permissions          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Storage &amp; Persistence                      \u2502\n\u2502     SQLite Checkpointing \u2502 YAML Config \u2502 Event Log     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"vers0.1.0/#state-machine-fsm","title":"State Machine (FSM)","text":"<pre><code>graph LR\n    START((Start)) --&gt; Thought[ThoughtNode]\n    Thought --&gt; Validate[ValidateNode]\n    Validate --&gt;|\u2713 Valid| Action[ActionNode]\n    Validate --&gt;|\u2717 Reject| Thought\n    Action --&gt; Observation[ObservationNode]\n    Observation --&gt; Commit[CommitNode]\n    Commit --&gt; Thought\n    Commit --&gt; END((End))\n</code></pre>"},{"location":"vers0.1.0/#directory-structure","title":"Directory Structure","text":"<pre><code>src/arkhon-rheo/\n\u251c\u2500\u2500 core/                    # State machine &amp; graph engine\n\u2502   \u251c\u2500\u2500 state.py            # ReActState (immutable dataclass)\n\u2502   \u251c\u2500\u2500 graph.py            # StateGraph executor\n\u2502   \u2514\u2500\u2500 step.py             # ReasoningStep abstraction\n\u251c\u2500\u2500 nodes/                   # FSM node implementations\n\u2502   \u251c\u2500\u2500 base_node.py        # BaseNode ABC\n\u2502   \u251c\u2500\u2500 thought_node.py     # LLM reasoning\n\u2502   \u251c\u2500\u2500 validate_node.py    # Rule validation\n\u2502   \u251c\u2500\u2500 action_node.py      # Tool execution\n\u2502   \u2514\u2500\u2500 observation_node.py # Result processing\n\u251c\u2500\u2500 tools/                   # Tool registry &amp; implementations\n\u2502   \u251c\u2500\u2500 registry.py         # Dynamic tool registration\n\u2502   \u251c\u2500\u2500 base_tool.py        # BaseTool ABC\n\u2502   \u2514\u2500\u2500 implementations/    # Concrete tools\n\u251c\u2500\u2500 rules/                   # Governance &amp; validation\n\u2502   \u251c\u2500\u2500 engine.py           # RuleEngine\n\u2502   \u251c\u2500\u2500 base_rule.py        # BaseRule ABC\n\u2502   \u2514\u2500\u2500 builtin/            # Built-in rules\n\u2502       \u251c\u2500\u2500 max_depth.py    # Prevent infinite loops\n\u2502       \u251c\u2500\u2500 forbid_guessing.py\n\u2502       \u251c\u2500\u2500 cost_limit.py\n\u2502       \u2514\u2500\u2500 require_tool.py\n\u251c\u2500\u2500 config/                  # Configuration subsystem\n\u2502   \u251c\u2500\u2500 schema.py           # YAML schema definitions\n\u2502   \u2514\u2500\u2500 loader.py           # Config loader with validation\n\u2514\u2500\u2500 runtime/                 # Execution &amp; checkpointing\n    \u251c\u2500\u2500 executor.py         # Runtime orchestration\n    \u251c\u2500\u2500 checkpoint.py       # SQLite-based persistence\n    \u2514\u2500\u2500 scheduler.py        # Task scheduling\n</code></pre>"},{"location":"vers0.1.0/#technology-stack","title":"\ud83d\udcbb Technology Stack","text":"Component Technology Version Purpose Language Python 3.12+ Modern type hints (PEP 695), performance Package Manager uv Latest Fast dependency resolution LLM Integration Google GenAI SDK Latest Gemini API (Flash/Pro) Configuration YAML + Pydantic - Type-safe config validation Storage SQLite - Checkpoint persistence Testing pytest - Unit/integration/E2E tests Linting ruff - Fast Python linter Type Checking mypy - Static type analysis Documentation MkDocs - Docs site generation"},{"location":"vers0.1.0/#key-concepts","title":"\ud83d\udcd6 Key Concepts","text":""},{"location":"vers0.1.0/#reactstate","title":"ReActState","text":"<p>Immutable container representing the agent's complete state at any point:</p> <pre><code>@dataclass(frozen=True)\nclass ReActState:\n    \"\"\"Immutable state container (similar to LangGraph's TypedDict).\"\"\"\n    thought: str\n    action: dict | None\n    observation: str | None\n    metadata: dict[str, Any] = field(default_factory=dict)\n\n    def update(self, **changes) -&gt; \"ReActState\":\n        \"\"\"Create new state with updates (copy-on-write).\"\"\"\n        return replace(self, **changes)\n</code></pre>"},{"location":"vers0.1.0/#reasoningstep","title":"ReasoningStep","text":"<p>Single atomic unit of the ReAct cycle:</p> <pre><code>@dataclass\nclass ReasoningStep:\n    \"\"\"Immutable reasoning step (event sourcing).\"\"\"\n    step_id: int\n    thought: str\n    action: dict | None\n    observation: str | None\n    timestamp: datetime\n    metadata: dict[str, Any]\n</code></pre>"},{"location":"vers0.1.0/#stategraph","title":"StateGraph","text":"<p>Execution engine (isomorphic to LangGraph):</p> <pre><code>class StateGraph:\n    \"\"\"\n    Directed graph executor for stateful agent workflows.\n\n    Isomorphic to LangGraph's StateGraph but with:\n    - Full control over execution\n    - YAML-driven configuration\n    - Built-in rule engine\n    - SQLite checkpointing\n    \"\"\"\n\n    def add_node(self, name: str, node: BaseNode) -&gt; None: ...\n    def add_edge(self, from_node: str, to_node: str) -&gt; None: ...\n    def compile(self) -&gt; CompiledGraph: ...\n</code></pre>"},{"location":"vers0.1.0/#rule-engine","title":"Rule Engine","text":"<p>Governance constraints enforced at validation nodes:</p> <pre><code>class BaseRule(ABC):\n    \"\"\"Abstract base for all governance rules.\"\"\"\n\n    @abstractmethod\n    def validate(self, state: ReActState, metadata: dict) -&gt; RuleResult:\n        \"\"\"Return RuleResult(passed=bool, reason=str, severity=str).\"\"\"\n        pass\n\n# Built-in rules\nclass MaxDepthRule(BaseRule):\n    \"\"\"Prevent infinite reasoning loops (max steps = 20).\"\"\"\n\nclass ForbidGuessingRule(BaseRule):\n    \"\"\"Require tool use - no hallucinated answers.\"\"\"\n\nclass CostLimitRule(BaseRule):\n    \"\"\"Enforce token budget limits.\"\"\"\n\nclass RequireToolUseRule(BaseRule):\n    \"\"\"Action steps MUST invoke a tool.\"\"\"\n</code></pre>"},{"location":"vers0.1.0/#development-workflow","title":"\ud83e\uddea Development Workflow","text":""},{"location":"vers0.1.0/#phase-1-foundation-4-weeks-current","title":"Phase 1: Foundation (4 weeks) - Current","text":"<ul> <li>\u2705 PEP8 + Docstring production code</li> <li>\u2705 Core state machine implementation</li> <li>\u2705 YAML configuration system</li> <li>\ud83d\udd04 Rule engine with built-in rules</li> <li>\ud83d\udd04 Basic tool registry</li> </ul>"},{"location":"vers0.1.0/#phase-2-multi-agent-3-weeks","title":"Phase 2: Multi-Agent (3 weeks)","text":"<ul> <li>Multi-agent message passing</li> <li>Role-based access control (ACL)</li> <li>Coordinator agent orchestration</li> <li>Agent communication protocol</li> </ul>"},{"location":"vers0.1.0/#phase-3-memory-storage-3-weeks","title":"Phase 3: Memory &amp; Storage (3 weeks)","text":"<ul> <li>SQLite checkpoint/restore</li> <li>Event log persistence</li> <li>State replay mechanism</li> <li>Long-term memory integration</li> </ul>"},{"location":"vers0.1.0/#phase-4-package-publish-2-weeks","title":"Phase 4: Package &amp; Publish (2 weeks)","text":"<ul> <li>pip-installable package structure</li> <li>pyproject.toml configuration</li> <li>CLI entry points (<code>arkhon-rheo init</code>, <code>run</code>)</li> <li>MkDocs documentation site</li> </ul>"},{"location":"vers0.1.0/#extension-points","title":"\ud83e\udde9 Extension Points","text":"<p>Arkhon-Rheo is designed for extensibility:</p>"},{"location":"vers0.1.0/#custom-nodes","title":"Custom Nodes","text":"<p>Implement <code>BaseNode</code> ABC:</p> <pre><code>from arkhon_rheo.nodes import BaseNode\n\nclass CustomResearchNode(BaseNode):\n    \"\"\"Custom node for deep research tasks.\"\"\"\n\n    def execute(self, state: ReActState) -&gt; ReActState:\n        # Your logic here\n        return state.update(thought=\"Research complete\")\n</code></pre>"},{"location":"vers0.1.0/#custom-tools","title":"Custom Tools","text":"<p>Implement <code>BaseTool</code> ABC and register:</p> <pre><code>from arkhon_rheo.tools import BaseTool, ToolRegistry\n\nclass WebScraperTool(BaseTool):\n    \"\"\"Tool for web scraping.\"\"\"\n\n    def execute(self, **params) -&gt; dict:\n        # Scraping logic\n        return {\"content\": \"...\"}\n\n# Register\nToolRegistry.register(\"web_scraper\", WebScraperTool)\n</code></pre>"},{"location":"vers0.1.0/#custom-rules","title":"Custom Rules","text":"<p>Implement <code>BaseRule</code> ABC:</p> <pre><code>from arkhon_rheo.rules import BaseRule, RuleResult\n\nclass DataPrivacyRule(BaseRule):\n    \"\"\"Ensure no PII in responses.\"\"\"\n\n    def validate(self, state: ReActState, metadata: dict) -&gt; RuleResult:\n        if contains_pii(state.thought):\n            return RuleResult(\n                passed=False, \n                reason=\"PII detected\", \n                severity=\"critical\"\n            )\n        return RuleResult(passed=True)\n</code></pre>"},{"location":"vers0.1.0/#testing-strategy","title":"\ud83e\uddea Testing Strategy","text":""},{"location":"vers0.1.0/#test-pyramid","title":"Test Pyramid","text":"<pre><code>     E2E (10%)\n    /         \\\n   Integration (20%)\n  /            \\\nUnit Tests (70%)\n</code></pre> <p>Coverage Target: 90%+</p>"},{"location":"vers0.1.0/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/\n\n# Run with coverage\npytest --cov=src/arkhon-rheo --cov-report=term-missing\n\n# Run specific test category\npytest tests/unit/\npytest tests/integration/\npytest tests/e2e/\n</code></pre> <p>See TDD.md for complete testing guidelines.</p>"},{"location":"vers0.1.0/#security-governance","title":"\ud83d\udd10 Security &amp; Governance","text":""},{"location":"vers0.1.0/#built-in-rules","title":"Built-in Rules","text":"Rule Purpose Configuration <code>MaxDepthRule</code> Prevent infinite loops <code>max_steps: 20</code> <code>ForbidGuessingRule</code> Require tool use for factual questions <code>min_confidence: 0.8</code> <code>CostLimitRule</code> Enforce token budgets <code>max_tokens: 100000</code> <code>RequireToolUseRule</code> Action steps MUST invoke tools -"},{"location":"vers0.1.0/#multi-agent-access-control","title":"Multi-Agent Access Control","text":"<p>See ACL.md for complete role-based permissions.</p> <pre><code># config/agents.yaml\nagents:\n  coordinator:\n    permissions: [read, write, delegate]\n  planner:\n    permissions: [read, propose]\n  coder:\n    permissions: [read, execute_tool]\n  reviewer:\n    permissions: [read,validate]\n</code></pre>"},{"location":"vers0.1.0/#installation-setup","title":"\ud83d\udce6 Installation &amp; Setup","text":""},{"location":"vers0.1.0/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>uv (package manager)</li> <li>Git</li> </ul>"},{"location":"vers0.1.0/#installation","title":"Installation","text":"<pre><code># Clone repository\ngit clone https://github.com/your-org/dlamp.git\ncd dlamp\n\n# Navigate to agent system\ncd src/arkhon-rheo\n\n# Install dependencies\nuv sync\n\n# Run development agent\npython dev.py\n</code></pre>"},{"location":"vers0.1.0/#configuration","title":"Configuration","text":"<p>Copy example config:</p> <pre><code>cp config/agent.example.yaml config/agent.yaml\n</code></pre> <p>Edit <code>config/agent.yaml</code>:</p> <pre><code># Agent configuration\nagent:\n  name: \"DLAMP Agent\"\n  max_steps: 20\n  llm:\n    provider: \"google\"\n    model: \"gemini-3-flash-preview\"\n\n# Rules\nrules:\n  - name: \"max_depth\"\n    params: {max_steps: 20}\n  - name: \"cost_limit\"\n    params: {max_tokens: 100000}\n</code></pre> <p>See DEVGUIDE.md for complete setup instructions.</p>"},{"location":"vers0.1.0/#cli-usage","title":"\ud83d\udee0\ufe0f CLI Usage","text":"<pre><code># Initialize new agent config\narkhon-rheo init --template basic\n\n# Run agent\narkhon-rheo run --config config/agent.yaml\n\n# Validate configuration\narkhon-rheo validate config/agent.yaml\n\n# Inspect checkpoints\narkhon-rheo checkpoint list\narkhon-rheo checkpoint restore &lt;checkpoint_id&gt;\n\n# Debug mode\narkhon-rheo run --debug --log-level DEBUG\n</code></pre>"},{"location":"vers0.1.0/#monitoring-observability","title":"\ud83d\udcca Monitoring &amp; Observability","text":""},{"location":"vers0.1.0/#event-logging","title":"Event Logging","text":"<p>All reasoning steps logged to <code>events.log</code>:</p> <pre><code>{\n  \"step_id\": 1,\n  \"thought\": \"I need to analyze the data\",\n  \"action\": {\"tool\": \"python_repl\", \"params\": {...}},\n  \"observation\": \"Analysis complete\",\n  \"timestamp\": \"2026-02-14T13:58:00Z\",\n  \"metadata\": {\"cost\": 150, \"latency_ms\": 1200}\n}\n</code></pre>"},{"location":"vers0.1.0/#checkpointing","title":"Checkpointing","text":"<p>SQLite-based state persistence:</p> <pre><code># Checkpoint created automatically after each commit\n# Location: .arkhon-rheo/checkpoints.db\n\n# Restore from checkpoint\npython -m arkhon_rheo.runtime.checkpoint restore --id abc123\n</code></pre>"},{"location":"vers0.1.0/#contributing","title":"\ud83e\udd1d Contributing","text":""},{"location":"vers0.1.0/#development-setup","title":"Development Setup","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b feature/amazing-feature</code></li> <li>Follow DEVGUIDE.md coding standards</li> <li>Write tests following TDD.md</li> <li>Run linters: <code>ruff check</code> + <code>mypy</code></li> <li>Submit PR with clear description</li> </ol>"},{"location":"vers0.1.0/#code-standards","title":"Code Standards","text":"<ul> <li>PEP 8 compliance (enforced by ruff)</li> <li>Type hints for all functions</li> <li>Docstrings following Google style</li> <li>90%+ test coverage</li> </ul>"},{"location":"vers0.1.0/#license","title":"\ud83d\udcc4 License","text":"<p>This project is licensed under the MIT License - see <code>LICENSE</code> file for details.</p>"},{"location":"vers0.1.0/#further-reading","title":"\ud83d\udcda Further Reading","text":""},{"location":"vers0.1.0/#document-reading-order","title":"Document Reading Order","text":"<p>For System Understanding:</p> <ol> <li>SPECIFICATION.md - Technical requirements</li> <li>DESIGN.md - Design patterns</li> <li>ARCHITECTURE.md - Component hierarchy</li> </ol> <p>For Implementation:</p> <ol> <li>DEVGUIDE.md - Development workflows</li> <li>TDD.md - Testing strategy</li> <li>STATE_MACHINE.md - FSM internals</li> </ol> <p>For Advanced Topics:</p> <ol> <li>ACL.md - Multi-agent architecture</li> <li>RULES.md - Governance engine</li> <li>ROADMAP.md - Development plan</li> </ol>"},{"location":"vers0.1.0/#faq","title":"\ud83d\ude4b FAQ","text":""},{"location":"vers0.1.0/#q-how-is-this-different-from-langgraph","title":"Q: How is this different from LangGraph?","text":"<p>A: Arkh\u00f3n-Rheo is structurally isomorphic to LangGraph (same StateGraph model) but provides:</p> <ul> <li>Full control over execution (not a black box)</li> <li>YAML-driven configuration (no code changes needed)</li> <li>Built-in rule engine for governance</li> <li>Production-ready checkpointing with SQLite</li> </ul>"},{"location":"vers0.1.0/#q-can-i-migrate-from-langgraph","title":"Q: Can I migrate from LangGraph?","text":"<p>A: Yes! See SPECIFICATION.md \u00a7 7 - Migration Guide. The APIs are designed for compatibility.</p>"},{"location":"vers0.1.0/#q-whats-the-performance-overhead","title":"Q: What's the performance overhead?","text":"<p>A: Minimal. The state machine adds ~5ms per reasoning step. Checkpointing is async and doesn't block execution.</p>"},{"location":"vers0.1.0/#q-is-this-production-ready","title":"Q: Is this production-ready?","text":"<p>A: Currently in Phase 1 (Foundation). Production deployment planned for Phase 4 (Week 12). See ROADMAP.md.</p>"},{"location":"vers0.1.0/#support-contact","title":"\ud83d\udcde Support &amp; Contact","text":"<ul> <li>Issues: GitHub Issues</li> <li>Documentation: This directory + MkDocs site (coming in Phase 4)</li> <li>Email: [your-email@domain.com]</li> </ul> <p>Last Updated: 2026-02-14 Documentation Version: 1.0.0</p>"},{"location":"vers0.1.0/ACL/","title":"Arkhon-Rheo + ReActEngine Multi-Agent Roles &amp; Access Control","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/ACL/#1-multi-agent-system-overview","title":"1. Multi-Agent System Overview","text":""},{"location":"vers0.1.0/ACL/#11-agent-hierarchy","title":"1.1 Agent Hierarchy","text":"<pre><code>graph TD\n    User[User] --&gt; Coordinator[Coordinator Agent]\n\n    Coordinator --&gt; Planner[Planning Agent]\n    Coordinator --&gt; Coder[Coding Agent]\n    Coordinator --&gt; Reviewer[Review Agent]\n\n    Planner --&gt; SharedState[(Shared State)]\n    Coder --&gt; SharedState\n    Reviewer --&gt; SharedState\n\n    SharedState --&gt; ToolRegistry[Tool Registry]\n    SharedState --&gt; MemoryStore[Memory Store]\n</code></pre>"},{"location":"vers0.1.0/ACL/#12-agent-roles","title":"1.2 Agent Roles","text":"Role Responsibility Capability Constraints Coordinator Task decomposition &amp; routing All tools, all agents Cannot write code Planning Agent Break tasks into steps Read-only tools Cannot execute tools Coding Agent Implement code changes File I/O, Git tools Cannot approve changes Review Agent Validate code quality Read files, run tests Cannot modify code"},{"location":"vers0.1.0/ACL/#2-permission-model","title":"2. Permission Model","text":""},{"location":"vers0.1.0/ACL/#21-permission-matrix","title":"2.1 Permission Matrix","text":"Agent Read Files Write Files Execute Tools Spawn Agents Approve Work Coordinator \u2705 \u274c \u2705 (limited) \u2705 \u2705 Planning \u2705 \u274c \u274c \u274c \u274c Coding \u2705 \u2705 \u2705 (code tools) \u274c \u274c Review \u2705 \u274c \u2705 (test tools) \u274c \u2705"},{"location":"vers0.1.0/ACL/#22-permission-enforcement","title":"2.2 Permission Enforcement","text":"<pre><code>from enum import Enum\n\nclass Permission(Enum):\n    READ_FILES = \\\"read_files\\\"\n    WRITE_FILES = \\\"write_files\\\"\n    EXECUTE_TOOLS = \\\"execute_tools\\\"\n    SPAWN_AGENTS = \\\"spawn_agents\\\"\n    APPROVE_WORK = \\\"approve_work\\\"\n\n@dataclass\nclass AgentRole:\n    name: str\n    permissions: set[Permission]\n    allowed_tools: set[str]\n\n# Define roles\nROLES = {\n    \\\"coordinator\\\": AgentRole(\n        name=\\\"coordinator\\\",\n        permissions={\n            Permission.READ_FILES,\n            Permission.EXECUTE_TOOLS,\n            Permission.SPAWN_AGENTS,\n            Permission.APPROVE_WORK\n        },\n        allowed_tools={\\\"search\\\", \\\"summarize\\\"}\n    ),\n    \\\"coder\\\": AgentRole(\n        name=\\\"coder\\\",\n        permissions={\n            Permission.READ_FILES,\n            Permission.WRITE_FILES,\n            Permission.EXECUTE_TOOLS\n        },\n        allowed_tools={\\\"file_read\\\", \\\"file_write\\\", \\\"git_commit\\\"}\n    ),\n    \\\"reviewer\\\": AgentRole(\n        name=\\\"reviewer\\\",\n        permissions={\n            Permission.READ_FILES,\n            Permission.EXECUTE_TOOLS,\n            Permission.APPROVE_WORK\n        },\n        allowed_tools={\\\"file_read\\\", \\\"run_tests\\\", \\\"lint\\\"}\n    )\n}\n</code></pre>"},{"location":"vers0.1.0/ACL/#23-permission-checks","title":"2.3 Permission Checks","text":"<pre><code>class Agent:\n    def __init__(self, agent_id: str, role: AgentRole):\n        self.agent_id = agent_id\n        self.role = role\n\n    def can(self, permission: Permission) -&gt; bool:\n        \\\"\\\"\\\"Check if agent has permission.\\\"\\\"\\\"\n        return permission in self.role.permissions\n\n    def use_tool(self, tool_name: str, **kwargs) -&gt; ToolResult:\n        \\\"\\\"\\\"Execute tool with permission check.\\\"\\\"\\\"\n        # Check tool permission\n        if tool_name not in self.role.allowed_tools:\n            raise PermissionDeniedError(\n                f\\\"Agent {self.agent_id} cannot use tool '{tool_name}'\\\"\n            )\n\n        # Check capability permission\n        if not self.can(Permission.EXECUTE_TOOLS):\n            raise PermissionDeniedError(\n                f\\\"Agent {self.agent_id} cannot execute tools\\\"\n            )\n\n        tool = ToolRegistry().get(tool_name)\n        return tool.execute(**kwargs)\n</code></pre>"},{"location":"vers0.1.0/ACL/#3-inter-agent-communication","title":"3. Inter-Agent Communication","text":""},{"location":"vers0.1.0/ACL/#31-message-protocol","title":"3.1 Message Protocol","text":"<pre><code>@dataclass\nclass AgentMessage:\n    sender: str  # Agent ID\n    receiver: str  # Target agent ID or \\\"broadcast\\\"\n    message_type: str  # \\\"request\\\" | \\\"response\\\" | \\\"notification\\\"\n    payload: dict[str, Any]\n    timestamp: datetime\n    correlation_id: str  # For request-response tracking\n\nclass MessageBus:\n    def send(self, message: AgentMessage) -&gt; None:\n        \\\"\\\"\\\"Send message to target agent's inbox.\\\"\\\"\\\"\n        if message.receiver == \\\"broadcast\\\":\n            for agent in self.agents.values():\n                agent.inbox.append(message)\n        else:\n            self.agents[message.receiver].inbox.append(message)\n\n    def receive(self, agent_id: str) -&gt; list[AgentMessage]:\n        \\\"\\\"\\\"Retrieve messages for an agent.\\\"\\\"\\\"\n        agent = self.agents[agent_id]\n        messages = agent.inbox.copy()\n        agent.inbox.clear()\n        return messages\n</code></pre>"},{"location":"vers0.1.0/ACL/#32-request-response-pattern","title":"3.2 Request-Response Pattern","text":"<pre><code># Coordinator sends task to Coding Agent\ncoordinator.send_message(AgentMessage(\n    sender=\\\"coordinator\\\",\n    receiver=\\\"coder-001\\\",\n    message_type=\\\"request\\\",\n    payload={\n        \\\"task\\\": \\\"implement_login_validation\\\",\n        \\\"spec\\\": {...}\n    },\n    correlation_id=uuid.uuid4().hex\n))\n\n# Coding Agent processes and responds\ncoder.send_message(AgentMessage(\n    sender=\\\"coder-001\\\",\n    receiver=\\\"coordinator\\\",\n    message_type=\\\"response\\\",\n    payload={\n        \\\"status\\\": \\\"completed\\\",\n        \\\"diff\\\": \\\"...\\\",\n        \\\"tests_pass\\\": True\n    },\n    correlation_id=original_message.correlation_id\n))\n</code></pre>"},{"location":"vers0.1.0/ACL/#4-resource-locking","title":"4. Resource Locking","text":""},{"location":"vers0.1.0/ACL/#41-preventing-concurrent-modification","title":"4.1 Preventing Concurrent Modification","text":"<pre><code>class ResourceLock:\n    def __init__(self):\n        self.locks: dict[str, str] = {}  # {resource_id: agent_id}\n\n    def acquire(self, resource_id: str, agent_id: str) -&gt; bool:\n        \\\"\\\"\\\"Try to acquire lock on resource.\\\"\\\"\\\"\n        if resource_id in self.locks:\n            return self.locks[resource_id] == agent_id  # Already owns it\n\n        self.locks[resource_id] = agent_id\n        return True\n\n    def release(self, resource_id: str, agent_id: str) -&gt; None:\n        \\\"\\\"\\\"Release lock on resource.\\\"\\\"\\\"\n        if self.locks.get(resource_id) == agent_id:\n            del self.locks[resource_id]\n\n    def is_locked(self, resource_id: str) -&gt; bool:\n        return resource_id in self.locks\n</code></pre> <p>Usage:</p> <pre><code>class CodingAgent(Agent):\n    def modify_file(self, file_path: str, content: str) -&gt; None:\n        # Try to acquire lock\n        if not self.resource_locks.acquire(file_path, self.agent_id):\n            raise ResourceLockError(f\\\"File {file_path} is locked\\\")\n\n        try:\n            # Perform modification\n            write_file(file_path, content)\n        finally:\n            # Always release lock\n            self.resource_locks.release(file_path, self.agent_id)\n</code></pre>"},{"location":"vers0.1.0/ACL/#5-task-delegation","title":"5. Task Delegation","text":""},{"location":"vers0.1.0/ACL/#51-coordinator-task-routing","title":"5.1 Coordinator Task Routing","text":"<pre><code>class CoordinatorAgent(Agent):\n    def assign_task(self, task: dict) -&gt; None:\n        \\\"\\\"\\\"Route task to appropriate specialist agent.\\\"\\\"\\\"\n        task_type = self._classify_task(task)\n\n        if task_type == \\\"planning\\\":\n            target_agent = self.planner\n        elif task_type == \\\"coding\\\":\n            target_agent = self.coder\n        elif task_type == \\\"review\\\":\n            target_agent = self.reviewer\n        else:\n            raise ValueError(f\\\"Unknown task type: {task_type}\\\")\n\n        # Send task\n        self.send_message(AgentMessage(\n            sender=self.agent_id,\n            receiver=target_agent.agent_id,\n            message_type=\\\"request\\\",\n            payload=task,\n            correlation_id=uuid.uuid4().hex\n        ))\n\n    def _classify_task(self, task: dict) -&gt; str:\n        \\\"\\\"\\\"Classify task based on description.\\\"\\\"\\\"\n        description = task.get(\\\"description\\\", \\\"\\\").lower()\n\n        if any(kw in description for kw in [\\\"plan\\\", \\\"design\\\", \\\"outline\\\"]):\n            return \\\"planning\\\"\n        elif any(kw in description for kw in [\\\"implement\\\", \\\"code\\\", \\\"fix\\\"]):\n            return \\\"coding\\\"\n        elif any(kw in description for kw in [\\\"review\\\", \\\"test\\\", \\\"validate\\\"]):\n            return \\\"review\\\"\n        else:\n            return \\\"unknown\\\"\n</code></pre>"},{"location":"vers0.1.0/ACL/#6-approval-workflows","title":"6. Approval Workflows","text":""},{"location":"vers0.1.0/ACL/#61-multi-stage-approval","title":"6.1 Multi-Stage Approval","text":"<pre><code>sequenceDiagram\n    participant Coordinator\n    participant Coder\n    participant Reviewer\n\n    Coordinator-&gt;&gt;Coder: Implement feature X\n    Coder-&gt;&gt;Coder: Write code\n    Coder-&gt;&gt;Reviewer: Request review\n    Reviewer-&gt;&gt;Reviewer: Validate code\n\n    alt Code passes review\n        Reviewer-&gt;&gt;Coordinator: Approved \u2705\n        Coordinator-&gt;&gt;System: Deploy changes\n    else Code fails review\n        Reviewer-&gt;&gt;Coder: Rejected \u274c\n        Coder-&gt;&gt;Coder: Fix issues\n        Coder-&gt;&gt;Reviewer: Request review (retry)\n    end\n</code></pre> <p>Implementation:</p> <pre><code>class ReviewAgent(Agent):\n    def review_code(self, diff: str) -&gt; dict:\n        \\\"\\\"\\\"Review code changes.\\\"\\\"\\\"\n        # Run linter\n        lint_result = self.use_tool(\\\"lint\\\", code=diff)\n\n        # Run tests\n        test_result = self.use_tool(\\\"run_tests\\\")\n\n        # Check for common issues\n        issues = self._static_analysis(diff)\n\n        # Approval decision\n        if lint_result.success and test_result.success and not issues:\n            return {\n                \\\"status\\\": \\\"approved\\\",\n                \\\"comments\\\": \\\"All checks passed\\\"\n            }\n        else:\n            return {\n                \\\"status\\\": \\\"rejected\\\",\n                \\\"comments\\\": \\\"Issues found\\\",\n                \\\"issues\\\": issues\n            }\n</code></pre>"},{"location":"vers0.1.0/ACL/#7-agent-lifecycle-management","title":"7. Agent Lifecycle Management","text":""},{"location":"vers0.1.0/ACL/#71-spawning-terminating-agents","title":"7.1 Spawning &amp; Terminating Agents","text":"<pre><code>class AgentLifecycleManager:\n    def spawn_agent(\n        self, \n        role: str, \n        config: dict\n    ) -&gt; Agent:\n        \\\"\\\"\\\"Create and initialize a new agent instance.\\\"\\\"\\\"\n        agent_id = f\\\"{role}-{uuid.uuid4().hex[:8]}\\\"\n        agent_role = ROLES[role]\n\n        agent = Agent(agent_id=agent_id, role=agent_role)\n        agent.initialize(config)\n\n        self.active_agents[agent_id] = agent\n        logger.info(\\\"agent_spawned\\\", agent_id=agent_id, role=role)\n\n        return agent\n\n    def terminate_agent(self, agent_id: str) -&gt; None:\n        \\\"\\\"\\\"Gracefully shut down an agent.\\\"\\\"\\\"\n        agent = self.active_agents.get(agent_id)\n        if not agent:\n            return\n\n        # Release all locks\n        for resource, lock_holder in list(self.resource_locks.locks.items()):\n            if lock_holder == agent_id:\n                self.resource_locks.release(resource, agent_id)\n\n        # Cleanup agent resources\n        agent.cleanup()\n\n        del self.active_agents[agent_id]\n        logger.info(\\\"agent_terminated\\\", agent_id=agent_id)\n</code></pre>"},{"location":"vers0.1.0/ACL/#8-shared-state-management","title":"8. Shared State Management","text":""},{"location":"vers0.1.0/ACL/#81-shared-context","title":"8.1 Shared Context","text":"<pre><code>@dataclass\nclass SharedAgentState:\n    \\\"\\\"\\\"State shared across all agents.\\\"\\\"\\\"\n    messages: list[AgentMessage]\n    context: dict[str, Any]  # Shared metadata\n    locks: dict[str, str]  # {resource_id: agent_id}\n\nclass SharedStateManager:\n    def __init__(self):\n        self.state = SharedAgentState(\n            messages=[],\n            context={},\n            locks={}\n        )\n        self._lock = threading.Lock()\n\n    def update_context(self, key: str, value: Any) -&gt; None:\n        \\\"\\\"\\\"Thread-safe context update.\\\"\\\"\\\"\n        with self._lock:\n            self.state.context[key] = value\n\n    def get_context(self, key: str) -&gt; Any:\n        \\\"\\\"\\\"Thread-safe context read.\\\"\\\"\\\"\n        with self._lock:\n            return self.state.context.get(key)\n</code></pre>"},{"location":"vers0.1.0/ACL/#9-audit-logging","title":"9. Audit Logging","text":""},{"location":"vers0.1.0/ACL/#91-agent-action-auditing","title":"9.1 Agent Action Auditing","text":"<pre><code>class AuditLogger:\n    def log_action(\n        self,\n        agent_id: str,\n        action: str,\n        resource: str,\n        outcome: str\n    ) -&gt; None:\n        \\\"\\\"\\\"Log agent action for audit trail.\\\"\\\"\\\"\n        entry = {\n            \\\"timestamp\\\": datetime.now().isoformat(),\n            \\\"agent_id\\\": agent_id,\n            \\\"action\\\": action,\n            \\\"resource\\\": resource,\n            \\\"outcome\\\": outcome\n        }\n\n        # Write to append-only log\n        with open(\\\"audit.jsonl\\\", \\\"a\\\") as f:\n            f.write(json.dumps(entry) + \\\"\\\\n\\\")\n\n        logger.info(\\\"audit_log\\\", **entry)\n</code></pre> <p>Usage in Agent:</p> <pre><code>class Agent:\n    def use_tool(self, tool_name: str, **kwargs) -&gt; ToolResult:\n        # Execute tool\n        result = super().use_tool(tool_name, **kwargs)\n\n        # Audit log\n        self.audit_logger.log_action(\n            agent_id=self.agent_id,\n            action=f\\\"use_tool:{tool_name}\\\",\n            resource=kwargs.get(\\\"file_path\\\", \\\"N/A\\\"),\n            outcome=\\\"success\\\" if result.success else \\\"failure\\\"\n        )\n\n        return result\n</code></pre>"},{"location":"vers0.1.0/ACL/#10-example-multi-agent-workflow","title":"10. Example Multi-Agent Workflow","text":""},{"location":"vers0.1.0/ACL/#101-complete-workflow","title":"10.1 Complete Workflow","text":"<pre><code># Setup\ncoordinator = CoordinatorAgent(\\\"coordinator-001\\\", ROLES[\\\"coordinator\\\"])\nplanner = PlanningAgent(\\\"planner-001\\\", ROLES[\\\"planning\\\"])\ncoder = CodingAgent(\\\"coder-001\\\", ROLES[\\\"coder\\\"])\nreviewer = ReviewAgent(\\\"reviewer-001\\\", ROLES[\\\"reviewer\\\"])\n\n# Step 1: User request to Coordinator\ncoordinator.receive_task({\\\"description\\\": \\\"Implement login validation\\\"})\n\n# Step 2: Coordinator \u2192 Planning Agent\ncoordinator.send_message(AgentMessage(\n    sender=\\\"coordinator-001\\\",\n    receiver=\\\"planner-001\\\",\n    message_type=\\\"request\\\",\n    payload={\\\"task\\\": \\\"Create implementation plan\\\"}\n))\n\n# Step 3: Planning Agent creates plan\nplan = planner.create_plan(...)\nplanner.send_message(AgentMessage(\n    sender=\\\"planner-001\\\",\n    receiver=\\\"coordinator-001\\\",\n    message_type=\\\"response\\\",\n    payload={\\\"plan\\\": plan}\n))\n\n# Step 4: Coordinator \u2192 Coding Agent\ncoordinator.send_message(AgentMessage(\n    sender=\\\"coordinator-001\\\",\n    receiver=\\\"coder-001\\\",\n    message_type=\\\"request\\\",\n    payload={\\\"plan\\\": plan}\n))\n\n# Step 5: Coding Agent implements\ndiff = coder.implement_plan(plan)\ncoder.send_message(AgentMessage(\n    sender=\\\"coder-001\\\",\n    receiver=\\\"reviewer-001\\\",\n    message_type=\\\"request\\\",\n    payload={\\\"diff\\\": diff}\n))\n\n# Step 6: Review Agent validates\nreview_result = reviewer.review_code(diff)\n\nif review_result[\\\"status\\\"] == \\\"approved\\\":\n    reviewer.send_message(AgentMessage(\n        sender=\\\"reviewer-001\\\",\n        receiver=\\\"coordinator-001\\\",\n        message_type=\\\"response\\\",\n        payload={\\\"approved\\\": True}\n    ))\n    coordinator.deploy_changes(diff)\nelse:\n    # Loop back to Coder for fixes\n    reviewer.send_message(AgentMessage(\n        sender=\\\"reviewer-001\\\",\n        receiver=\\\"coder-001\\\",\n        message_type=\\\"response\\\",\n        payload={\\\"approved\\\": False, \\\"issues\\\": review_result[\\\"issues\\\"]}\n    ))\n</code></pre>"},{"location":"vers0.1.0/ACL/#end-of-multi-agent-roles-acl-document","title":"End of Multi-Agent Roles &amp; ACL Document","text":""},{"location":"vers0.1.0/ARCHITECTURE/","title":"Arkhon-Rheo + ReActEngine Architecture Overview","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/ARCHITECTURE/#1-introduction","title":"1. Introduction","text":"<p>This document provides a comprehensive architectural overview of the Arkhon-Rheo agent system, detailing the component hierarchy, dependency relationships, and structural patterns that enable deterministic AI workflow execution.</p> <p>Audience: Software architects, senior engineers, and technical stakeholders.</p>"},{"location":"vers0.1.0/ARCHITECTURE/#2-architectural-principles","title":"2. Architectural Principles","text":""},{"location":"vers0.1.0/ARCHITECTURE/#21-core-tenets","title":"2.1 Core Tenets","text":"<ol> <li>Event Sourcing First: All state changes are immutable events</li> <li>Graph-based Execution: Workflows modeled as directed graphs</li> <li>Rule-Driven Governance: Explicit constraints via declarative rules</li> <li>Plugin Architecture: Tools and memory backends are pluggable</li> <li>Zero Magic: Explicit is better than implicit</li> </ol>"},{"location":"vers0.1.0/ARCHITECTURE/#22-design-patterns","title":"2.2 Design Patterns","text":"Pattern Usage Location State Machine Execution flow control <code>core/graph.py</code> Event Sourcing State management <code>core/state.py</code> Registry Tool discovery <code>tools/registry.py</code> Strategy Memory backend selection <code>memory/vector_store.py</code> Chain of Responsibility Rule validation <code>rules/rule_engine.py</code> Template Method Node execution lifecycle <code>nodes/base.py</code>"},{"location":"vers0.1.0/ARCHITECTURE/#3-component-hierarchy","title":"3. Component Hierarchy","text":""},{"location":"vers0.1.0/ARCHITECTURE/#31-layered-architecture","title":"3.1 Layered Architecture","text":"<pre><code>graph TD\n    subgraph \"L1: Interface Layer\"\n        CLI[CLI Interface]\n        API[REST API]\n        REPL[REPL]\n    end\n\n    subgraph \"L2: Orchestration Layer\"\n        Runtime[Runtime Executor]\n        Scheduler[Task Scheduler]\n        Lifecycle[Agent Lifecycle]\n    end\n\n    subgraph \"L3: Core Engine\"\n        StateGraph[StateGraph]\n        NodeRegistry[Node Registry]\n        ToolRegistry[Tool Registry]\n        RuleEngine[Rule Engine]\n    end\n\n    subgraph \"L4: Domain Layer\"\n        Nodes[Nodes]\n        Tools[Tools]\n        Rules[Rules]\n    end\n\n    subgraph \"L5: Infrastructure\"\n        Memory[Memory Systems]\n        Checkpoint[Checkpointing]\n        Config[Configuration]\n    end\n\n    CLI --&gt; Runtime\n    API --&gt; Runtime\n    REPL --&gt; Runtime\n\n    Runtime --&gt; StateGraph\n    Runtime --&gt; Scheduler\n    Runtime --&gt; Lifecycle\n\n    StateGraph --&gt; NodeRegistry\n    StateGraph --&gt; ToolRegistry\n    StateGraph --&gt; RuleEngine\n\n    NodeRegistry --&gt; Nodes\n    ToolRegistry --&gt; Tools\n    RuleEngine --&gt; Rules\n\n    Nodes --&gt; Memory\n    StateGraph --&gt; Checkpoint\n    Runtime --&gt; Config\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#32-dependency-direction","title":"3.2 Dependency Direction","text":"<p>Rule: Dependencies flow downward only (lower layers never depend on upper layers)</p> <pre><code>graph LR\nInterface \u2500\u2500&gt; Orchestration \u2500\u2500&gt; Core \u2500\u2500&gt; Domain \u2500\u2500&gt; Infrastructure\n</code></pre> <p>Benefits:</p> <ul> <li>Clear separation of concerns</li> <li>Easier testing (mock lower layers)</li> <li>Modular replacement</li> </ul>"},{"location":"vers0.1.0/ARCHITECTURE/#4-core-module-breakdown","title":"4. Core Module Breakdown","text":""},{"location":"vers0.1.0/ARCHITECTURE/#41-core-state-machine-graph","title":"4.1 <code>core/</code> - State Machine &amp; Graph","text":"<p>Purpose: Deterministic execution engine</p> Module Responsibility Key Classes <code>state.py</code> Immutable state management <code>ReActState</code>, <code>ReasoningStep</code> <code>graph.py</code> Graph execution <code>StateGraph</code>, <code>Edge</code> <code>context.py</code> Thread-local context <code>ContextManager</code> <code>step.py</code> Step factory <code>StepFactory</code> <p>Dependencies:</p> <pre><code># core/graph.py\nfrom arkhon_rheo.core.state import ReActState\nfrom arkhon_rheo.nodes.base import BaseNode\nfrom arkhon_rheo.rules.rule_engine import RuleEngine\n</code></pre> <p>Invariants:</p> <ul> <li>States are frozen dataclasses (immutable)</li> <li>Graph structure is acyclic (no infinite loops)</li> <li>Every edge has valid source and target nodes</li> </ul>"},{"location":"vers0.1.0/ARCHITECTURE/#42-nodes-execution-nodes","title":"4.2 <code>nodes/</code> - Execution Nodes","text":"<p>Purpose: Implement ReAct cycle phases</p> Node Input Output Side Effects <code>ThoughtNode</code> ReActState State + thought LLM API call <code>ValidateNode</code> State + thought State (validated) Rule checks <code>ActionNode</code> State + validated State + action Tool execution <code>ObservationNode</code> State + action State + observation Result formatting <code>CommitNode</code> State + observation State (committed) Checkpoint save <p>Node Lifecycle:</p> <pre><code>sequenceDiagram\n    participant Graph\n    participant Node\n    participant Before\n    participant Run\n    participant After\n\n    Graph-&gt;&gt;Node: execute(state)\n    Node-&gt;&gt;Before: before_run(state)\n    Before--&gt;&gt;Node: None\n    Node-&gt;&gt;Run: run(state)\n    Run--&gt;&gt;Node: new_state\n    Node-&gt;&gt;After: after_run(new_state)\n    After--&gt;&gt;Node: None\n    Node--&gt;&gt;Graph: new_state\n</code></pre> <p>Example Node:</p> <pre><code># nodes/thought_node.py\nfrom arkhon_rheo.nodes.base import BaseNode\nfrom arkhon_rheo.core.state import ReActState\n\nclass ThoughtNode(BaseNode):\n    def before_run(self, state: ReActState) -&gt; None:\n        logger.info(\"entering_thought_node\", step_count=len(state.steps))\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        thought = self.llm.generate(self._build_prompt(state))\n        step = ReasoningStep(thought=thought, ...)\n        return replace(state, steps=[*state.steps, step])\n\n    def after_run(self, state: ReActState) -&gt; None:\n        logger.info(\"exiting_thought_node\", thought_length=len(state.steps[-1].thought))\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#43-tools-tool-integration","title":"4.3 <code>tools/</code> - Tool Integration","text":"<p>Purpose: External API abstraction</p> <p>Structure:</p> <pre><code>tools/\n\u251c\u2500\u2500 base.py           # Tool, ToolResult\n\u251c\u2500\u2500 registry.py       # ToolRegistry\n\u251c\u2500\u2500 builtin/\n\u2502   \u251c\u2500\u2500 search.py\n\u2502   \u251c\u2500\u2500 calculator.py\n\u2502   \u2514\u2500\u2500 file_ops.py\n\u2514\u2500\u2500 custom/           # User-defined tools\n</code></pre> <p>Tool Interface:</p> <pre><code>from abc import ABC, abstractmethod\n\nclass Tool(ABC):\n    @property\n    @abstractmethod\n    def name(self) -&gt; str:\n        \"\"\"Unique tool identifier.\"\"\"\n\n    @property\n    @abstractmethod\n    def description(self) -&gt; str:\n        \"\"\"Human-readable description for LLM.\"\"\"\n\n    @property\n    def schema(self) -&gt; dict:\n        \"\"\"JSON Schema generated from execute() signature.\"\"\"\n        return self._generate_schema()\n\n    @abstractmethod\n    def execute(self, **kwargs) -&gt; ToolResult:\n        \"\"\"Execute tool with validated arguments.\"\"\"\n</code></pre> <p>Tool Registration:</p> <pre><code># In user code\nregistry = ToolRegistry()\n\n@registry.register\nclass CustomTool(Tool):\n    name = \"custom_action\"\n    description = \"Performs custom action\"\n\n    def execute(self, param1: str, param2: int) -&gt; ToolResult:\n        result = do_work(param1, param2)\n        return ToolResult(success=True, output=result)\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#44-rules-governance","title":"4.4 <code>rules/</code> - Governance","text":"<p>Purpose: Enforce constraints on reasoning steps</p> <p>Rule Types:</p> Rule Check Violation Action <code>MaxDepthRule</code> <code>len(steps) &lt; max_depth</code> Terminate execution <code>ForbidGuessingRule</code> No \"I guess\" in thought Retry thought <code>CostLimitRule</code> Total token cost &lt; limit Terminate execution <code>RequireToolUseRule</code> Action must be valid tool Retry action selection <p>Rule Engine:</p> <pre><code>class RuleEngine:\n    def __init__(self):\n        self.rules: list[Rule] = []\n\n    def add_rule(self, rule: Rule) -&gt; None:\n        self.rules.append(rule)\n\n    def validate(self, step: ReasoningStep) -&gt; None:\n        \"\"\"Run all rules. Raises RuleViolationError if any fail.\"\"\"\n        for rule in self.rules:\n            if not rule.check(step):\n                raise RuleViolationError(\n                    rule=rule.name,\n                    step=step,\n                    reason=rule.violation_message\n                )\n</code></pre> <p>Custom Rule Example:</p> <pre><code>class NoHallucinationRule(Rule):\n    name = \"no_hallucination\"\n\n    def check(self, step: ReasoningStep) -&gt; bool:\n        \"\"\"Fail if thought contains known hallucination indicators.\"\"\"\n        hallucination_phrases = [\n            \"I don't actually know\",\n            \"I'm not sure but\",\n            \"probably\"\n        ]\n        return not any(\n            phrase in step.thought.lower() \n            for phrase in hallucination_phrases\n        )\n\n    @property\n    def violation_message(self) -&gt; str:\n        return \"Thought contains uncertainty markers\"\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#45-memory-memory-systems","title":"4.5 <code>memory/</code> - Memory Systems","text":"<p>Purpose: Short-term and long-term information storage</p> <p>Components:</p> <pre><code>classDiagram\n    class MemoryManager {\n        +short_term: ContextWindow\n        +long_term: VectorStore\n        +add(message: dict)\n        +query(text: str) list~dict~\n    }\n\n    class ContextWindow {\n        -max_tokens: int\n        -messages: deque\n        +add(message: dict)\n        +get_context() list~dict~\n    }\n\n    class VectorStore {\n        &lt;&lt;abstract&gt;&gt;\n        +upsert(id, vector, metadata)\n        +query(vector, top_k) list~dict~\n    }\n\n    class PineconeStore {\n        -index: PineconeIndex\n        +upsert(...)\n        +query(...)\n    }\n\n    class WeaviateStore {\n        -client: WeaviateClient\n        +upsert(...)\n        +query(...)\n    }\n\n    MemoryManager --&gt; ContextWindow\n    MemoryManager --&gt; VectorStore\n    VectorStore &lt;|-- PineconeStore\n    VectorStore &lt;|-- WeaviateStore\n</code></pre> <p>Memory Hierarchy:</p> <ol> <li>L1 - Context Window: Last N messages (in-memory)</li> <li>L2 - Vector Store: Semantic search over all history</li> <li>L3 - Checkpoints: Full state snapshots on disk</li> </ol>"},{"location":"vers0.1.0/ARCHITECTURE/#46-runtime-execution-runtime","title":"4.6 <code>runtime/</code> - Execution Runtime","text":"<p>Purpose: Orchestrate graph execution</p> <p>Key Components:</p> <pre><code>class RuntimeExecutor:\n    \"\"\"Main execution coordinator.\"\"\"\n\n    def __init__(\n        self,\n        graph: StateGraph,\n        config: EngineConfig,\n        checkpoint_mgr: CheckpointManager\n    ):\n        self.graph = graph\n        self.config = config\n        self.checkpoint_mgr = checkpoint_mgr\n\n    def run(\n        self, \n        initial_state: ReActState,\n        interrupt_fn: Callable | None = None\n    ) -&gt; ReActState:\n        \"\"\"Execute until termination or max steps.\"\"\"\n        state = initial_state\n\n        for step in range(self.config.max_steps):\n            # Checkpoint every N steps\n            if step % self.config.checkpoint_interval == 0:\n                self.checkpoint_mgr.save(state)\n\n            # Human approval gate\n            if interrupt_fn and interrupt_fn(state):\n                user_decision = self._await_user_input()\n                if user_decision == \"abort\":\n                    return replace(state, terminated=True)\n\n            # Execute next node\n            state = self.graph.step(state)\n\n            if state.terminated:\n                break\n\n        return state\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#5-data-flow","title":"5. Data Flow","text":""},{"location":"vers0.1.0/ARCHITECTURE/#51-state-evolution","title":"5.1 State Evolution","text":"<pre><code>flowchart LR\n    S0[Initial State&lt;br/&gt;steps: []] \n    S1[After Thought&lt;br/&gt;steps: [draft]]\n    S2[After Validate&lt;br/&gt;steps: [validated]]\n    S3[After Action&lt;br/&gt;steps: [executed]]\n    S4[After Commit&lt;br/&gt;steps: [committed]]\n\n    S0 --&gt;|ThoughtNode| S1\n    S1 --&gt;|ValidateNode| S2\n    S2 --&gt;|ActionNode| S3\n    S3 --&gt;|CommitNode| S4\n    S4 --&gt;|Next cycle| S0\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#52-information-flow","title":"5.2 Information Flow","text":"<pre><code>graph LR\n    User[User Query] --&gt; Runtime\n    Runtime --&gt; Graph\n    Graph --&gt; ThoughtNode\n    ThoughtNode --&gt; LLM[LLM API]\n    LLM --&gt; ThoughtNode\n    ThoughtNode --&gt; Graph\n\n    Graph --&gt; ActionNode\n    ActionNode --&gt; ToolRegistry\n    ToolRegistry --&gt; Tool[Tool.execute]\n    Tool --&gt; ExternalAPI[External API]\n    ExternalAPI --&gt; Tool\n    Tool --&gt; ActionNode\n    ActionNode --&gt; Graph\n\n    Graph --&gt; CheckpointMgr\n    CheckpointMgr --&gt; SQLite[(SQLite)]\n\n    Graph --&gt; Memory\n    Memory --&gt; VectorDB[(Vector DB)]\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#6-extension-points","title":"6. Extension Points","text":""},{"location":"vers0.1.0/ARCHITECTURE/#61-custom-nodes","title":"6.1 Custom Nodes","text":"<p>How to Add:</p> <pre><code>from arkhon_rheo.nodes.base import BaseNode\n\nclass MyCustomNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        # Custom logic\n        return updated_state\n\n# Register in graph\ngraph = StateGraph()\ngraph.add_node(\"custom\", MyCustomNode())\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#62-custom-tools","title":"6.2 Custom Tools","text":"<p>How to Add:</p> <pre><code>from arkhon_rheo.tools.base import Tool, ToolResult\n\nclass MyTool(Tool):\n    name = \"my_tool\"\n    description = \"Does X\"\n\n    def execute(self, arg1: str) -&gt; ToolResult:\n        result = perform_action(arg1)\n        return ToolResult(success=True, output=result)\n\n# Register\nregistry.register(MyTool())\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#63-custom-rules","title":"6.3 Custom Rules","text":"<p>How to Add:</p> <pre><code>from arkhon_rheo.rules.base import Rule\n\nclass MyRule(Rule):\n    name = \"my_rule\"\n\n    def check(self, step: ReasoningStep) -&gt; bool:\n        return custom_validation(step)\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#64-custom-memory-backend","title":"6.4 Custom Memory Backend","text":"<p>How to Add:</p> <pre><code>from arkhon_rheo.memory.vector_store import VectorStore\n\nclass MyVectorStore(VectorStore):\n    async def upsert(self, id, vector, metadata):\n        # Custom implementation\n\n    async def query(self, vector, top_k):\n        # Custom implementation\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#7-configuration-system","title":"7. Configuration System","text":""},{"location":"vers0.1.0/ARCHITECTURE/#71-config-hierarchy","title":"7.1 Config Hierarchy","text":"<pre><code># config/default.yaml (shipped with package)\nengine:\n  max_steps: 20\n  checkpoint_interval: 5\n\n# config/user.yaml (user's custom config)\nengine:\n  max_steps: 50  # Override default\n\n# Environment variables (highest priority)\nexport ARKHON_RHEO_ENGINE_MAX_STEPS=100\n</code></pre> <p>Resolution Order: ENV &gt; user.yaml &gt; default.yaml</p>"},{"location":"vers0.1.0/ARCHITECTURE/#72-config-schema","title":"7.2 Config Schema","text":"<pre><code>from pydantic import BaseModel\n\nclass EngineConfig(BaseModel):\n    max_steps: int = 20\n    checkpoint_interval: int = 5\n    interruptible: bool = False\n\nclass LLMConfig(BaseModel):\n    provider: str\n    model: str\n    temperature: float = 0.0\n\nclass Config(BaseModel):\n    engine: EngineConfig\n    llm: LLMConfig\n    tools: list[ToolConfig]\n    rules: list[RuleConfig]\n    memory: MemoryConfig\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#8-security-architecture","title":"8. Security Architecture","text":""},{"location":"vers0.1.0/ARCHITECTURE/#81-trust-boundaries","title":"8.1 Trust Boundaries","text":"<pre><code>graph TB\n    User[Trusted: User Code]\n    Agent[Trusted: Agent System]\n    Tool[Untrusted: Tool Execution]\n    External[Untrusted: External APIs]\n\n    User --&gt;|Config| Agent\n    Agent --&gt;|Sandboxed Call| Tool\n    Tool --&gt;|Rate Limited| External\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#82-sandboxing-strategy","title":"8.2 Sandboxing Strategy","text":"<p>Principles:</p> <ol> <li>Least Privilege: Tools run with minimal permissions</li> <li>Timeout Enforcement: All tool calls have 5s timeout</li> <li>Resource Limits: Memory/CPU caps via cgroups</li> <li>Input Validation: All tool inputs validated against JSON Schema</li> </ol> <p>Implementation:</p> <pre><code>import subprocess\n\ndef execute_sandboxed(tool: Tool, args: dict) -&gt; ToolResult:\n    # Validate inputs\n    tool.validate_args(args)\n\n    # Execute in subprocess with restrictions\n    result = subprocess.run(\n        [\"python\", \"-c\", tool.generate_code(args)],\n        timeout=5,\n        capture_output=True,\n        env={\"HOME\": \"/tmp/sandbox\"},  # Isolated env\n        user=\"sandbox_user\",  # Non-root user\n    )\n\n    return parse_result(result)\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#9-scalability-considerations","title":"9. Scalability Considerations","text":""},{"location":"vers0.1.0/ARCHITECTURE/#91-vertical-scaling","title":"9.1 Vertical Scaling","text":"<p>Current Bottlenecks:</p> Component Bottleneck Mitigation LLM API Network latency Parallel calls, caching Vector DB Query latency HNSW index, quantization SQLite Write throughput WAL mode, batch writes"},{"location":"vers0.1.0/ARCHITECTURE/#92-horizontal-scaling-future","title":"9.2 Horizontal Scaling (Future)","text":"<p>Distributed Execution (v0.3.0):</p> <pre><code>graph LR\n    Coordinator[Coordinator Agent]\n    Worker1[Worker 1]\n    Worker2[Worker 2]\n    WorkerN[Worker N]\n    Queue[(Task Queue)]\n\n    Coordinator --&gt;|Enqueue| Queue\n    Queue --&gt;|Dequeue| Worker1\n    Queue --&gt;|Dequeue| Worker2\n    Queue --&gt;|Dequeue| WorkerN\n</code></pre> <p>Technologies:</p> <ul> <li>Task Queue: Celery / RQ</li> <li>Distributed State: Redis</li> <li>Coordination: Consul / etcd</li> </ul>"},{"location":"vers0.1.0/ARCHITECTURE/#10-migration-from-langgraph","title":"10. Migration from LangGraph","text":""},{"location":"vers0.1.0/ARCHITECTURE/#101-code-mapping","title":"10.1 Code Mapping","text":"<p>LangGraph:</p> <pre><code>from langgraph.graph import StateGraph\n\nclass MyState(TypedDict):\n    messages: list[dict]\n\ndef my_node(state: MyState) -&gt; MyState:\n    # Process\n    return updated_state\n\ngraph = StateGraph(MyState)\ngraph.add_node(\"process\", my_node)\ngraph.add_edge(\"process\", END)\nresult = graph.compile().invoke(initial)\n</code></pre> <p>Arkhon-Rheo:</p> <pre><code>from arkhon_rheo import StateGraph, FunctionNode\nfrom dataclasses import dataclass\n\n@dataclass\nclass MyState:\n    messages: list[dict]\n\ndef my_node(state: MyState) -&gt; MyState:\n    # Process (same logic)\n    return updated_state\n\ngraph = StateGraph()\ngraph.add_node(\"process\", FunctionNode(my_node))\ngraph.add_edge(\"process\", \"__end__\")\nresult = graph.run(initial)\n</code></pre> <p>Key Differences:</p> <ul> <li>Dataclasses instead of TypedDict (better type safety)</li> <li><code>run()</code> instead of <code>compile().invoke()</code> (simpler API)</li> <li>Built-in rule engine (optional in LangGraph)</li> </ul>"},{"location":"vers0.1.0/ARCHITECTURE/#11-observability-architecture","title":"11. Observability Architecture","text":""},{"location":"vers0.1.0/ARCHITECTURE/#111-logging-strategy","title":"11.1 Logging Strategy","text":"<p>Levels:</p> Level Usage Example DEBUG Step-by-step execution \"Entering ThoughtNode\" INFO State transitions \"Step 3 completed\" WARNING Recoverable errors \"Tool timeout, retrying\" ERROR Unrecoverable errors \"Rule violation, terminating\" <p>Structured Logging:</p> <pre><code>import structlog\n\nlogger = structlog.get_logger()\n\nlogger.info(\n    \"node_executed\",\n    node=\"ThoughtNode\",\n    step_id=5,\n    tokens_used=120,\n    duration_ms=850\n)\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#112-metrics","title":"11.2 Metrics","text":"<p>Key Metrics:</p> <ul> <li><code>react_steps_total</code> - Counter of reasoning steps</li> <li><code>node_latency_seconds</code> - Histogram of node execution time</li> <li><code>tool_calls_total</code> - Counter by tool name</li> <li><code>rule_violations_total</code> - Counter by rule name</li> <li><code>llm_tokens_used</code> - Counter of token consumption</li> </ul> <p>Prometheus Export:</p> <pre><code>from prometheus_client import start_http_server, Counter\n\nsteps_counter = Counter(\"react_steps_total\", \"Total reasoning steps\")\n\n# In node execution\nsteps_counter.inc()\n\n# Start metrics server\nstart_http_server(8000)\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#12-testing-strategy","title":"12. Testing Strategy","text":""},{"location":"vers0.1.0/ARCHITECTURE/#121-test-architecture","title":"12.1 Test Architecture","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/              # Individual components\n\u2502   \u251c\u2500\u2500 test_state.py\n\u2502   \u251c\u2500\u2500 test_graph.py\n\u2502   \u2514\u2500\u2500 test_rules.py\n\u251c\u2500\u2500 integration/       # Multi-component\n\u2502   \u251c\u2500\u2500 test_react_cycle.py\n\u2502   \u2514\u2500\u2500 test_multi_agent.py\n\u251c\u2500\u2500 e2e/              # Full workflows\n\u2502   \u2514\u2500\u2500 test_agent_workflow.py\n\u2514\u2500\u2500 fixtures/         # Shared test data\n    \u2514\u2500\u2500 conftest.py\n</code></pre>"},{"location":"vers0.1.0/ARCHITECTURE/#122-test-coverage-goals","title":"12.2 Test Coverage Goals","text":"<ul> <li>Unit: 95% line coverage</li> <li>Integration: All critical paths</li> <li>E2E: 3-5 realistic scenarios</li> </ul>"},{"location":"vers0.1.0/ARCHITECTURE/#end-of-architecture-document","title":"End of Architecture Document","text":""},{"location":"vers0.1.0/DESIGN/","title":"Arkhon-Rheo + ReActEngine System Design","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/DESIGN/#1-system-architecture-overview","title":"1. System Architecture Overview","text":""},{"location":"vers0.1.0/DESIGN/#11-high-level-architecture","title":"1.1 High-Level Architecture","text":"<pre><code>graph TB\n    subgraph \"User Interface Layer\"\n        CLI[CLI Interface]\n        API[HTTP API]\n        REPL[Interactive REPL]\n    end\n\n    subgraph \"Orchestration Layer\"\n        Runtime[Runtime Executor]\n        Scheduler[Task Scheduler]\n        Interrupt[Human Approval Gates]\n    end\n\n    subgraph \"Core Engine\"\n        StateGraph[StateGraph Engine]\n        Nodes[Node Registry]\n        Tools[Tool Registry]\n        Rules[Rule Engine]\n    end\n\n    subgraph \"Memory Layer\"\n        STM[Short-term Memory]\n        LTM[Long-term Memory]\n        Checkpoint[Checkpoint Manager]\n    end\n\n    subgraph \"External Services\"\n        LLM[LLM Provider]\n        VectorDB[Vector Database]\n        Storage[SQLite/File System]\n    end\n\n    CLI --&gt; Runtime\n    API --&gt; Runtime\n    REPL --&gt; Runtime\n\n    Runtime --&gt; StateGraph\n    Runtime --&gt; Scheduler\n    Runtime --&gt; Interrupt\n\n    StateGraph --&gt; Nodes\n    StateGraph --&gt; Tools\n    StateGraph --&gt; Rules\n\n    Nodes --&gt; STM\n    Nodes --&gt; LTM\n    StateGraph --&gt; Checkpoint\n\n    Nodes --&gt; LLM\n    LTM --&gt; VectorDB\n    Checkpoint --&gt; Storage\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#12-component-interaction-flow","title":"1.2 Component Interaction Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Runtime\n    participant StateGraph\n    participant ThoughtNode\n    participant ActionNode\n    participant Tool\n    participant CheckpointMgr\n\n    User-&gt;&gt;Runtime: Execute task\n    Runtime-&gt;&gt;StateGraph: run(initial_state)\n\n    loop Until Terminated\n        StateGraph-&gt;&gt;ThoughtNode: run(state)\n        ThoughtNode-&gt;&gt;Tool: LLM.generate()\n        Tool--&gt;&gt;ThoughtNode: thought\n        ThoughtNode--&gt;&gt;StateGraph: updated_state\n\n        StateGraph-&gt;&gt;CheckpointMgr: save(state)\n\n        StateGraph-&gt;&gt;ActionNode: run(state)\n        ActionNode-&gt;&gt;Tool: execute(action)\n        Tool--&gt;&gt;ActionNode: observation\n        ActionNode--&gt;&gt;StateGraph: updated_state\n    end\n\n    StateGraph--&gt;&gt;Runtime: final_state\n    Runtime--&gt;&gt;User: result\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#2-data-flow-analysis","title":"2. Data Flow Analysis","text":""},{"location":"vers0.1.0/DESIGN/#21-state-lifecycle","title":"2.1 State Lifecycle","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Initialized: create_initial_state()\n\n    Initialized --&gt; Thinking: enter ThoughtNode\n    Thinking --&gt; Validating: thought generated\n    Validating --&gt; Valid: rules pass\n    Validating --&gt; Thinking: rules fail (retry)\n    Valid --&gt; Acting: enter ActionNode\n    Acting --&gt; Observing: tool executed\n    Observing --&gt; Committing: observation recorded\n    Committing --&gt; Thinking: new cycle\n    Committing --&gt; Terminated: goal achieved\n\n    Thinking --&gt; Interrupted: human gate\n    Interrupted --&gt; Thinking: resume\n    Interrupted --&gt; Terminated: user abort\n\n    Terminated --&gt; [*]\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#22-data-transformations","title":"2.2 Data Transformations","text":"<pre><code># Initial State\nReActState(\n    trace_id=\"abc123\",\n    steps=[],\n    current_node=\"thought\",\n    metadata={},\n    terminated=False\n)\n\n# After ThoughtNode\nReActState(\n    trace_id=\"abc123\",\n    steps=[\n        ReasoningStep(\n            id=0,\n            thought=\"I need to search for X\",\n            action=None,\n            observation=None,\n            status=\"draft\"\n        )\n    ],\n    current_node=\"validate\",\n    ...\n)\n\n# After ActionNode\nReActState(\n    trace_id=\"abc123\",\n    steps=[\n        ReasoningStep(\n            id=0,\n            thought=\"I need to search for X\",\n            action=\"search\",\n            action_input={\"query\": \"X\"},\n            observation=\"Found: ...\",\n            status=\"executed\"\n        )\n    ],\n    current_node=\"commit\",\n    ...\n)\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#3-node-design-patterns","title":"3. Node Design Patterns","text":""},{"location":"vers0.1.0/DESIGN/#31-node-architecture","title":"3.1 Node Architecture","text":"<pre><code>classDiagram\n    class BaseNode {\n        &lt;&lt;abstract&gt;&gt;\n        +run(state: ReActState) ReActState\n        +before_run(state: ReActState) None\n        +after_run(state: ReActState) None\n    }\n\n    class ThoughtNode {\n        -llm: LLMClient\n        -prompt_template: str\n        +run(state) ReActState\n    }\n\n    class ActionNode {\n        -tool_registry: ToolRegistry\n        +run(state) ReActState\n    }\n\n    class ValidateNode {\n        -rule_engine: RuleEngine\n        +run(state) ReActState\n    }\n\n    BaseNode &lt;|-- ThoughtNode\n    BaseNode &lt;|-- ActionNode\n    BaseNode &lt;|-- ValidateNode\n    BaseNode &lt;|-- ObservationNode\n    BaseNode &lt;|-- CommitNode\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#32-thoughtnode-implementation","title":"3.2 ThoughtNode Implementation","text":"<pre><code>class ThoughtNode(BaseNode):\n    \"\"\"Generates reasoning thoughts using LLM.\"\"\"\n\n    def __init__(self, llm: LLMClient, prompt_template: str):\n        self.llm = llm\n        self.prompt_template = prompt_template\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        # Build prompt from state history\n        prompt = self._build_prompt(state)\n\n        # Get LLM response\n        thought = self.llm.generate(\n            prompt=prompt,\n            max_tokens=500,\n            temperature=0.0\n        )\n\n        # Create new reasoning step\n        step = ReasoningStep(\n            id=len(state.steps),\n            thought=thought,\n            action=None,\n            action_input=None,\n            observation=None,\n            status=\"draft\",\n            timestamp=datetime.now()\n        )\n\n        # Append to state (immutable update)\n        new_steps = [*state.steps, step]\n\n        # Transition to validate node\n        return replace(\n            state,\n            steps=new_steps,\n            current_node=\"validate\"\n        )\n\n    def _build_prompt(self, state: ReActState) -&gt; str:\n        \"\"\"Build prompt from conversation history.\"\"\"\n        context = \\\"\\\\n\\\".join(\n            f\\\"Thought: {s.thought}\\\\nAction: {s.action}\\\\nObservation: {s.observation}\\\"\n            for s in state.steps[-5:]  # Last 5 steps\n        )\n        return self.prompt_template.format(context=context)\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#33-actionnode-with-error-handling","title":"3.3 ActionNode with Error Handling","text":"<pre><code>class ActionNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        step = state.steps[-1]\n\n        # Extract action from thought\n        action, action_input = self._parse_action(step.thought)\n\n        # Execute tool with retry logic\n        observation = self._execute_with_retry(\n            action=action,\n            args=action_input,\n            max_retries=3\n        )\n\n        # Update step with results\n        updated_step = replace(\n            step,\n            action=action,\n            action_input=action_input,\n            observation=observation,\n            status=\"executed\"\n        )\n\n        # Replace last step (immutable)\n        new_steps = [*state.steps[:-1], updated_step]\n\n        return replace(\n            state,\n            steps=new_steps,\n            current_node=\"commit\"\n        )\n\n    def _execute_with_retry(\n        self, \n        action: str, \n        args: dict, \n        max_retries: int\n    ) -&gt; str:\n        for attempt in range(max_retries):\n            try:\n                tool = self.tool_registry.get(action)\n                result = tool.execute(**args)\n                return result.output\n            except ToolExecutionError as e:\n                if attempt == max_retries - 1:\n                    return f\\\"Error: {e}\\\"\n                time.sleep(2 ** attempt)  # Exponential backoff\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#4-error-handling-strategy","title":"4. Error Handling Strategy","text":""},{"location":"vers0.1.0/DESIGN/#41-error-categories","title":"4.1 Error Categories","text":"Category Example Strategy Transient API rate limit Retry with exponential backoff Invalid Input Malformed JSON Fail fast, log, request retry Rule Violation Max depth exceeded Terminate execution, notify user Resource Exhaustion Out of memory Checkpoint, cleanup, resume"},{"location":"vers0.1.0/DESIGN/#42-error-propagation","title":"4.2 Error Propagation","text":"<pre><code>class ErrorHandler:\n    def handle_error(\n        self, \n        error: Exception, \n        state: ReActState, \n        context: dict\n    ) -&gt; ReActState:\n        if isinstance(error, RuleViolationError):\n            # Log and terminate\n            logger.error(\"rule_violation\", rule=error.rule, state=state)\n            return replace(state, terminated=True, metadata={\n                \\\"error\\\": str(error),\n                \\\"type\\\": \\\"rule_violation\\\"\n            })\n\n        elif isinstance(error, ToolExecutionError):\n            # Add error to observation\n            step = state.steps[-1]\n            error_step = replace(\n                step,\n                observation=f\\\"Error: {error}\\\",\n                status=\\\"failed\\\"\n            end_text)\n            return replace(state, steps=[*state.steps[:-1], error_step])\n\n        else:\n            # Unexpected error - checkpoint and raise\n            CheckpointManager().save(state)\n            raise\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#5-performance-optimization","title":"5. Performance Optimization","text":""},{"location":"vers0.1.0/DESIGN/#51-latency-breakdown","title":"5.1 Latency Breakdown","text":"Component Target Latency Optimization LLM API call 500-2000ms Parallel calls where possible Tool execution &lt;100ms Local tools preferred State validation &lt;10ms Cached rule evaluation Checkpoint save &lt;50ms Async writes to SQLite"},{"location":"vers0.1.0/DESIGN/#52-caching-strategy","title":"5.2 Caching Strategy","text":"<pre><code>from functools import lru_cache\n\nclass ToolRegistry:\n    @lru_cache(maxsize=128)\n    def get_schema(self, tool_name: str) -&gt; dict:\n        \\\"\\\"\\\"Cached tool schema lookup.\\\"\\\"\\\"\n        tool = self.tools[tool_name]\n        return tool.schema\n\nclass RuleEngine:\n    def __init__(self):\n        self._rule_cache: dict[str, bool] = {}\n\n    def validate(self, step: ReasoningStep) -&gt; None:\n        cache_key = hash((step.thought, step.action))\n\n        if cache_key in self._rule_cache:\n            if not self._rule_cache[cache_key]:\n                raise RuleViolationError(\\\"Cached violation\\\")\n            return\n\n        # Run validation\n        for rule in self.rules:\n            rule.check(step)\n\n        self._rule_cache[cache_key] = True\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#53-memory-management","title":"5.3 Memory Management","text":"<pre><code>class ContextWindow:\n    def __init__(self, max_tokens: int = 8000):\n        self.max_tokens = max_tokens\n        self.messages: deque = deque(maxlen=100)  # Cap message count\n\n    def add(self, message: dict) -&gt; None:\n        self.messages.append(message)\n\n        # Evict oldest if over token limit\n        while self._token_count() &gt; self.max_tokens:\n            self.messages.popleft()\n\n    def _token_count(self) -&gt; int:\n        # Fast approximate count\n        return sum(len(m[\\\"content\\\"]) // 4 for m in self.messages)\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#6-security-sandboxing","title":"6. Security &amp; Sandboxing","text":""},{"location":"vers0.1.0/DESIGN/#61-tool-sandboxing","title":"6.1 Tool Sandboxing","text":"<pre><code>class SandboxedTool(Tool):\n    \\\"\\\"\\\"Execute tools in restricted environment.\\\"\\\"\\\"\n\n    ALLOWED_MODULES = {\\\"math\\\", \\\"json\\\", \\\"datetime\\\"}\n    BLOCKED_FUNCTIONS = {\\\"eval\\\", \\\"exec\\\", \\\"__import__\\\"}\n\n    def execute(self, **kwargs) -&gt; ToolResult:\n        # Validate no dangerous operations\n        self._validate_args(kwargs)\n\n        # Execute in subprocess with timeout\n        result = subprocess.run(\n            [\\\"python\\\", \\\"-c\\\", self._generate_code(kwargs)],\n            timeout=5,\n            capture_output=True,\n            env={\\\"HOME\\\": \\\"/tmp/sandbox\\\"}  # Isolated environment\n        )\n\n        return ToolResult(\n            success=result.returncode == 0,\n            output=result.stdout.decode()\n        )\n\n    def _validate_args(self, args: dict) -&gt; None:\n        \\\"\\\"\\\"Check for injection attempts.\\\"\\\"\\\"\n        for value in args.values():\n            if any(blocked in str(value) for blocked in self.BLOCKED_FUNCTIONS):\n                raise SecurityError(f\\\"Blocked function in input: {value}\\\")\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#62-secrets-management","title":"6.2 Secrets Management","text":"<p>Principles:</p> <ol> <li>Never log secrets: Redact API keys in logs</li> <li>Env vars only: No secrets in code/config files</li> <li>Rotation: Support key rotation without code changes</li> </ol> <pre><code>import os\nfrom dataclasses import dataclass\n\n@dataclass\nclass SecretsManager:\n    @staticmethod\n    def get_secret(key: str) -&gt; str:\n        value = os.getenv(key)\n        if not value:\n            raise ValueError(f\\\"Missing required secret: {key}\\\")\n        return value\n\n    @staticmethod\n    def redact_log(message: str) -&gt; str:\n        \\\"\\\"\\\"Redact API keys from log messages.\\\"\\\"\\\"\n        patterns = [\n            (r\\\"sk-[a-zA-Z0-9]{48}\\\", \\\"sk-***\\\"),  # OpenAI\n            (r\\\"Bearer [a-zA-Z0-9-_]+\\\", \\\"Bearer ***\\\"),  # JWT\n        ]\n        for pattern, replacement in patterns:\n            message = re.sub(pattern, replacement, message)\n        return message\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#7-testing-strategy","title":"7. Testing Strategy","text":""},{"location":"vers0.1.0/DESIGN/#71-test-pyramid","title":"7.1 Test Pyramid","text":"<pre><code>     /\\\\\n    /E2E\\\\       5 tests  - Full agent workflows\n   /------\\\\\n  /Integ  \\\\    30 tests - Multi-node scenarios\n /----------\\\\\n/   Unit    \\\\  150 tests - Individual components\n--------------\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#72-test-fixtures","title":"7.2 Test Fixtures","text":"<pre><code># tests/conftest.py\nimport pytest\n\n@pytest.fixture\ndef mock_llm():\n    \\\"\\\"\\\"Mock LLM that returns predefined responses.\\\"\\\"\\\"\n    class MockLLM:\n        def generate(self, prompt: str, **kwargs) -&gt; str:\n            return \\\"I should search for information\\\"\n    return MockLLM()\n\n@pytest.fixture\ndef sample_state():\n    return ReActState(\n        trace_id=\\\"test-123\\\",\n        steps=[],\n        current_node=\\\"thought\\\",\n        metadata={},\n        terminated=False\n    )\n\n@pytest.fixture\ndef tool_registry():\n    registry = ToolRegistry()\n    registry.register(MockSearchTool())\n    return registry\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#73-integration-test-example","title":"7.3 Integration Test Example","text":"<pre><code>def test_full_react_cycle(mock_llm, tool_registry):\n    \\\"\\\"\\\"Test complete thought\u2192action\u2192observation cycle.\\\"\\\"\\\"\n    # Setup\n    graph = StateGraph()\n    graph.add_node(\\\"thought\\\", ThoughtNode(mock_llm))\n    graph.add_node(\\\"action\\\", ActionNode(tool_registry))\n    graph.add_edge(\\\"thought\\\", \\\"action\\\")\n\n    initial_state = ReActState(\n        trace_id=\\\"test\\\",\n        steps=[],\n        current_node=\\\"thought\\\"\n    )\n\n    # Execute\n    final_state = graph.run(initial_state, max_steps=3)\n\n    # Assert\n    assert len(final_state.steps) &gt;= 1\n    assert final_state.steps[0].thought is not None\n    assert final_state.steps[0].observation is not None\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#8-deployment-architecture","title":"8. Deployment Architecture","text":""},{"location":"vers0.1.0/DESIGN/#81-local-development","title":"8.1 Local Development","text":"<pre><code>Developer Machine\n\u251c\u2500\u2500 src/arkhon-rheo/  (Development codebase)\n\u251c\u2500\u2500 .env               (Secrets)\n\u251c\u2500\u2500 config/dev.yaml    (Dev config)\n\u2514\u2500\u2500 .checkpoints.db    (State persistence)\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#82-production-deployment","title":"8.2 Production Deployment","text":"<pre><code>graph LR\n    subgraph \"Application Server\"\n        API[HTTP API]\n        Runtime[Runtime Executor]\n    end\n\n    subgraph \"Data Layer\"\n        SQLite[(SQLite)]\n        Redis[(Redis Cache)]\n    end\n\n    subgraph \"External\"\n        OpenAI[OpenAI API]\n        Pinecone[Pinecone]\n    end\n\n    API --&gt; Runtime\n    Runtime --&gt; SQLite\n    Runtime --&gt; Redis\n    Runtime --&gt; OpenAI\n    Runtime --&gt; Pinecone\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#9-observability","title":"9. Observability","text":""},{"location":"vers0.1.0/DESIGN/#91-structured-logging","title":"9.1 Structured Logging","text":"<pre><code>import structlog\n\nlogger = structlog.get_logger()\n\n# In StateGraph.run()\nlogger.info(\n    \\\"graph_execution_start\\\",\n    trace_id=state.trace_id,\n    initial_node=state.current_node\n)\n\n# In nodes\nlogger.debug(\n    \\\"node_execution\\\",\n    node=self.__class__.__name__,\n    step_id=len(state.steps)\n)\n\nlogger.info(\n    \\\"graph_execution_complete\\\",\n    trace_id=state.trace_id,\n    total_steps=len(state.steps),\n    duration_ms=(end - start) * 1000\n)\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#92-metrics-collection","title":"9.2 Metrics Collection","text":"<pre><code>from prometheus_client import Counter, Histogram\n\n# Define metrics\nstep_counter = Counter(\\\"react_steps_total\\\", \\\"Total reasoning steps executed\\\")\nlatency_histogram = Histogram(\\\"node_latency_seconds\\\", \\\"Node execution latency\\\")\n\n# In node execution\nwith latency_histogram.time():\n    result = self.run(state)\n    step_counter.inc()\n</code></pre>"},{"location":"vers0.1.0/DESIGN/#end-of-design-document","title":"End of Design Document","text":""},{"location":"vers0.1.0/DEVGUIDE/","title":"Arkhon-Rheo + ReActEngine Development Guide","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/DEVGUIDE/#1-getting-started","title":"1. Getting Started","text":""},{"location":"vers0.1.0/DEVGUIDE/#11-prerequisites","title":"1.1 Prerequisites","text":"<p>Required:</p> <ul> <li>Python 3.12+</li> <li>uv (package manager)</li> <li>Git</li> </ul> <p>Optional:</p> <ul> <li>Docker (for local vector DB testing)</li> <li>Make (for convenience commands)</li> </ul>"},{"location":"vers0.1.0/DEVGUIDE/#12-repository-setup","title":"1.2 Repository Setup","text":"<p>\u6ce8\u610f: \u672c\u6587\u4ef6\u4e2d\u7684\u8def\u5f91\u4f7f\u7528\u6a19\u6e96\u76f8\u5c0d\u8def\u5f91 <code>src/arkhon-rheo/</code>\u3002 \u60a8\u7684\u5be6\u969b\u5c08\u6848\u53ef\u80fd\u4f4d\u65bc\u4e0d\u540c\u7684\u7d55\u5c0d\u8def\u5f91\uff08\u5982 <code>/wk2/yaochu/github/dlamp/src/arkhon-rheo</code>\uff09\u3002 \u8acb\u6839\u64da\u60a8\u7684\u74b0\u5883\u8abf\u6574\u8def\u5f91\u3002</p> <pre><code># \u5c0e\u822a\u5230\u5c08\u6848\u76ee\u9304\uff08\u4f7f\u7528\u76f8\u5c0d\u8def\u5f91\uff09\ncd src/arkhon-rheo\n\n# Install dependencies\nuv sync\n\n# Activate virtual environment\nsource .venv/bin/activate\n\n# Verify installation\npython -c \"import arkhon_rheo; print(arkhon_rheo.__version__)\"\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#13-project-structure","title":"1.3 Project Structure","text":"<pre><code>src/arkhon-rheo/\n\u251c\u2500\u2500 arkhon_rheo/          # Main package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 core/             # State machine &amp; graph\n\u2502   \u251c\u2500\u2500 nodes/            # ReAct nodes\n\u2502   \u251c\u2500\u2500 tools/            # Tool registry &amp; implementations\n\u2502   \u251c\u2500\u2500 rules/            # Governance rules\n\u2502   \u251c\u2500\u2500 memory/           # Memory systems\n\u2502   \u251c\u2500\u2500 runtime/          # Execution runtime\n\u2502   \u251c\u2500\u2500 config/           # Configuration loading\n\u2502   \u2514\u2500\u2500 cli/              # Command-line interface\n\u251c\u2500\u2500 tests/                # Test suite\n\u2502   \u251c\u2500\u2500 unit/\n\u2502   \u251c\u2500\u2500 integration/\n\u2502   \u2514\u2500\u2500 e2e/\n\u251c\u2500\u2500 examples/             # Example projects\n\u251c\u2500\u2500 docs/                 # Documentation\n\u251c\u2500\u2500 pyproject.toml        # Package metadata\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#2-development-workflow","title":"2. Development Workflow","text":""},{"location":"vers0.1.0/DEVGUIDE/#21-branch-strategy","title":"2.1 Branch Strategy","text":"<p>Main Branches:</p> <ul> <li><code>main</code> - Production-ready code</li> <li><code>develop</code> - Integration branch</li> <li><code>feature/*</code> - Feature branches</li> <li><code>hotfix/*</code> - Emergency fixes</li> </ul> <p>Workflow:</p> <pre><code># Start new feature\ngit checkout develop\ngit pull origin develop\ngit checkout -b feature/my-feature\n\n# Make changes\ngit add .\ngit commit -m \"feat: add feature X\"\n\n# Push and create PR\ngit push origin feature/my-feature\n# Create PR: feature/my-feature \u2192 develop\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#22-commit-convention","title":"2.2 Commit Convention","text":"<p>Format: <code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</code></p> <p>Types:</p> <ul> <li><code>feat</code>: New feature</li> <li><code>fix</code>: Bug fix</li> <li><code>docs</code>: Documentation only</li> <li><code>style</code>: Code style (formatting, no logic change)</li> <li><code>refactor</code>: Code restructuring</li> <li><code>test</code>: Add/update tests</li> <li><code>chore</code>: Build process, dependencies</li> </ul> <p>Examples:</p> <pre><code>git commit -m \"feat(tools): add web search tool\"\ngit commit -m \"fix(graph): prevent infinite loops\"\ngit commit -m \"docs(readme): update installation instructions\"\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#23-code-quality-checks","title":"2.3 Code Quality Checks","text":"<p>Before Commit:</p> <pre><code># Format code\nruff format src/arkhon-rheo\n\n# Lint\nruff check src/arkhon-rheo --fix\n\n# Type check\nmypy --strict src/arkhon-rheo\n\n# Run tests\npytest tests/ -v\n\n# Check coverage\npytest --cov=arhon_rheo --cov-report=html\n</code></pre> <p>Pre-commit Hook (<code>.git/hooks/pre-commit</code>):</p> <pre><code>#!/bin/bash\nruff check src/arkhon-rheo || exit 1\nmypy src/arkhon-rheo || exit 1\npytest tests/unit || exit 1\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#3-development-environment","title":"3. Development Environment","text":""},{"location":"vers0.1.0/DEVGUIDE/#31-ide-configuration","title":"3.1 IDE Configuration","text":"<p>VSCode (<code>.vscode/settings.json</code>):</p> <pre><code>{\n  \"python.linting.enabled\": true,\n  \"python.linting.mypyEnabled\": true,\n  \"python.formatting.provider\": \"none\",\n  \"[python]\": {\n    \"editor.formatOnSave\": true,\n    \"editor.codeActionsOnSave\": {\n      \"source.organizeImports\": true\n    },\n    \"editor.defaultFormatter\": \"charliermarsh.ruff\"\n  },\n  \"python.testing.pytestEnabled\": true\n}\n</code></pre> <p>PyCharm:</p> <ul> <li>Enable mypy plugin</li> <li>Configure Ruff as external tool</li> <li>Set pytest as test runner</li> </ul>"},{"location":"vers0.1.0/DEVGUIDE/#32-environment-variables","title":"3.2 Environment Variables","text":"<p>Create <code>.env</code> file:</p> <pre><code># LLM Provider\nOPENAI_API_KEY=sk-your-key-here\n\n# Vector Store (optional)\nPINECONE_API_KEY=your-pinecone-key\nPINECONE_ENVIRONMENT=your-environment\n\n# Logging\nLOG_LEVEL=DEBUG\nSTRUCTURED_LOGS=true\n\n# Development\nARKHON_RHEO_ENV=development\n</code></pre> <p>Load in code:</p> <pre><code>from dotenv import load_dotenv\n\nload_dotenv()  # Reads .env file\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#4-running-the-agent","title":"4. Running the Agent","text":""},{"location":"vers0.1.0/DEVGUIDE/#41-quick-start","title":"4.1 Quick Start","text":"<pre><code># Run example agent\npython src/arkhon-rheo/dev.py\n</code></pre> <p>Script content (<code>dev.py</code>):</p> <pre><code>from arkhon_rheo import StateGraph, ReActState\nfrom arkhon_rheo.nodes import ThoughtNode, ActionNode\nfrom arkhon_rheo.config import Config\n\n# Load config\nconfig = Config.from_yaml(\"config/default.yaml\")\n\n# Build graph\ngraph = StateGraph()\ngraph.add_node(\"thought\", ThoughtNode(config.llm))\ngraph.add_node(\"action\", ActionNode(config.tools))\ngraph.add_edge(\"thought\", \"action\")\ngraph.add_edge(\"action\", \"__end__\")\n\n# Run\ninitial_state = ReActState(\n    trace_id=\"dev-001\",\n    steps=[],\n    current_node=\"thought\",\n    metadata={\"goal\": \"Find information about X\"}\n)\n\nresult = graph.run(initial_state)\nprint(f\"Completed in {len(result.steps)} steps\")\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#42-cli-usage","title":"4.2 CLI Usage","text":"<pre><code># Initialize new project\narkhon-rheo init my-agent --template basic\n\n# Validate config\narkhon-rheo config validate config/my-config.yaml\n\n# Run agent\narkhon-rheo run --config config/my-config.yaml\n\n# Interactive REPL\narkhon-rheo repl\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#5-writing-tests","title":"5. Writing Tests","text":""},{"location":"vers0.1.0/DEVGUIDE/#51-unit-test-example","title":"5.1 Unit Test Example","text":"<pre><code># tests/unit/core/test_state.py\nimport pytest\nfrom arkhon_rheo.core.state import ReActState, ReasoningStep\n\ndef test_state_immutability():\n    state = ReActState(trace_id=\"test\", steps=[], current_node=\"thought\")\n\n    # Should raise error (frozen dataclass)\n    with pytest.raises(AttributeError):\n        state.trace_id = \"modified\"\n\ndef test_step_creation():\n    step = ReasoningStep(\n        id=0,\n        thought=\"Test thought\",\n        action=None,\n        observation=None,\n        status=\"draft\"\n    )\n\n    assert step.thought == \"Test thought\"\n    assert step.status == \"draft\"\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#52-integration-test-example","title":"5.2 Integration Test Example","text":"<pre><code># tests/integration/test_react_cycle.py\ndef test_full_react_cycle(mock_llm, mock_tools):\n    graph = StateGraph()\n    graph.add_node(\"thought\", ThoughtNode(mock_llm))\n    graph.add_node(\"action\", ActionNode(mock_tools))\n    graph.add_edge(\"thought\", \"action\")\n\n    initial_state = ReActState(...)\n    result = graph.run(initial_state, max_steps=3)\n\n    assert len(result.steps) &gt;= 1\n    assert result.steps[0].thought is not None\n    assert result.steps[0].observation is not None\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#53-test-fixtures","title":"5.3 Test Fixtures","text":"<pre><code># tests/conftest.py\nimport pytest\n\n@pytest.fixture\ndef mock_llm():\n    class MockLLM:\n        def generate(self, prompt: str) -&gt; str:\n            return \"I should search for information\"\n    return MockLLM()\n\n@pytest.fixture\ndef sample_state():\n    return ReActState(\n        trace_id=\"test-123\",\n        steps=[],\n        current_node=\"thought\"\n    )\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#6-debugging","title":"6. Debugging","text":""},{"location":"vers0.1.0/DEVGUIDE/#61-enable-debug-logging","title":"6.1 Enable Debug Logging","text":"<pre><code>import structlog\n\nstructlog.configure(\n    processors=[\n        structlog.processors.TimeStamper(fmt=\"iso\"),\n        structlog.dev.ConsoleRenderer()\n    ]\n)\n\nlogger = structlog.get_logger()\nlogger.setLevel(\"DEBUG\")\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#62-inspect-state","title":"6.2 Inspect State","text":"<pre><code>from pprint import pprint\n\n# Print current state\npprint(state.to_dict())\n\n# Print last N steps\nfor step in state.steps[-5:]:\n    print(f\"Step {step.id}: {step.thought}\")\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#63-checkpoint-inspection","title":"6.3 Checkpoint Inspection","text":"<pre><code>from arkhon_rheo.runtime.checkpoint import CheckpointManager\n\nmgr = CheckpointManager(\".checkpoints.db\")\n\n# List all checkpoints\ncheckpoints = mgr.list_all()\nfor cp in checkpoints:\n    print(f\"{cp.trace_id} - {cp.timestamp}\")\n\n# Load specific checkpoint\nstate = mgr.load(\"trace-abc123\")\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#7-adding-new-components","title":"7. Adding New Components","text":""},{"location":"vers0.1.0/DEVGUIDE/#71-add-a-custom-node","title":"7.1 Add a Custom Node","text":"<pre><code># arkhon_rheo/nodes/custom_node.py\nfrom arkhon_rheo.nodes.base import BaseNode\nfrom arkhon_rheo.core.state import ReActState\n\nclass MyCustomNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        # Custom logic here\n        result = perform_custom_logic(state)\n\n        # Update state\n        return replace(state, metadata={\n            **state.metadata,\n            \"custom_result\": result\n        })\n</code></pre> <p>Register in graph:</p> <pre><code>graph.add_node(\"custom\", MyCustomNode())\ngraph.add_edge(\"thought\", \"custom\")\ngraph.add_edge(\"custom\", \"action\")\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#72-add-a-custom-tool","title":"7.2 Add a Custom Tool","text":"<pre><code># arkhon_rheo/tools/custom/my_tool.py\nfrom arkhon_rheo.tools.base import Tool, ToolResult\n\nclass MyTool(Tool):\n    name = \"my_custom_tool\"\n    description = \"Performs custom action on input\"\n\n    def execute(self, query: str, param: int = 10) -&gt; ToolResult:\n        result = my_custom_function(query, param)\n        return ToolResult(\n            success=True,\n            output=result,\n            metadata={\"param_used\": param}\n        )\n</code></pre> <p>Register:</p> <pre><code>from arkhon_rheo.tools.registry import ToolRegistry\n\nregistry = ToolRegistry()\nregistry.register(MyTool())\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#73-add-a-custom-rule","title":"7.3 Add a Custom Rule","text":"<pre><code># arkhon_rheo/rules/custom/my_rule.py\nfrom arkhon_rheo.rules.base import Rule\nfrom arkhon_rheo.core.state import ReasoningStep\n\nclass MyCustomRule(Rule):\n    name = \"my_rule\"\n\n    def __init__(self, threshold: float = 0.8):\n        self.threshold = threshold\n\n    def check(self, step: ReasoningStep) -&gt; bool:\n        # Custom validation logic\n        return confidence_score(step.thought) &gt;= self.threshold\n\n    @property\n    def violation_message(self) -&gt; str:\n        return f\"Confidence below {self.threshold}\"\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#8-configuration-management","title":"8. Configuration Management","text":""},{"location":"vers0.1.0/DEVGUIDE/#81-yaml-structure","title":"8.1 YAML Structure","text":"<pre><code>engine:\n  max_steps: 20\n  checkpoint_interval: 5\n  interruptible: false\n\nllm:\n  provider: openai\n  model: gpt-4o-mini\n  temperature: 0.0\n  max_tokens: 500\n\ntools:\n  - name: search\n    enabled: true\n    config:\n      api_key: ${SEARCH_API_KEY}\n  - name: calculator\n    enabled: true\n\nrules:\n  - type: max_depth\n    value: 10\n  - type: cost_limit\n    value: 0.50\n\nmemory:\n  short_term:\n    max_tokens: 8000\n  long_term:\n    type: pinecone\n    index: agent-memory\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#82-load-config","title":"8.2 Load Config","text":"<pre><code>from arkhon_rheo.config import Config\n\n# From file\nconfig = Config.from_yaml(\"config/my-config.yaml\")\n\n# From dict\nconfig = Config.from_dict({\n    \"engine\": {\"max_steps\": 30},\n    \"llm\": {\"provider\": \"openai\", \"model\": \"gpt-4\"}\n})\n\n# With env var expansion\nconfig = Config.from_yaml(\"config.yaml\", expand_env=True)\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#9-performance-profiling","title":"9. Performance Profiling","text":""},{"location":"vers0.1.0/DEVGUIDE/#91-profiling-execution","title":"9.1 Profiling Execution","text":"<pre><code>import cProfile\nimport pstats\n\n# Profile graph execution\nprofiler = cProfile.Profile()\nprofiler.enable()\n\nresult = graph.run(initial_state)\n\nprofiler.disable()\nstats = pstats.Stats(profiler)\nstats.sort_stats(\"cumulative\")\nstats.print_stats(20)  # Top 20 functions\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#92-memory-profiling","title":"9.2 Memory Profiling","text":"<pre><code>from memory_profiler import profile\n\n@profile\ndef run_agent():\n    graph = StateGraph()\n    # ... setup\n    result = graph.run(initial_state)\n    return result\n\nif __name__ == \"__main__\":\n    run_agent()\n</code></pre> <p>Run:</p> <pre><code>python -m memory_profiler script.py\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#10-deployment","title":"10. Deployment","text":""},{"location":"vers0.1.0/DEVGUIDE/#101-local-development-server","title":"10.1 Local Development Server","text":"<pre><code># server.py\nfrom fastapi import FastAPI\nfrom arkhon_rheo import StateGraph, ReActState\n\napp = FastAPI()\n\n@app.post(\"/execute\")\nasync def execute_agent(request: dict):\n    initial_state = ReActState(**request)\n    result = graph.run(initial_state)\n    return result.to_dict()\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#102-production-checklist","title":"10.2 Production Checklist","text":"<ul> <li>[ ] Environment variables configured</li> <li>[ ] Secrets managed via external vault</li> <li>[ ] Logging set to INFO level</li> <li>[ ] Metrics endpoint exposed</li> <li>[ ] Health check endpoint</li> <li>[ ] Rate limiting enabled</li> <li>[ ] Checkpointing configured</li> <li>[ ] Error monitoring (Sentry) enabled</li> </ul>"},{"location":"vers0.1.0/DEVGUIDE/#11-troubleshooting","title":"11. Troubleshooting","text":""},{"location":"vers0.1.0/DEVGUIDE/#111-common-issues","title":"11.1 Common Issues","text":"<p>Issue: <code>ImportError: No module named 'arkhon_rheo'</code></p> <p>Solution:</p> <pre><code># Ensure you're in virtual environment\nsource .venv/bin/activate\n\n# Reinstall package\nuv sync\n</code></pre> <p>Issue: Tests fail with \"Checkpoint DB locked\"</p> <p>Solution:</p> <pre><code># Use separate test DB\nimport pytest\n\n@pytest.fixture\ndef checkpoint_mgr(tmp_path):\n    db_path = tmp_path / \"test.db\"\n    return CheckpointManager(str(db_path))\n</code></pre> <p>Issue: LLM API timeout</p> <p>Solution:</p> <pre><code># Increase timeout in config\nllm:\n  provider: openai\n  timeout: 30  # seconds\n</code></pre>"},{"location":"vers0.1.0/DEVGUIDE/#end-of-development-guide","title":"End of Development Guide","text":""},{"location":"vers0.1.0/DOC_INDEX/","title":"ReActEngine Documentation Index","text":"<p>Version: 1.0.0 Last Updated: 2026-02-16</p>"},{"location":"vers0.1.0/DOC_INDEX/#quick-navigation","title":"Quick Navigation","text":""},{"location":"vers0.1.0/DOC_INDEX/#start-here","title":"\ud83d\ude80 Start Here","text":"<p>Quickstart: DEVGUIDE.md \u2192 ROADMAP.md</p>"},{"location":"vers0.1.0/DOC_INDEX/#phase-1-foundation","title":"\ud83d\udccc Phase 1 (Foundation) \u5feb\u901f\u5165\u53e3","text":"<p>\u6b63\u5728\u9032\u884c Phase 1 \u958b\u767c\uff1f\u95b1\u8b80\u9806\u5e8f\uff1a</p> <ol> <li>PHASE1_INDEX.md - Phase 1 \u5c08\u5c6c\u7d22\u5f15\uff08\u2b50 \u65b0\u589e\uff09</li> <li>ROADMAP.md - Phase 1 \u8a73\u7d30\u8a08\u5283</li> <li>PHASE1_SKILLS.md - \u6bcf\u500b Sprint \u7684\u6280\u80fd\u63a8\u85a6\uff08\u2b50 \u65b0\u589e\uff09</li> <li>DEVGUIDE.md - \u958b\u767c\u74b0\u5883\u8a2d\u5b9a</li> <li>TDD.md - \u6e2c\u8a66\u7b56\u7565</li> </ol>"},{"location":"vers0.1.0/DOC_INDEX/#phase-2-multi-agent","title":"\ud83d\udccc Phase 2 (Multi-Agent) \u5feb\u901f\u5165\u53e3","text":"<p>\u6b63\u5728\u9032\u884c Phase 2 \u958b\u767c\uff1f\u95b1\u8b80\u9806\u5e8f\uff1a</p> <ol> <li>PHASE2_INDEX.md - Phase 2 \u5c08\u5c6c\u7d22\u5f15\uff08\u2b50 \u65b0\u589e\uff09</li> <li>ROADMAP.md - Phase 2 \u8a73\u7d30\u8a08\u5283</li> <li>PHASE2_SKILLS.md - \u6bcf\u500b Sprint \u7684\u6280\u80fd\u63a8\u85a6\uff08\u2b50 \u65b0\u589e\uff09</li> </ol>"},{"location":"vers0.1.0/DOC_INDEX/#phase-4-framework-release","title":"\ud83d\udccc Phase 4 (Framework Release) \u5feb\u901f\u5165\u53e3","text":"<p>\u6b63\u5728\u9032\u884c Phase 4 \u958b\u767c\uff1f\u95b1\u8b80\u9806\u5e8f\uff1a</p> <ol> <li>PHASE4_INDEX.md - Phase 4 \u5c08\u5c6c\u7d22\u5f15\uff08\u2b50 \u65b0\u589e\uff09</li> <li>ROADMAP.md - Phase 4 \u8a73\u7d30\u8a08\u5283</li> <li>PHASE4_SKILLS.md - \u6bcf\u500b Sprint \u7684\u6280\u80fd\u63a8\u85a6\uff08\u2b50 \u65b0\u589e\uff09</li> </ol>"},{"location":"vers0.1.0/DOC_INDEX/#documentation-by-category","title":"Documentation by Category","text":""},{"location":"vers0.1.0/DOC_INDEX/#implementation-guides","title":"\ud83d\udccb Implementation Guides","text":"Document Purpose When to Use workflows_ai-agentic-system-builder.md Complete implementation workflow Building the system from scratch DEVGUIDE.md Developer guide Day-to-day development TDD.md Test-driven development strategy Writing tests"},{"location":"vers0.1.0/DOC_INDEX/#architecture-design","title":"\ud83c\udfd7\ufe0f Architecture &amp; Design","text":"Document Purpose When to Use SPECIFICATION.md Technical requirements Understanding what to build ARCHITECTURE.md Component architecture Understanding system structure DESIGN.md System design details Understanding data flow, performance STATE_MACHINE.md State machine design Understanding execution flow"},{"location":"vers0.1.0/DOC_INDEX/#domain-specific","title":"\ud83d\udcd0 Domain-Specific","text":"Document Purpose When to Use RULES.md Rule engine governance Implementing rules ACL.md Access control Implementing permissions SKILLS_MANIFEST.md Skills catalog Understanding capabilities"},{"location":"vers0.1.0/DOC_INDEX/#planning","title":"\ud83d\udcc5 Planning","text":"Document Purpose When to Use ROADMAP.md Development roadmap Planning future work"},{"location":"vers0.1.0/DOC_INDEX/#recommended-reading-path","title":"Recommended Reading Path","text":""},{"location":"vers0.1.0/DOC_INDEX/#for-developers-starting-implementation","title":"For Developers Starting Implementation","text":"<pre><code>1. SPECIFICATION.md       (Understand requirements)\n   \u2193\n2. ARCHITECTURE.md         (Understand structure)\n   \u2193\n3. workflows_*.md          (Follow implementation steps)\n   \u2193\n4. DEVGUIDE.md + TDD.md    (Start coding with TDD)\n   \u2193\n5. DESIGN.md + RULES.md    (Reference as needed)\n</code></pre>"},{"location":"vers0.1.0/DOC_INDEX/#for-architecture-review","title":"For Architecture Review","text":"<pre><code>1. SPECIFICATION.md        (Requirements)\n   \u2193\n2. ARCHITECTURE.md          (Component design)\n   \u2193\n3. STATE_MACHINE.md         (Execution model)\n   \u2193\n4. DESIGN.md                (Design patterns)\n</code></pre>"},{"location":"vers0.1.0/DOC_INDEX/#for-testing","title":"For Testing","text":"<pre><code>1. TDD.md                  (Testing strategy)\n   \u2193\n2. workflows_*.md          (Phase 6-7: Testing)\n   \u2193\n3. DEVGUIDE.md \u00a77          (Writing tests)\n</code></pre>"},{"location":"vers0.1.0/DOC_INDEX/#phase-to-documentation-mapping","title":"Phase-to-Documentation Mapping","text":"Phase Primary Reference Supporting Docs Phase 0: Initialization DEVGUIDE.md \u00a71 SPECIFICATION.md \u00a75 Phase 1: Foundation PHASE1_INDEX.md ROADMAP.md, PHASE1_SKILLS.md Phase 2: Multi-Agent PHASE2_INDEX.md (\u2b50 \u65b0\u589e) ROADMAP.md, PHASE2_SKILLS.md (\u2b50 \u65b0\u589e), ARCHITECTURE.md \u00a7Multi-agent Phase 3: Memory Systems PHASE3_INDEX.md (\u2b50 \u65b0\u589e) ROADMAP.md, PHASE3_SKILLS.md (\u2b50 \u65b0\u589e), ARCHITECTURE.md \u00a7Memory Phase 4: Framework Release PHASE4_INDEX.md (\u2b50 \u65b0\u589e) ROADMAP.md, PHASE4_SKILLS.md (\u2b50 \u65b0\u589e), DEVGUIDE.md \u00a7Deployment :--- :--- :--- Phase 6-7: Testing TDD.md DEVGUIDE.md \u00a77 Phase 8: Packaging SPECIFICATION.md \u00a75 DEVGUIDE.md \u00a710"},{"location":"vers0.1.0/DOC_INDEX/#document-status","title":"Document Status","text":"Document Status Completeness Last Updated SPECIFICATION.md \u2705 Final 100% 2026-02-14 ARCHITECTURE.md \u2705 Final 100% 2026-02-14 DESIGN.md \u2705 Final 100% 2026-02-14 DEVGUIDE.md \u2705 Final 100% 2026-02-14 TDD.md \u2705 Final 100% 2026-02-14 RULES.md \u2705 Final 100% 2026-02-14 STATE_MACHINE.md \u2705 Final 100% 2026-02-14 workflows_*.md \u2705 Final 100% 2026-02-14 ACL.md \u2705 Final 100% 2026-02-14 SKILLS_MANIFEST.md \u2705 Final 100% 2026-02-14 ROADMAP.md \u2705 Final 100% 2026-02-14"},{"location":"vers0.1.0/DOC_INDEX/#quick-reference","title":"Quick Reference","text":""},{"location":"vers0.1.0/DOC_INDEX/#key-concepts","title":"Key Concepts","text":"<ul> <li>Arkhon-Rheo: The philosophical framework and governance standards</li> <li>ReActEngine: The concrete OOP implementation</li> <li>Event Sourcing: Immutable append-only state log</li> <li>State Machine: Deterministic execution flow</li> <li>Rule Engine: Governance constraints</li> <li>Tool Registry: Pluggable external APIs</li> </ul>"},{"location":"vers0.1.0/DOC_INDEX/#core-classes","title":"Core Classes","text":"<ul> <li><code>ReActState</code> - Immutable state container</li> <li><code>ReasoningStep</code> - Single thought-action-observation cycle</li> <li><code>BaseNode</code> - Abstract base for all execution nodes</li> <li><code>StateGraph</code> - Directed graph of nodes</li> <li><code>Tool</code> - External API wrapper</li> <li><code>Rule</code> - Governance constraint</li> </ul>"},{"location":"vers0.1.0/DOC_INDEX/#file-locations","title":"File Locations","text":"<pre><code>src/arkhon-rheo/\n\u251c\u2500\u2500 arkhon_rheo/          # Main package\n\u2502   \u251c\u2500\u2500 core/             # State machine &amp; graph\n\u2502   \u251c\u2500\u2500 nodes/            # ReAct nodes\n\u2502   \u251c\u2500\u2500 tools/            # Tool registry\n\u2502   \u251c\u2500\u2500 rules/            # Governance rules\n\u2502   \u251c\u2500\u2500 memory/           # Memory systems\n\u2502   \u251c\u2500\u2500 runtime/          # Execution runtime\n\u2502   \u2514\u2500\u2500 config/           # Configuration\n\u251c\u2500\u2500 tests/                # Test suite\n\u2514\u2500\u2500 docs/                 # This directory\n</code></pre>"},{"location":"vers0.1.0/DOC_INDEX/#external-references","title":"External References","text":"<ul> <li>Python 3.12+ Documentation: https://docs.python.org/3.12/</li> <li>Pydantic V2: https://docs.pydantic.dev/</li> <li>Pytest: https://docs.pytest.org/</li> <li>Ruff: https://docs.astral.sh/ruff/</li> <li>mypy: https://mypy.readthedocs.io/</li> </ul> <p>Questions? Refer to DEVGUIDE.md \u00a711 (Troubleshooting).</p>"},{"location":"vers0.1.0/PHASE1_INDEX/","title":"Phase 1 (Foundation) \u6587\u4ef6\u7d22\u5f15","text":"<p>\u7248\u672c: 1.0.0 \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u9069\u7528\u968e\u6bb5: Phase 1 - Foundation (Week 1-4)</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#_1","title":"\ud83d\udcda \u6838\u5fc3\u958b\u767c\u6d41\u7a0b\u6587\u4ef6","text":"<p>Phase 1 \u7684\u958b\u767c\u6d41\u7a0b\u5c0e\u5411\u6587\u4ef6\uff0c\u6309\u91cd\u8981\u6027\u6392\u5e8f\uff1a</p> # \u6587\u4ef6 \u7528\u9014 \u4f55\u6642\u4f7f\u7528 1 IMPLEMENTATION_FLOW.md \u958b\u767c\u6d41\u7a0b\u6307\u5357 \u6bcf\u500b Sprint \u958b\u59cb\u6642\u5fc5\u8b80 (\u9023\u63a5 Roadmap \u8207 OOP \u8a2d\u8a08) 2 ROADMAP.md Phase 1 \u8a73\u7d30\u8a08\u5283\u548c\u91cc\u7a0b\u7891 \u4e86\u89e3 Sprint \u76ee\u6a19\u548c\u4ea4\u4ed8\u7269 2 PHASE1_SKILLS.md \u6bcf\u500b Sprint \u7684\u6280\u80fd\u63a8\u85a6 \u9078\u64c7\u548c\u5b78\u7fd2\u76f8\u95dc\u6280\u80fd 3 DEVGUIDE.md \u958b\u767c\u74b0\u5883\u8a2d\u5b9a\u548c\u5de5\u4f5c\u6d41\u7a0b \u8a2d\u5b9a\u958b\u767c\u74b0\u5883\u3001\u65e5\u5e38\u958b\u767c 4 TDD.md \u6e2c\u8a66\u9a45\u52d5\u958b\u767c\u7b56\u7565 \u64b0\u5beb\u6e2c\u8a66\u3001TDD \u5de5\u4f5c\u6d41\u7a0b 5 workflows_ai-agentic-system-builder.md AI \u4ee3\u7406\u7cfb\u7d71\u6280\u80fd\u7d44\u5408 \u7406\u89e3\u6574\u9ad4\u6280\u80fd\u67b6\u69cb 6 DOC_INDEX.md \u5168\u5c08\u6848\u6587\u4ef6\u5c0e\u822a \u67e5\u627e\u5176\u4ed6\u6587\u4ef6"},{"location":"vers0.1.0/PHASE1_INDEX/#sprint","title":"\ud83c\udfaf Sprint \u5c0d\u61c9\u8868","text":"<p>Phase 1 \u5305\u542b 4 \u500b Sprint\uff0c\u6bcf\u9031\u4e00\u500b\uff1a</p> Sprint \u9031\u6578 \u4e3b\u8981\u76ee\u6a19 \u4e3b\u8981\u4ea4\u4ed8\u7269 \u63a8\u85a6\u6280\u80fd Sprint 1.1 Week 1 \u6838\u5fc3\u72c0\u614b\u6a5f <code>ReActState</code>, <code>StateGraph</code>, <code>ContextManager</code> PHASE1_SKILLS.md \u00a7Sprint 1.1 Sprint 1.2 Week 2 \u7bc0\u9ede\u5be6\u4f5c 6 \u500b ReAct \u7bc0\u9ede\u985e\u5225 PHASE1_SKILLS.md \u00a7Sprint 1.2 Sprint 1.3 Week 3 \u5de5\u5177\u6574\u5408 Tool Registry + 3 \u5167\u5efa\u5de5\u5177 PHASE1_SKILLS.md \u00a7Sprint 1.3 Sprint 1.4 Week 4 YAML \u914d\u7f6e\u8207\u9a57\u8b49 Config\u7cfb\u7d71 + Rule Engine PHASE1_SKILLS.md \u00a7Sprint 1.4 <p>\u8a73\u7d30 Sprint \u8a08\u5283\u8acb\u53c3\u8003 ROADMAP.md \u00a7Milestone 1\u3002</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#phase-1","title":"\u2705 Phase 1 \u6e2c\u8a66\u6a19\u6e96","text":""},{"location":"vers0.1.0/PHASE1_INDEX/#_2","title":"\u8986\u84cb\u7387\u76ee\u6a19","text":"<p>\u7d71\u4e00\u6a19\u6e96: \u226590% \uff08\u6240\u6709\u7d44\u4ef6\uff09</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#_3","title":"\u985e\u578b\u6aa2\u67e5","text":"<ul> <li>ty: \u96f6\u932f\u8aa4</li> </ul>"},{"location":"vers0.1.0/PHASE1_INDEX/#_4","title":"\u9a57\u8b49\u547d\u4ee4","text":"<pre><code># \u57f7\u884c\u6e2c\u8a66\u4e26\u751f\u6210\u8986\u84cb\u7387\u5831\u544a\npytest --cov=arkhon_rheo --cov-report=html\n\n# \u985e\u578b\u6aa2\u67e5\nuv run ty\n\n# \u67e5\u770b\u8986\u84cb\u7387\u5831\u544a\nopen htmlcov/index.html\n</code></pre> <p>\u8a73\u7d30\u6e2c\u8a66\u7b56\u7565\u8acb\u53c3\u8003 TDD.md\u3002</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#context","title":"\ud83d\udd11 Context \u7ba1\u7406\u6280\u80fd\u8def\u5f91","text":"<p>Phase 1 \u7684 Context \u6280\u80fd\u6574\u5408\u8def\u5f91\uff08\u6309\u9031\u6b21\uff09\uff1a</p> \u9031\u6b21 Context \u6280\u80fd \u7528\u9014 Week 1 <code>context-fundamentals</code> \u5efa\u7acb ContextManager \u57fa\u790e Week 2 <code>context-window-management</code> LLM \u4e0a\u4e0b\u6587\u8996\u7a97\u7ba1\u7406 Week 3 <code>context-manager</code> \u5de5\u5177\u4e0a\u4e0b\u6587\u50b3\u905e Week 4 <code>context-management-context-restore</code> \u914d\u7f6e\u6062\u5fa9\u6a5f\u5236 <p>\u8a73\u7d30\u8aaa\u660e\u8acb\u53c3\u8003 PHASE1_SKILLS.md \u00a7Context Skills \u6574\u9ad4\u7b56\u7565\u3002</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#_5","title":"\ud83d\ude80 \u5feb\u901f\u958b\u59cb\u6307\u5357","text":""},{"location":"vers0.1.0/PHASE1_INDEX/#_6","title":"\u65b0\u624b\u5165\u9580\u8def\u5f91","text":"<p>\u5982\u679c\u60a8\u525b\u958b\u59cb Phase 1 \u958b\u767c\uff0c\u5efa\u8b70\u6309\u4ee5\u4e0b\u9806\u5e8f\u95b1\u8b80\uff1a</p> <ol> <li>\u672c\u6587\u4ef6 PHASE1_INDEX.md - \u60a8\u5728\u9019\u88e1 \u2713</li> <li>ROADMAP.md \u00a7Phase 1 - \u7406\u89e3\u6574\u9ad4\u8a08\u5283</li> <li>DEVGUIDE.md \u00a71-2 - \u8a2d\u5b9a\u958b\u767c\u74b0\u5883</li> <li>PHASE1_SKILLS.md - \u5b78\u7fd2\u7576\u524d Sprint \u7684\u6280\u80fd</li> <li>TDD.md - \u958b\u59cb TDD \u5de5\u4f5c\u6d41\u7a0b</li> </ol>"},{"location":"vers0.1.0/PHASE1_INDEX/#sprint_1","title":"\u6309 Sprint \u958b\u59cb","text":"<p>Sprint 1.1 (\u672c\u9031\u662f Week 1):</p> <ol> <li>\u95b1\u8b80 ROADMAP.md \u00a7Sprint 1.1</li> <li>\u5b78\u7fd2 PHASE1_SKILLS.md \u00a7Sprint 1.1 \u63a8\u85a6\u7684\u6280\u80fd</li> <li>\u7279\u5225\u91cd\u9ede\uff1a<code>context-fundamentals</code> \u6280\u80fd\uff08\u5fc5\u8b80\uff09</li> <li>\u958b\u59cb TDD \u5faa\u74b0\uff1a\u5beb\u6e2c\u8a66 \u2192 \u5be6\u4f5c \u2192 \u91cd\u69cb</li> </ol>"},{"location":"vers0.1.0/PHASE1_INDEX/#_7","title":"\ud83d\udcc2 \u5c08\u6848\u76ee\u9304\u7d50\u69cb","text":"<pre><code>src/arkhon-rheo/\n\u251c\u2500\u2500 arkhon_rheo/          # \u4e3b\u5957\u4ef6\n\u2502   \u251c\u2500\u2500 core/             # Sprint 1.1: \u72c0\u614b\u6a5f\u548c\u5716\n\u2502   \u251c\u2500\u2500 nodes/            # Sprint 1.2: ReAct \u7bc0\u9ede\n\u2502   \u251c\u2500\u2500 tools/            # Sprint 1.3: \u5de5\u5177\u8a3b\u518a\u8868\n\u2502   \u251c\u2500\u2500 rules/            # Sprint 1.4: \u898f\u5247\u5f15\u64ce\n\u2502   \u251c\u2500\u2500 config/           # Sprint 1.4: \u914d\u7f6e\n\u2502   \u251c\u2500\u2500 memory/           # Phase 2-3\n\u2502   \u2514\u2500\u2500 runtime/          # Phase 2-3\n\u251c\u2500\u2500 tests/                # \u6e2c\u8a66\u5957\u4ef6\n\u2502   \u251c\u2500\u2500 unit/\n\u2502   \u251c\u2500\u2500 integration/\n\u2502   \u2514\u2500\u2500 e2e/\n\u2514\u2500\u2500 docs/                 # \u672c\u76ee\u9304\n    \u2514\u2500\u2500 vers0.1.0/        # Phase 1 \u6587\u4ef6\n</code></pre>"},{"location":"vers0.1.0/PHASE1_INDEX/#_8","title":"\ud83d\udee0\ufe0f \u958b\u767c\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"vers0.1.0/PHASE1_INDEX/#_9","title":"\u65e5\u5e38\u958b\u767c\u5faa\u74b0","text":"<pre><code># 1. \u5207\u63db\u5206\u652f\uff08\u5982\u679c\u9700\u8981\uff09\ngit checkout feature/my-feature\n\n# 2. \u57f7\u884c TDD \u5faa\u74b0\n# RED: \u5beb\u5931\u6557\u7684\u6e2c\u8a66\npytest tests/unit/core/test_state.py -v\n\n# GREEN: \u6700\u5c0f\u5be6\u4f5c\u4f7f\u6e2c\u8a66\u901a\u904e\n# \u7de8\u8f2f src/arkhon_rheo/core/state.py\npytest tests/unit/core/test_state.py -v\n\n# REFACTOR: \u91cd\u69cb\u4ee3\u78bc\n# \u91cd\u65b0\u57f7\u884c\u6e2c\u8a66\u78ba\u4fdd\u4ecd\u7136\u901a\u904e\n\n# 3. \u4ee3\u78bc\u54c1\u8cea\u6aa2\u67e5\nuv run ruff check src/arkhon_rheo --fix\nuv run ty\n\n# 4. \u63d0\u4ea4\ngit add .\ngit commit -m \"feat(core): add ReActState immutable container\"\n</code></pre> <p>\u8a73\u7d30\u5de5\u4f5c\u6d41\u7a0b\u8acb\u53c3\u8003 DEVGUIDE.md \u00a72\u3002</p>"},{"location":"vers0.1.0/PHASE1_INDEX/#_10","title":"\ud83d\udd17 \u76f8\u95dc\u7cfb\u7d71\u6587\u4ef6","text":"<p>Phase 1 \u4e0d\u76f4\u63a5\u9700\u8981\uff0c\u4f46\u53ef\u80fd\u53c3\u8003\u7684\u7cfb\u7d71\u6587\u4ef6\uff1a</p> <ul> <li>SPECIFICATION.md - \u6280\u8853\u9700\u6c42\u898f\u683c</li> <li>ARCHITECTURE.md - \u7d44\u4ef6\u67b6\u69cb</li> <li>DESIGN.md - \u7cfb\u7d71\u8a2d\u8a08\u7d30\u7bc0</li> <li>STATE_MACHINE.md - \u72c0\u614b\u6a5f\u8a2d\u8a08</li> <li>WORKFLOW_AUTOMATION.md - SDLC \u5de5\u4f5c\u6d41\u7a0b\u81ea\u52d5\u5316</li> </ul>"},{"location":"vers0.1.0/PHASE1_INDEX/#_11","title":"\u2753 \u5e38\u898b\u554f\u984c","text":""},{"location":"vers0.1.0/PHASE1_INDEX/#q1-sprint-11","title":"Q1: Sprint 1.1 \u61c9\u8a72\u5f9e\u54ea\u88e1\u958b\u59cb\uff1f","text":"<p>A:</p> <ol> <li>\u95b1\u8b80 ROADMAP.md \u00a7Sprint 1.1 \u7684\u4ea4\u4ed8\u7269\u6e05\u55ae</li> <li>\u5b78\u7fd2 <code>context-fundamentals</code> \u6280\u80fd\uff08\u4f4d\u65bc <code>.agent/skills/context-fundamentals/</code>\uff09</li> <li>\u5f9e <code>tests/unit/core/test_state.py</code> \u958b\u59cb\u5beb\u7b2c\u4e00\u500b\u6e2c\u8a66\uff08TDD RED \u968e\u6bb5\uff09</li> </ol>"},{"location":"vers0.1.0/PHASE1_INDEX/#q2","title":"Q2: \u5982\u4f55\u627e\u5230\u63a8\u85a6\u7684\u6280\u80fd\uff1f","text":"<p>A: \u6240\u6709\u6280\u80fd\u4f4d\u65bc <code>.agent/skills/</code> \u76ee\u9304\uff1a</p> <pre><code># \u67e5\u770b context-fundamentals \u6280\u80fd\ncat .agent/skills/context-fundamentals/SKILL.md\n</code></pre>"},{"location":"vers0.1.0/PHASE1_INDEX/#q3-90","title":"Q3: \u6e2c\u8a66\u8986\u84cb\u7387\u9054\u4e0d\u5230 90% \u600e\u9ebc\u8fa6\uff1f","text":"<p>A:</p> <ol> <li>\u57f7\u884c <code>pytest --cov=arkhon_rheo --cov-report=term-missing</code> \u67e5\u770b\u672a\u8986\u84cb\u7684\u884c</li> <li>\u70ba\u672a\u8986\u84cb\u7684\u5206\u652f\u6dfb\u52a0\u6e2c\u8a66</li> <li>\u53c3\u8003 TDD.md \u00a79 \u7684\u8986\u84cb\u7387\u7b56\u7565</li> </ol>"},{"location":"vers0.1.0/PHASE1_INDEX/#q4-sdlc-sprint","title":"Q4: SDLC \u72c0\u614b\u548c Sprint \u662f\u4ec0\u9ebc\u95dc\u4fc2\uff1f","text":"<p>A:</p> <ul> <li>Sprint \u662f\u6642\u7a0b\u91cc\u7a0b\u7891\uff08\u6bcf\u9031\u4e00\u500b\uff09</li> <li>SDLC \u72c0\u614b \u662f\u5de5\u4f5c\u6d41\u7a0b\u72c0\u614b\uff08Planning \u2192 Design \u2192 Implementation \u2192 Testing \u2192 Review \u2192 Deployment \u2192 Monitoring\uff09</li> <li>Agile \u6982\u5ff5: \u6bcf\u500b Sprint \u6703\u7d93\u6b77\u591a\u6b21\u5b8c\u6574\u7684 SDLC \u5faa\u74b0</li> <li>\u8a73\u898b WORKFLOW_AUTOMATION.md</li> </ul>"},{"location":"vers0.1.0/PHASE1_INDEX/#_12","title":"\ud83d\udcec \u9700\u8981\u5e6b\u52a9\uff1f","text":"<ul> <li>\u6280\u80fd\u554f\u984c: \u67e5\u770b workflows_ai-agentic-system-builder.md</li> <li>\u74b0\u5883\u554f\u984c: \u67e5\u770b DEVGUIDE.md \u00a711 Troubleshooting</li> <li>\u6e2c\u8a66\u554f\u984c: \u67e5\u770b TDD.md</li> <li>\u67b6\u69cb\u554f\u984c: \u67e5\u770b ARCHITECTURE.md</li> </ul> <p>\u7dad\u8b77\u8005: Arkhon-Rheo Team \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6587\u4ef6\u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/","title":"Phase 1 Skills \u63a8\u85a6\u6e05\u55ae","text":"<p>\u7248\u672c: 1.0.0 \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6574\u5408: ROADMAP.md + workflows_ai-agentic-system-builder.md + Context Skills</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#_1","title":"\u6982\u8ff0","text":"<p>\u672c\u6587\u4ef6\u70ba Phase 1 (Foundation) \u7684\u6bcf\u500b Sprint \u63a8\u85a6\u76f8\u95dc\u7684\u958b\u767c\u6280\u80fd\uff0c\u6574\u5408\u4e86\uff1a</p> <ul> <li>ROADMAP.md \u7684 Phase 1 \u8a73\u7d30\u8a08\u5283</li> <li>workflows_ai-agentic-system-builder.md \u7684\u6280\u80fd\u7d44\u5408\u5efa\u8b70</li> <li>Context \u7ba1\u7406\u6280\u80fd\uff08\u8cab\u7a7f\u6574\u500b Phase 1\uff09</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11-week-1","title":"Sprint 1.1: \u6838\u5fc3\u72c0\u614b\u6a5f (Week 1)","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11","title":"Sprint 1.1 \u76ee\u6a19","text":"<p>\u5efa\u7acb\u4e8b\u4ef6\u9a45\u52d5\u7684\u72c0\u614b\u7ba1\u7406\u7cfb\u7d71\u3002</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11-skills","title":"Sprint 1.1 \u6838\u5fc3\u67b6\u69cb Skills","text":"<ul> <li><code>architect-review</code> - \u67b6\u69cb\u5be9\u6838</li> <li><code>architecture-patterns</code> - \u9078\u64c7\u72c0\u614b\u6a5f\u8a2d\u8a08\u6a21\u5f0f</li> <li><code>clean-code</code> - \u4ee3\u78bc\u54c1\u8cea\u6a19\u6e96</li> <li><code>python-pro</code> - Python \u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11-context-skills","title":"Sprint 1.1 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-fundamentals</code> \u2b50 - \u7406\u89e3\u4e0a\u4e0b\u6587\u57fa\u790e\uff08\u5fc5\u8b80\uff09</li> <li><code>context-management-context-save</code> - \u5be6\u4f5c\u72c0\u614b\u4fdd\u5b58\u6a5f\u5236</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11-skills_1","title":"Sprint 1.1 \u6e2c\u8a66 Skills","text":"<ul> <li><code>tdd-workflow</code> - \u6e2c\u8a66\u9a45\u52d5\u958b\u767c\u6d41\u7a0b</li> <li><code>python-testing-patterns</code> - Python \u6e2c\u8a66\u6a21\u5f0f</li> <li><code>systematic-debugging</code> - \u7cfb\u7d71\u5316\u9664\u932f</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11_1","title":"Sprint 1.1 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/core/state.py</code> - \u4e0d\u53ef\u8b8a\u72c0\u614b\u5bb9\u5668</li> <li><code>src/arkhon_rheo/core/step.py</code> - \u63a8\u7406\u6b65\u9a5f\u5b9a\u7fa9</li> <li><code>src/arkhon_rheo/core/graph.py</code> - \u72c0\u614b\u5716\u57f7\u884c\u5f15\u64ce</li> <li><code>src/arkhon_rheo/core/context.py</code> - \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-11_2","title":"Sprint 1.1 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 \u6240\u6709\u6e2c\u8a66\u901a\u904e (<code>pytest tests/core/</code>)</li> <li>\u2705 90%+ \u4ee3\u78bc\u8986\u84cb\u7387</li> <li>\u2705 ty \u901a\u904e</li> <li>\u2705 \u53ef\u57f7\u884c\u7c21\u55ae\u7684 thought \u2192 action \u2192 observation \u5faa\u74b0</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12-week-2","title":"Sprint 1.2: \u7bc0\u9ede\u5be6\u4f5c (Week 2)","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12","title":"Sprint 1.2 \u76ee\u6a19","text":"<p>\u5be6\u4f5c 6 \u500b ReAct \u7bc0\u9ede\u985e\u578b\u3002</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12-skills","title":"Sprint 1.2 \u6838\u5fc3\u5be6\u4f5c Skills","text":"<ul> <li><code>software-architecture</code> - \u8edf\u9ad4\u67b6\u69cb\u5be6\u4f5c</li> <li><code>python-pro</code> - Python OOP \u5be6\u4f5c</li> <li><code>clean-code</code> - \u4ee3\u78bc\u54c1\u8cea\u63a7\u5236</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12-context-skills","title":"Sprint 1.2 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-window-management</code> \u2b50 - \u7ba1\u7406 LLM \u4e0a\u4e0b\u6587\u8996\u7a97</li> <li><code>context-optimization</code> - \u58d3\u7e2e\u548c\u5feb\u53d6\u7b56\u7565</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12-ai-skills","title":"Sprint 1.2 AI \u6574\u5408 Skills","text":"<ul> <li><code>ai-engineer</code> - LLM \u6574\u5408\u6700\u4f73\u5be6\u8e10</li> <li><code>llm-app-patterns</code> - LLM \u61c9\u7528\u6a21\u5f0f</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12-skills_1","title":"Sprint 1.2 \u6e2c\u8a66 Skills","text":"<ul> <li><code>tdd-workflow</code> - TDD \u6301\u7e8c\u5faa\u74b0</li> <li><code>python-testing-patterns</code> - \u7bc0\u9ede\u55ae\u5143\u6e2c\u8a66</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12_1","title":"Sprint 1.2 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/nodes/base.py</code> - \u7bc0\u9ede\u57fa\u790e\u985e\u5225</li> <li><code>src/arkhon_rheo/nodes/thought_node.py</code> - \u601d\u8003\u7bc0\u9ede\uff08LLM \u6574\u5408\uff09</li> <li><code>src/arkhon_rheo/nodes/action_node.py</code> - \u52d5\u4f5c\u7bc0\u9ede\uff08\u5de5\u5177\u57f7\u884c\uff09</li> <li><code>src/arkhon_rheo/nodes/observation_node.py</code> - \u89c0\u5bdf\u7bc0\u9ede</li> <li><code>src/arkhon_rheo/nodes/validate_node.py</code> - \u9a57\u8b49\u7bc0\u9ede</li> <li><code>src/arkhon_rheo/nodes/commit_node.py</code> - \u63d0\u4ea4\u7bc0\u9ede</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-12_2","title":"Sprint 1.2 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 \u6240\u6709 6 \u500b\u7bc0\u9ede\u5be6\u4f5c <code>BaseNode</code></li> <li>\u2705 \u6574\u5408\u6e2c\u8a66\uff1aThought \u2192 Validate \u2192 Action \u2192 Observation \u2192 Commit \u5faa\u74b0</li> <li>\u2705 \u932f\u8aa4\u60c5\u5883\u8655\u7406\u5b8c\u5584</li> <li>\u2705 \u7d50\u69cb\u5316\u65e5\u8a8c\u8a18\u9304</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13-week-3","title":"Sprint 1.3: \u5de5\u5177\u6574\u5408 (Week 3)","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13","title":"Sprint 1.3 \u76ee\u6a19","text":"<p>\u5efa\u7acb\u53ef\u63d2\u62d4\u7684\u5de5\u5177\u7cfb\u7d71\u548c\u5de5\u5177\u8a3b\u518a\u8868\u3002</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13-skills","title":"Sprint 1.3 \u5de5\u5177\u8a2d\u8a08 Skills","text":"<ul> <li><code>agent-tool-builder</code> \u2b50\u2b50 - \u5de5\u5177\u63cf\u8ff0\u6bd4\u5be6\u4f5c\u66f4\u91cd\u8981</li> <li><code>tool-design</code> - \u67b6\u69cb\u7e2e\u6e1b\u6a21\u5f0f</li> <li><code>mcp-builder</code> - \u7b26\u5408 MCP \u6a19\u6e96\u7684\u5de5\u5177\u4f3a\u670d\u5668</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13-context-skills","title":"Sprint 1.3 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-manager</code> \u2b50 - \u52d5\u614b\u4e0a\u4e0b\u6587\u7ba1\u7406\uff08\u6574\u5408\u591a\u500b\u5de5\u5177\u7684\u4e0a\u4e0b\u6587\uff09</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13-api-skills","title":"Sprint 1.3 API \u6574\u5408 Skills","text":"<ul> <li><code>api-patterns</code> - API \u8a2d\u8a08\u6a21\u5f0f</li> <li><code>api-design-principles</code> - API \u8a2d\u8a08\u539f\u5247</li> <li><code>context7-auto-research</code> - \u81ea\u52d5\u7372\u53d6\u6700\u65b0\u6587\u4ef6\uff08\u7528\u65bc\u5de5\u5177\u958b\u767c\u8005\u6587\u4ef6\uff09</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13-skills_1","title":"Sprint 1.3 \u6e2c\u8a66 Skills","text":"<ul> <li><code>tdd-workflow</code> - TDD \u6301\u7e8c\u5faa\u74b0</li> <li><code>python-testing-patterns</code> - \u5de5\u5177\u6e2c\u8a66\u6a21\u5f0f</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13_1","title":"Sprint 1.3 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/tools/base.py</code> - Tool \u57fa\u790e\u985e\u5225</li> <li><code>src/arkhon_rheo/tools/registry.py</code> - \u5de5\u5177\u8a3b\u518a\u8868\uff08\u55ae\u4f8b\u6a21\u5f0f\uff09</li> <li><code>src/arkhon_rheo/tools/builtin/search.py</code> - \u7db2\u9801\u641c\u5c0b\u5de5\u5177</li> <li><code>src/arkhon_rheo/tools/builtin/calculator.py</code> - \u8a08\u7b97\u5668\u5de5\u5177</li> <li><code>src/arkhon_rheo/tools/builtin/file_ops.py</code> - \u6a94\u6848\u64cd\u4f5c\u5de5\u5177</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-13_2","title":"Sprint 1.3 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 ToolRegistry \u53ef\u4ee5\u767c\u73fe\u6240\u6709\u5167\u5efa\u5de5\u5177</li> <li>\u2705 \u6bcf\u500b\u5de5\u5177\u90fd\u6709\u6709\u6548\u7684 JSON Schema</li> <li>\u2705 \u6574\u5408\u6e2c\u8a66\uff1a\u4ee3\u7406\u4f9d\u5e8f\u4f7f\u7528 search \u2192 calculator \u2192 file_ops</li> <li>\u2705 \u5de5\u5177\u6587\u4ef6\u81ea\u52d5\u751f\u6210</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-yaml-week-4","title":"Sprint 1.4: YAML \u914d\u7f6e\u8207\u9a57\u8b49 (Week 4)","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14","title":"Sprint 1.4 \u76ee\u6a19","text":"<p>\u5be6\u4f5c YAML \u914d\u7f6e\u7cfb\u7d71\u548c\u898f\u5247\u5f15\u64ce\u3002</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-skills","title":"Sprint 1.4 \u914d\u7f6e\u7ba1\u7406 Skills","text":"<ul> <li><code>deployment-validation-config-validate</code> - \u914d\u7f6e\u9a57\u8b49</li> <li><code>python-patterns</code> - Pydantic \u6a21\u578b\u8a2d\u8a08</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-context-skills","title":"Sprint 1.4 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-management-context-restore</code> \u2b50 - \u5f9e\u914d\u7f6e\u6062\u5fa9\u4e0a\u4e0b\u6587\u72c0\u614b</li> <li><code>context-compression</code> - \u914d\u7f6e\u58d3\u7e2e\u7b56\u7565</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-skills_1","title":"Sprint 1.4 \u898f\u5247\u5f15\u64ce Skills","text":"<ul> <li><code>architecture-patterns</code> - \u898f\u5247\u5f15\u64ce\u8a2d\u8a08\u6a21\u5f0f</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-skills_2","title":"Sprint 1.4 \u5b89\u5168\u6027 Skills","text":"<ul> <li><code>backend-security-coder</code> - \u5f8c\u7aef\u5b89\u5168\u5be6\u8e10\uff08secrets \u7ba1\u7406\uff09</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14-skills_3","title":"Sprint 1.4 \u6e2c\u8a66 Skills","text":"<ul> <li><code>tdd-workflow</code> - TDD \u6301\u7e8c\u5faa\u74b0</li> <li><code>python-testing-patterns</code> - \u914d\u7f6e\u548c\u898f\u5247\u6e2c\u8a66</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14_1","title":"Sprint 1.4 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/config/schema.py</code> - Pydantic \u914d\u7f6e\u6a21\u578b</li> <li><code>src/arkhon_rheo/config/loader.py</code> - YAML \u8f09\u5165\u5668</li> <li><code>config/templates/default.yaml</code> - \u9810\u8a2d\u914d\u7f6e\u7bc4\u672c</li> <li><code>src/arkhon_rheo/rules/base.py</code> - Rule \u62bd\u8c61\u985e\u5225</li> <li><code>src/arkhon_rheo/rules/rule_engine.py</code> - \u898f\u5247\u5f15\u64ce</li> <li>\u5167\u5efa\u898f\u5247\uff1a<code>MaxDepthRule</code>, <code>ForbidGuessingRule</code>, <code>CostLimitRule</code></li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#sprint-14_2","title":"Sprint 1.4 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 \u5f9e YAML \u8f09\u5165\u7684\u914d\u7f6e\u901a\u904e Pydantic \u9a57\u8b49</li> <li>\u2705 \u7121\u6548\u914d\u7f6e\u6703\u7522\u751f\u6e05\u6670\u7684\u932f\u8aa4\u8a0a\u606f</li> <li>\u2705 Secrets \u6c38\u4e0d\u88ab\u8a18\u9304\u6216\u63d0\u4ea4</li> <li>\u2705 \u6240\u6709\u5167\u5efa\u898f\u5247\u90fd\u7d93\u904e\u6e2c\u8a66</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#context-skills","title":"Context Skills \u6574\u9ad4\u7b56\u7565","text":"<p>\u5728 Phase 1\uff0cContext \u6280\u80fd\u7684\u6574\u5408\u7b56\u7565\uff1a</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#week-1","title":"Week 1: \u57fa\u790e\u5efa\u7acb","text":"<ul> <li>\u4f7f\u7528 <code>context-fundamentals</code> \u5efa\u7acb <code>ContextManager</code> \u57fa\u790e\u985e\u5225</li> <li>\u5be6\u4f5c trace ID \u751f\u6210\u548c metadata \u7ba1\u7406</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#week-2-llm","title":"Week 2: LLM \u6574\u5408","text":"<ul> <li>\u4f7f\u7528 <code>context-window-management</code> \u6574\u5408 LLM \u4e0a\u4e0b\u6587\u7ba1\u7406</li> <li>\u5be6\u4f5c token \u8a08\u6578\u548c\u4e0a\u4e0b\u6587\u8996\u7a97\u6ed1\u52d5\u6a5f\u5236</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#week-3","title":"Week 3: \u5de5\u5177\u4e0a\u4e0b\u6587","text":"<ul> <li>\u4f7f\u7528 <code>context-manager</code> \u8655\u7406\u5de5\u5177\u8abf\u7528\u7684\u4e0a\u4e0b\u6587\u50b3\u905e</li> <li>\u78ba\u4fdd\u5de5\u5177\u4e4b\u9593\u7684\u72c0\u614b\u5171\u4eab</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#week-4","title":"Week 4: \u914d\u7f6e\u6062\u5fa9","text":"<ul> <li>\u4f7f\u7528 <code>context-management-context-restore</code> \u5be6\u4f5c\u914d\u7f6e\u9a45\u52d5\u7684\u4e0a\u4e0b\u6587\u6062\u5fa9</li> <li>\u652f\u63f4\u5f9e checkpoint \u6062\u5fa9\u57f7\u884c\u72c0\u614b</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#mvp-skills","title":"\u6700\u5c0f\u53ef\u884c\u6280\u80fd\u7d44\u5408 (MVP Skills)","text":"<p>\u6839\u64da workflows_ai-agentic-system-builder.md\uff0cPhase 1 MVP \u5fc5\u9700\u6280\u80fd\uff1a</p> \u6280\u80fd \u7528\u9014 \u512a\u5148\u7d1a <code>ai-agents-architect</code> \u7e3d\u9ad4\u4ee3\u7406\u8a2d\u8a08 \u2b50\u2b50\u2b50 <code>python-pro</code> Python \u5be6\u4f5c \u2b50\u2b50\u2b50 <code>agent-tool-builder</code> \u5de5\u5177\u8a2d\u8a08 \u2b50\u2b50\u2b50 <code>context-manager</code> \u8a18\u61b6\u9ad4\u7ba1\u7406 \u2b50\u2b50\u2b50 <code>tdd-workflow</code> \u6e2c\u8a66\u7b56\u7565 \u2b50\u2b50\u2b50"},{"location":"vers0.1.0/PHASE1_SKILLS/#skills","title":"Skills \u67e5\u627e\u6307\u5357","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#_2","title":"\u5982\u4f55\u627e\u5230\u6280\u80fd","text":"<p>\u6240\u6709\u6280\u80fd\u4f4d\u65bc <code>.agent/skills/</code> \u76ee\u9304\uff1a</p> <pre><code># \u67e5\u770b\u6240\u6709\u53ef\u7528\u6280\u80fd\nls .agent/skills/\n\n# \u67e5\u770b\u7279\u5b9a\u6280\u80fd\u7684\u8aaa\u660e\ncat .agent/skills/context-manager/SKILL.md\n\n# \u641c\u5c0b\u8207\u95dc\u9375\u5b57\u76f8\u95dc\u7684\u6280\u80fd\ngrep -r \"context\" .agent/skills/*/SKILL.md\n</code></pre>"},{"location":"vers0.1.0/PHASE1_SKILLS/#_3","title":"\u6280\u80fd\u547d\u540d\u898f\u5247","text":"<ul> <li><code>context-*</code>: Context \u7ba1\u7406\u76f8\u95dc\u6280\u80fd</li> <li><code>*-pro</code>: \u8a9e\u8a00\u5c08\u5bb6\u6280\u80fd\uff08\u5982 <code>python-pro</code>, <code>typescript-pro</code>\uff09</li> <li><code>*-architect</code>: \u67b6\u69cb\u8a2d\u8a08\u6280\u80fd</li> <li><code>*-patterns</code>: \u8a2d\u8a08\u6a21\u5f0f\u6280\u80fd</li> <li><code>tdd-*</code>: \u6e2c\u8a66\u9a45\u52d5\u958b\u767c\u6280\u80fd</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#_4","title":"\u6e2c\u8a66\u8986\u84cb\u7387\u76ee\u6a19","text":"<p>Phase 1 \u7d71\u4e00\u6e2c\u8a66\u6a19\u6e96\uff1a90%+ \uff08\u6240\u6709\u7d44\u4ef6\uff09</p> <pre><code># \u6aa2\u67e5\u8986\u84cb\u7387\npytest --cov=arkhon_rheo --cov-report=html\n\n# \u67e5\u770b\u8a73\u7d30\u5831\u544a\nopen htmlcov/index.html\n</code></pre> <p>\u8a73\u7d30\u6e2c\u8a66\u7b56\u7565\u8acb\u53c3\u8003 TDD.md\u3002</p>"},{"location":"vers0.1.0/PHASE1_SKILLS/#_5","title":"\u53c3\u8003\u8cc7\u6599","text":""},{"location":"vers0.1.0/PHASE1_SKILLS/#_6","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li>ROADMAP.md - Phase 1 \u8a73\u7d30\u8a08\u5283</li> <li>workflows_ai-agentic-system-builder.md</li> <li>TDD.md</li> <li>DEVGUIDE.md</li> </ul>"},{"location":"vers0.1.0/PHASE1_SKILLS/#skills_1","title":"Skills \u76ee\u9304","text":"<ul> <li>.agent/skills/ - \u53ef\u7528\u6280\u80fd\u76ee\u9304</li> <li>context-manager</li> <li>context-fundamentals</li> <li>agent-tool-builder</li> <li>python-pro</li> </ul> <p>\u7dad\u8b77\u8005: Arkhon-Rheo Team \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6587\u4ef6\u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/PHASE2_INDEX/","title":"Phase 2 (Multi-Agent) \u6587\u4ef6\u7d22\u5f15","text":"<p>\u7248\u672c: 1.0.0 \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u72c0\u614b: \u2705 \u5df2\u5b8c\u6210 (Completed) \u9069\u7528\u968e\u6bb5: Phase 2 - Multi-Agent Architecture (Week 5-7)</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#_1","title":"\ud83d\udcda \u6838\u5fc3\u958b\u767c\u6d41\u7a0b\u6587\u4ef6","text":"<p>Phase 2 \u7684\u958b\u767c\u6d41\u7a0b\u5c0e\u5411\u6587\u4ef6\uff0c\u6309\u91cd\u8981\u6027\u6392\u5e8f\uff1a</p> # \u6587\u4ef6 \u7528\u9014 \u4f55\u6642\u4f7f\u7528 1 PHASE2_SKILLS.md Sprint \u6280\u80fd\u6307\u5357 \u6bcf\u500b Sprint \u958b\u59cb\u6642\u5fc5\u8b80 (Phase 2 \u5c08\u5c6c) 2 ROADMAP.md Phase 2 \u8a73\u7d30\u8a08\u5283\u548c\u91cc\u7a0b\u7891 \u4e86\u89e3 Sprint \u76ee\u6a19\u548c\u4ea4\u4ed8\u7269 3 ARCHITECTURE.md \u591a\u4ee3\u7406\u67b6\u69cb\u8a2d\u8a08 \u7406\u89e3\u7cfb\u7d71\u8a2d\u8a08\u7d30\u7bc0 4 PHASE1_INDEX.md Phase 1 \u57fa\u790e\u53c3\u8003 \u67e5\u95b1\u57fa\u790e\u7d44\u4ef6 (Nodes, State) \u7528\u6cd5 5 DOC_INDEX.md \u5168\u5c08\u6848\u6587\u4ef6\u5c0e\u822a \u67e5\u627e\u5176\u4ed6\u6587\u4ef6"},{"location":"vers0.1.0/PHASE2_INDEX/#sprint","title":"\ud83c\udfaf Sprint \u5c0d\u61c9\u8868","text":"<p>Phase 2 \u5305\u542b 3 \u500b Sprint\uff0c\u6bcf\u9031\u4e00\u500b\uff1a</p> Sprint \u9031\u6578 \u4e3b\u8981\u76ee\u6a19 \u4e3b\u8981\u4ea4\u4ed8\u7269 \u63a8\u85a6\u6280\u80fd \u72c0\u614b Sprint 2.1 Week 5 Agent Communication <code>Agent</code>, <code>Message</code>, <code>SharedState</code> PHASE2_SKILLS.md \u00a7Sprint 2.1 \u2705 Sprint 2.2 Week 6 Agent Orchestration <code>Coordinator</code>, <code>Specialist</code> PHASE2_SKILLS.md \u00a7Sprint 2.2 \u2705 Sprint 2.3 Week 7 Subgraph Support <code>SubGraph</code>, \u5de2\u72c0\u57f7\u884c PHASE2_SKILLS.md \u00a7Sprint 2.3 \u2705 <p>\u8a73\u7d30 Sprint \u8a08\u5283\u8acb\u53c3\u8003 ROADMAP.md \u00a7Milestone 2\u3002</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2","title":"\u2705 Phase 2 \u6e2c\u8a66\u6a19\u6e96","text":"<p>Phase 2 \u6e2c\u8a66\u6a19\u6e96\u5305\u542b\u4e26\u7e7c\u627f\u6240\u6709 Phase 1 \u6a19\u6e96\uff1a</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#_2","title":"\u7e7c\u627f\u6a19\u6e96","text":"<ul> <li>\u2705 Phase 1 \u6240\u6709\u6e2c\u8a66\u5fc5\u9808\u901a\u904e (Single Agent Loop)</li> <li>\u2705 \u8986\u84cb\u7387\u7dad\u6301 \u226590%</li> <li>\u2705 mypy/ty \u96f6\u932f\u8aa4</li> </ul>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2_1","title":"Phase 2 \u65b0\u589e\u6a19\u6e96","text":"<ul> <li>Multi-Agent:</li> <li>2+ \u4ee3\u7406\u53ef\u4ea4\u63db\u8a0a\u606f</li> <li>\u8cc7\u6e90\u9396\u9632\u6b62\u4e26\u767c\u885d\u7a81</li> <li>Orchestration:</li> <li>Coordinator \u6b63\u78ba\u5206\u767c\u4efb\u52d9</li> <li>\u7368\u7acb\u4efb\u52d9\u4e26\u884c\u57f7\u884c</li> <li>\u7aef\u5c0d\u7aef\uff1aUser \u2192 Coordinator \u2192 Specialists \u2192 Result</li> <li>Subgraph:</li> <li>\u5de2\u72c0\u5b50\u5716\u6df1\u5ea6\u9054 3 \u5c64</li> <li>\u932f\u8aa4\u6b63\u78ba\u50b3\u64ad</li> </ul>"},{"location":"vers0.1.0/PHASE2_INDEX/#_3","title":"\u9a57\u8b49\u547d\u4ee4","text":"<pre><code># \u57f7\u884c\u6240\u6709\u6e2c\u8a66\uff08\u6838\u5fc3 + \u4ee3\u7406\uff09\nuv run pytest tests/core/ tests/agents/ --cov=arkhon_rheo --cov-report=html\n\n# \u50c5\u57f7\u884c Phase 2 \u76f8\u95dc\u6e2c\u8a66\nuv run pytest tests/agents/\n\n# \u50c5\u57f7\u884c Phase all \u76f8\u95dc\u6e2c\u8a66\nuv run pytest\n\n# \u985e\u578b\u6aa2\u67e5\u3001\u54c1\u8cea\u6aa2\u67e5\nuv run ruff check src/arkhon_rheo --fix\nuv run ty\n</code></pre> <p>\u8a73\u7d30\u6e2c\u8a66\u7b56\u7565\u8acb\u53c3\u8003 TDD.md\u3002</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#context-phase-2","title":"\ud83d\udd11 Context \u7ba1\u7406\u6280\u80fd\u8def\u5f91 (Phase 2)","text":"<p>Phase 2 \u91cd\u9ede\u5728\u65bc Context \u7684\u50b3\u905e\u8207\u5171\u4eab\uff1a</p> \u9031\u6b21 Context \u91cd\u9ede \u6280\u80fd\u8207\u7b56\u7565 Week 5 \u8a0a\u606f Context \u4f7f\u7528 <code>context-fundamentals</code> \u78ba\u4fdd <code>AgentMessage</code> \u651c\u5e36 Trace ID \u8207 Metadata\u3002 Week 6 \u5171\u4eab Context \u4f7f\u7528 <code>context-manager</code> \u5be6\u4f5c <code>SharedAgentState</code>\uff0c\u78ba\u4fdd\u7dda\u7a0b\u5b89\u5168\u8207\u8cc7\u6599\u4e00\u81f4\u6027\u3002 Week 7 \u5c64\u7d1a Context \u4f7f\u7528 <code>context-window-management</code> \u8207 Scoping \u6a5f\u5236\uff0c\u5be6\u4f5c\u5b50\u5716\u5c0d\u7236\u5716 Context \u7684\u7e7c\u627f\u8207\u9694\u96e2\u3002 <p>\u8a73\u7d30\u8aaa\u660e\u8acb\u53c3\u8003 PHASE2_SKILLS.md \u00a7Phase 2 Context \u7b56\u7565\u7e3d\u7d50\u3002</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2_2","title":"\ud83d\ude80 \u5feb\u901f\u958b\u59cb\u6307\u5357 (Phase 2)","text":""},{"location":"vers0.1.0/PHASE2_INDEX/#_4","title":"\u65b0\u624b\u5165\u9580","text":"<ol> <li>\u78ba\u4fdd Phase 1 \u57fa\u790e\u7a69\u56fa\uff08\u6240\u6709\u6e2c\u8a66\u901a\u904e\uff09\u3002</li> <li>\u95b1\u8b80 ROADMAP.md \u00a7Phase 2 \u7406\u89e3\u67b6\u69cb\u76ee\u6a19\u3002</li> <li>\u95b1\u8b80 PHASE2_SKILLS.md \u6e96\u5099\u6280\u80fd\u3002</li> </ol>"},{"location":"vers0.1.0/PHASE2_INDEX/#sprint-21-week-5","title":"\u958b\u59cb Sprint 2.1 (Week 5)","text":"<ol> <li>\u76ee\u6a19: \u8b93\u5169\u500b Agent \u53ef\u4ee5\u8aaa\u8a71\u3002</li> <li>\u6838\u5fc3\u985e\u5225: <code>Agent</code> (\u64f4\u5c55\u81ea Phase 1 <code>BaseNode</code> \u6216\u5305\u88dd\u5b83), <code>AgentMessage</code>.</li> <li>\u7b2c\u4e00\u6b65:<ul> <li>\u5b9a\u7fa9 <code>AgentMessage</code> dataclass (src/arkhon_rheo/core/message.py)\u3002</li> <li>\u5be6\u4f5c <code>Agent.send_message()</code> \u8207 <code>Agent.receive_message()</code>\u3002</li> </ul> </li> <li>\u6e2c\u8a66: \u64b0\u5beb\u4e00\u500b\u6e2c\u8a66\uff0c\u6a21\u64ec Agent A \u767c\u9001\u8a0a\u606f\u7d66 Agent B\uff0cAgent B \u63a5\u6536\u4e26\u78ba\u8a8d\u3002</li> </ol>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2_3","title":"\ud83d\udcc2 \u5c08\u6848\u76ee\u9304\u7d50\u69cb (Phase 2 \u65b0\u589e)","text":"<pre><code>src/                          # updated\n\u251c\u2500\u2500 arkhon_rheo/\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 agent.py          # Sprint 2.1: Agent \u57fa\u790e\n\u2502   \u2502   \u251c\u2500\u2500 message.py        # Sprint 2.1: \u8a0a\u606f\u5b9a\u7fa9\n\u2502   \u2502   \u251c\u2500\u2500 shared_state.py   # Sprint 2.1: \u5171\u4eab\u72c0\u614b\n\u2502   \u2502   \u2514\u2500\u2500 subgraph.py       # Sprint 2.3: \u5b50\u5716\n\u2502   \u251c\u2500\u2500 agents/               # Sprint 2.2: \u5177\u9ad4\u4ee3\u7406\u5be6\u4f5c\n\u2502   \u2502   \u251c\u2500\u2500 coordinator.py\n\u2502   \u2502   \u2514\u2500\u2500 specialist.py\n\u2502   \u2514\u2500\u2500 runtime/\n\u2502       \u2514\u2500\u2500 scheduler.py      # Sprint 2.2: \u8abf\u5ea6\u5668\n\u2514\u2500\u2500 docs/                     # \u672c\u76ee\u9304\n    \u2514\u2500\u2500 vers0.1.0/\n        \u251c\u2500\u2500 PHASE2_INDEX.md   # \u672c\u6587\u4ef6\n        \u2514\u2500\u2500 PHASE2_SKILLS.md\n</code></pre>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2_4","title":"\u2753 \u5e38\u898b\u554f\u984c (Phase 2)","text":""},{"location":"vers0.1.0/PHASE2_INDEX/#q1-agent-node","title":"Q1: Agent \u548c Node \u6709\u4ec0\u9ebc\u4e0d\u540c\uff1f","text":"<p>A: <code>Node</code> \u662f\u57f7\u884c\u55ae\u5143\uff08\u51fd\u6578\u6216\u985e\u5225\uff09\uff0c<code>Agent</code> \u662f\u64c1\u6709\u81ea\u5df1\u72c0\u614b\u3001\u4fe1\u7bb1\u548c\u76ee\u6a19\u7684\u9ad8\u7d1a\u5be6\u9ad4\u3002Agent \u5167\u90e8\u53ef\u80fd\u7531\u4e00\u500b <code>StateGraph</code> (\u5305\u542b\u591a\u500b Nodes) \u7528\u65bc\u63a8\u7406\uff0c\u4e5f\u53ef\u80fd\u53ea\u662f\u4e00\u500b\u7c21\u55ae\u7684 Node\u3002\u5728 Phase 2\uff0c\u6211\u5011\u5c07 Agent \u8996\u70ba\u5716\u4e2d\u7684\u4e00\u500b\u9ad8\u7d1a\u7bc0\u9ede\u3002</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#q2-sharedstatecontextmanager","title":"Q2: \u70ba\u4ec0\u9ebc\u9700\u8981 SharedState\uff1fContextManager \u4e0d\u5920\u55ce\uff1f","text":"<p>A: <code>ContextManager</code> \u901a\u5e38\u8655\u7406 Thread-local \u6216 Request-scoped \u7684\u4e0a\u4e0b\u6587\u3002\u4f46\u5728 Multi-Agent \u4e26\u884c\u57f7\u884c\u6642\uff0c\u6211\u5011\u9700\u8981\u4e00\u500b\u660e\u78ba\u7684\u5171\u4eab\u8a18\u61b6\u9ad4\u7a7a\u9593 (<code>SharedState</code>) \u4f86\u8655\u7406\u8cc7\u6e90\u9396\u548c\u8de8\u4ee3\u7406\u7684\u8cc7\u6599\u4ea4\u63db\uff0c\u9019\u6bd4\u96b1\u5f0f\u7684 Context \u66f4\u5b89\u5168\u4e14\u6613\u65bc\u9664\u932f\u3002</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#phase-2-hotfixes","title":"\ud83d\udee0\ufe0f Phase 2 \u512a\u5316\u8207\u4fee\u5fa9 (Hotfixes)","text":"<p>\u5728 Phase 2 \u7684\u5be6\u4f5c\u904e\u7a0b\u4e2d\uff0c\u6211\u5011\u91dd\u5c0d\u4ee5\u4e0b\u554f\u984c\u9032\u884c\u4e86\u512a\u5316\u8207\u4fee\u5fa9\uff1a</p>"},{"location":"vers0.1.0/PHASE2_INDEX/#1-orchestration-hang","title":"1. \u89e3\u6c7a Orchestration Hang (\u5354\u4f5c\u5361\u6b7b)","text":"<ul> <li>\u554f\u984c: \u5728\u8907\u96dc\u7684\u4ee3\u7406\u7de8\u6392\u5834\u666f\u4e0b\uff0c\u7531\u65bc\u4ee3\u7406\u7121\u6cd5\u6b63\u78ba\u8b58\u5225\u5f7c\u6b64\u7684\u72c0\u614b\uff0c\u5c0e\u81f4 <code>test_orchestration.py</code> \u51fa\u73fe\u7121\u9650\u7b49\u5f85\u3002</li> <li>\u89e3\u6c7a\u65b9\u6848: \u5f15\u5165\u4e86\u4e2d\u592e\u4ee3\u7406\u8a3b\u518a\u8868 (<code>AgentRegistry</code>)\uff0c\u652f\u6301\u4ee3\u7406\u9593\u7684\u52d5\u614b\u67e5\u627e\u8207\u72c0\u614b\u76e3\u63a7\u3002</li> <li>\u76f8\u95dc\u6587\u4ef6: <code>src/arkhon_rheo/core/registry.py</code></li> </ul>"},{"location":"vers0.1.0/PHASE2_INDEX/#2-agent-registry","title":"2. \u5f15\u5165 Agent Registry (\u4e2d\u592e\u8a3b\u518a\u8868)","text":"<ul> <li>\u529f\u80fd: \u55ae\u4f8b\u6a21\u5f0f (Singleton) \u7684\u8a3b\u518a\u8868\uff0c\u7528\u65bc\u96c6\u4e2d\u7ba1\u7406\u6240\u6709\u6d3b\u8e8d\u7684\u4ee3\u7406\u5be6\u4f8b\u3002</li> <li>\u81ea\u52d5\u8a3b\u518a: <code>Agent</code> \u57fa\u985e\u73fe\u5728\u6703\u5728\u521d\u59cb\u5316\u6642\u81ea\u52d5\u5411 <code>AgentRegistry</code> \u8a3b\u518a\uff0c\u7c21\u5316\u4e86\u52d5\u614b\u62d3\u64b2\u7684\u5efa\u69cb\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE2_INDEX/#3","title":"3. \u5b50\u5716\u6e2c\u8a66\u8207\u7a69\u5b9a\u6027\u589e\u5f37","text":"<ul> <li>\u6539\u9032: \u5f37\u5316\u4e86\u5b50\u5716 (Subgraph) \u7684\u9694\u96e2\u6027\u6e2c\u8a66\uff0c\u78ba\u4fdd\u5de2\u72c0\u57f7\u884c\u6642\u7684\u932f\u8aa4\u50b3\u64ad\u8207\u8cc7\u6e90\u91cb\u653e\u908f\u8f2f\u6b63\u78ba\u57f7\u884c\u3002</li> </ul> <p>\u7dad\u8b77\u8005: Arkhon-Rheo Team \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6587\u4ef6\u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/PHASE2_REPORT/","title":"Phase 2 Documentation Organization Report","text":"<p>Date: 2026-02-16 Phase: Phase 2 (Multi-Agent Architecture)</p>"},{"location":"vers0.1.0/PHASE2_REPORT/#1-execution-summary","title":"1. Execution Summary","text":"<p>Following the <code>@build-phase-docs</code> prompt, the following documentation structure has been established for Phase 2:</p> <ul> <li>Created: <code>docs/vers0.1.0/PHASE2_INDEX.md</code></li> <li>Acts as the central hub for Phase 2.</li> <li>Links to skills, roadmap, and test standards.</li> <li>Created: <code>docs/vers0.1.0/PHASE2_SKILLS.md</code></li> <li>Detailed breakdown of recommended skills for Sprints 2.1, 2.2, and 2.3.</li> <li>Focuses on Agent Communication, Orchestration, and Subgraphs.</li> <li>Updated: <code>docs/vers0.1.0/DOC_INDEX.md</code></li> <li>Added \"Phase 2 (Multi-Agent) \u5feb\u901f\u5165\u53e3\" section.</li> <li>Updated Phase-to-Documentation mapping table.</li> </ul>"},{"location":"vers0.1.0/PHASE2_REPORT/#2-alignment-analysis","title":"2. Alignment Analysis","text":""},{"location":"vers0.1.0/PHASE2_REPORT/#roadmap-alignment","title":"Roadmap Alignment","text":"<ul> <li>Sprint 2.1 (Comm): Aligned with <code>Agent</code>, <code>Message</code> deliverables.</li> <li>Sprint 2.2 (Orch): Aligned with <code>Coordinator</code>, <code>Specialist</code>.</li> <li>Sprint 2.3 (Subgraph): Aligned with <code>SubGraph</code> nesting requirements.</li> </ul>"},{"location":"vers0.1.0/PHASE2_REPORT/#test-standards","title":"Test Standards","text":"<ul> <li>Phase 2 inherits all Phase 1 standards (Covergae &gt; 90%, strict types).</li> <li>Added specific Phase 2 criteria:</li> <li>Multi-agent message exchange.</li> <li>Resource locking.</li> <li>Subgraph error propagation.</li> </ul>"},{"location":"vers0.1.0/PHASE2_REPORT/#3-contradictions-observations","title":"3. Contradictions / Observations","text":"<ul> <li>Context Management: Phase 1 had a very clear weekly progression for context skills. Phase 2 required inferring the context strategy based on the architectural needs (Message Metadata -&gt; Shared State -&gt; Scoping). This has been documented in <code>PHASE2_SKILLS.md</code>.</li> <li>Missing Design Docs: The <code>docs/vers0.1.0/oop/</code> directory currently lacks specific design documents for <code>Agent</code> or <code>Coordinator</code> classes. <code>PHASE2_SKILLS.md</code> recommends <code>architect-review</code> and <code>multi-agent-patterns</code> to bridge this gap during implementation.</li> </ul>"},{"location":"vers0.1.0/PHASE2_REPORT/#4-final-status","title":"4. Final Status","text":"<p>Phase 2 implementation is Fully Completed and Verified.</p> <ul> <li>\u2705 Sprint 2.1: Agent Communication core components implemented.</li> <li>\u2705 Sprint 2.2: Orchestration (Coordinator &amp; Scheduler) implemented.</li> <li>\u2705 Sprint 2.3: Subgraph support (Nested execution) implemented.</li> <li>\u2705 Verification: All unit and integration tests passed with &gt;90% coverage.</li> </ul>"},{"location":"vers0.1.0/PHASE2_REPORT/#5-summary-of-implementation","title":"5. Summary of Implementation","text":"<p>Implemented a robust multi-agent architecture using <code>langgraph</code>-like <code>StateGraph</code> patterns. All agents support asynchronous communication and shared state management with locking. Subgraphs allow for modular and hierarchical task decomposition.</p>"},{"location":"vers0.1.0/PHASE2_REPORT/#6-cleanup","title":"6. Cleanup","text":"<ul> <li>Temporary verification scripts (<code>.agent/verify_phase_2.sh</code>) have been removed.</li> <li>Task tracking in <code>task.md</code> and <code>walkthrough.md</code> is finalized.</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/","title":"Phase 2 Skills \u63a8\u85a6\u6e05\u55ae","text":"<p>\u7248\u672c: 1.0.0 \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6574\u5408: ROADMAP.md + workflows_ai-agentic-system-builder.md + Multi-Agent Patterns</p>"},{"location":"vers0.1.0/PHASE2_SKILLS/#_1","title":"\u6982\u8ff0","text":"<p>\u672c\u6587\u4ef6\u70ba Phase 2 (Multi-Agent Architecture) \u7684\u6bcf\u500b Sprint \u63a8\u85a6\u76f8\u95dc\u7684\u958b\u767c\u6280\u80fd\uff0c\u6574\u5408\u4e86\uff1a</p> <ul> <li>ROADMAP.md \u7684 Phase 2 \u8a73\u7d30\u8a08\u5283</li> <li>workflows_ai-agentic-system-builder.md \u7684\u6280\u80fd\u7d44\u5408\u5efa\u8b70</li> <li>\u591a\u667a\u80fd\u9ad4\u5354\u4f5c\u8207\u7de8\u6392\u6a21\u5f0f</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21-agent-communication-week-5","title":"Sprint 2.1: Agent Communication (Week 5)","text":""},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21","title":"Sprint 2.1 \u76ee\u6a19","text":"<p>\u5efa\u7acb\u591a\u4ee3\u7406\u901a\u8a0a\u57fa\u790e\u8a2d\u65bd\u8207\u5171\u4eab\u72c0\u614b\u6a5f\u5236\u3002</p>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21-skills","title":"Sprint 2.1 \u6838\u5fc3\u67b6\u69cb Skills","text":"<ul> <li><code>ai-agents-architect</code> \u2b50 - \u4ee3\u7406\u67b6\u69cb\u8a2d\u8a08\u7684\u6838\u5fc3</li> <li><code>multi-agent-patterns</code> \u2b50 - \u591a\u4ee3\u7406\u8a2d\u8a08\u6a21\u5f0f\uff08\u901a\u8a0a\u3001\u5354\u4f5c\uff09</li> <li><code>distributed-systems</code> - \u5206\u6563\u5f0f\u7cfb\u7d71\u6982\u5ff5\uff08\u96d6\u7136\u662f\u672c\u5730\u904b\u884c\uff0c\u4f46\u5728\u908f\u8f2f\u4e0a\u662f\u5206\u6563\u7684\uff09</li> <li><code>event-sourcing-architect</code> - \u8a0a\u606f\u4f5c\u70ba\u4e8b\u4ef6\u7684\u8a2d\u8a08</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21-context-skills","title":"Sprint 2.1 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-fundamentals</code> - \u8a0a\u606f\u683c\u5f0f\u4e2d\u7684 Context Metadata \u8a2d\u8a08</li> <li><code>context-management-context-save</code> - \u5171\u4eab\u72c0\u614b\u7684\u6301\u4e45\u5316</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21-skills_1","title":"Sprint 2.1 \u5be6\u4f5c Skills","text":"<ul> <li><code>python-pro</code> - \u9032\u968e Python \u5be6\u4f5c\uff08Dataclasses, Async IO \u6e96\u5099\uff09</li> <li><code>memory-safety-patterns</code> - \u8cc7\u6e90\u9396\u5b9a\u8207\u4e26\u767c\u5b89\u5168</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21_1","title":"Sprint 2.1 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/core/agent.py</code> - Agent \u57fa\u790e\u985e\u5225</li> <li><code>src/arkhon_rheo/core/message.py</code> - \u7d50\u69cb\u5316\u8a0a\u606f\u5b9a\u7fa9</li> <li><code>src/arkhon_rheo/core/shared_state.py</code> - \u7dda\u7a0b\u5b89\u5168\u7684\u5171\u4eab\u72c0\u614b</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-21_2","title":"Sprint 2.1 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 \u5169\u500b\u4ee3\u7406\u53ef\u4ee5\u4ea4\u63db\u8a0a\u606f</li> <li>\u2705 \u8acb\u6c42-\u97ff\u61c9\u95dc\u806f (Correlation ID) \u6b63\u5e38\u5de5\u4f5c</li> <li>\u2705 \u8cc7\u6e90\u9396\u9632\u6b62\u4e26\u767c\u4fee\u6539\u885d\u7a81</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22-agent-orchestration-week-6","title":"Sprint 2.2: Agent Orchestration (Week 6)","text":""},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22","title":"Sprint 2.2 \u76ee\u6a19","text":"<p>\u5be6\u4f5c\u4ee3\u7406\u7de8\u6392\u5668\u8207\u5c08\u8cac\u4ee3\u7406 (Specialists)\u3002</p>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22-skills","title":"Sprint 2.2 \u7de8\u6392 Skills","text":"<ul> <li><code>agent-orchestration-multi-agent-optimize</code> \u2b50 - \u4ee3\u7406\u7de8\u6392\u8207\u512a\u5316</li> <li><code>saga-orchestration</code> - \u9577\u6642\u9593\u904b\u884c\u4e8b\u52d9\u7684\u7de8\u6392\u6a21\u5f0f</li> <li><code>dispatching-parallel-agents</code> - \u4e26\u884c\u4efb\u52d9\u5206\u767c</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22-skills_1","title":"Sprint 2.2 \u89d2\u8272\u8a2d\u8a08 Skills","text":"<ul> <li><code>architect-review</code> - \u5b9a\u7fa9 Coordinator \u8207 Specialist \u7684\u8077\u8cac\u908a\u754c</li> <li><code>role-based-design</code> (General) - \u5c08\u8cac\u4ee3\u7406\u7684\u8a2d\u8a08</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22-context-skills","title":"Sprint 2.2 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-manager</code> - \u5728 Coordinator \u8207 Specialist \u9593\u50b3\u905e Context</li> <li><code>context-optimization</code> - \u6e1b\u5c11\u50b3\u905e\u7d66\u5b50\u4ee3\u7406\u7684\u4e0a\u4e0b\u6587\u5927\u5c0f\uff08\u53ea\u50b3\u76f8\u95dc\u8cc7\u8a0a\uff09</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22-skills_2","title":"Sprint 2.2 \u6e2c\u8a66 Skills","text":"<ul> <li><code>distributed-debugging-debug-trace</code> - \u591a\u4ee3\u7406\u4ea4\u4e92\u7684\u9664\u932f\u8207\u8ffd\u8e64</li> <li><code>systematic-debugging</code> - \u8907\u96dc\u4ea4\u4e92\u7684\u9664\u932f</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22_1","title":"Sprint 2.2 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/agents/coordinator.py</code> - \u4efb\u52d9\u5354\u8abf\u8005</li> <li><code>src/arkhon_rheo/agents/specialist.py</code> - \u5c08\u8cac\u4ee3\u7406\u5be6\u4f5c</li> <li><code>src/arkhon_rheo/runtime/scheduler.py</code> - \u4efb\u52d9\u8abf\u5ea6\u5668</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-22_2","title":"Sprint 2.2 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 Coordinator \u80fd\u5c07\u4efb\u52d9\u8def\u7531\u7d66\u6b63\u78ba\u7684 Specialist</li> <li>\u2705 \u7368\u7acb\u4efb\u52d9\u53ef\u4e26\u884c\u57f7\u884c</li> <li>\u2705 \u7aef\u5c0d\u7aef\u6e2c\u8a66\uff1a\u4f7f\u7528\u8005\u8acb\u6c42 \u2192 3 \u500b\u5c08\u8cac\u4ee3\u7406 \u2192 \u6700\u7d42\u7d50\u679c</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23-subgraph-support-week-7","title":"Sprint 2.3: Subgraph Support (Week 7)","text":""},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23","title":"Sprint 2.3 \u76ee\u6a19","text":"<p>\u652f\u63f4\u5de2\u72c0\u5716 (Subgraphs) \u4ee5\u8655\u7406\u8907\u96dc\u4efb\u52d9\u5206\u89e3\u3002</p>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23-skills","title":"Sprint 2.3 \u6838\u5fc3\u67b6\u69cb Skills","text":"<ul> <li><code>hierarchical-agents</code> (General) - \u5c64\u7d1a\u5316\u4ee3\u7406\u7d50\u69cb</li> <li><code>graph-theory</code> (General) - \u5716\u8ad6\u57fa\u790e\uff08\u8655\u7406\u5de2\u72c0\u7d50\u69cb\uff09</li> <li><code>software-architecture</code> - \u905e\u8ff4\u7d50\u69cb\u8a2d\u8a08</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23-context-skills","title":"Sprint 2.3 Context \u7ba1\u7406 Skills","text":"<ul> <li><code>context-window-management</code> - \u5b50\u5716\u7684 Context \u9694\u96e2\u8207\u7e7c\u627f</li> <li><code>context-propagation</code> (General) - \u7236\u5b50\u5716\u4e4b\u9593\u7684\u4e0a\u4e0b\u6587\u50b3\u64ad</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23-skills_1","title":"Sprint 2.3 \u8996\u89ba\u5316\u8207\u5de5\u5177 Skills","text":"<ul> <li><code>mermaid-expert</code> - \u751f\u6210\u5de2\u72c0\u5716\u7684\u8996\u89ba\u5316\u8868\u793a</li> <li><code>debugger</code> - \u6df1\u5165\u5b50\u5716\u7684\u9664\u932f</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23_1","title":"Sprint 2.3 \u4e3b\u8981\u4ea4\u4ed8\u7269","text":"<ul> <li><code>src/arkhon_rheo/core/subgraph.py</code> - \u5b50\u5716\u5bb9\u5668</li> <li>\u5de2\u72c0\u57f7\u884c\u908f\u8f2f\uff08\u7236\u5716\u66ab\u505c \u2192 \u5b50\u5716\u57f7\u884c \u2192 \u8fd4\u56de\uff09</li> <li>\u7bc4\u4f8b\uff1a\u8a8d\u8b49\u5b50\u5716\u3001\u6578\u64da\u8655\u7406\u5b50\u5716</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#sprint-23_2","title":"Sprint 2.3 \u9000\u51fa\u6a19\u6e96","text":"<ul> <li>\u2705 \u5b50\u5716\u53ef\u5de2\u72c0\u9054 3 \u5c64\u6df1</li> <li>\u2705 \u7236\u5716 Context \u53ef\u88ab\u5b50\u5716\u5b58\u53d6\uff08\u4f9d\u914d\u7f6e\uff09</li> <li>\u2705 \u5b50\u5716\u932f\u8aa4\u6b63\u78ba\u50b3\u64ad\u56de\u7236\u5716</li> <li>\u2705 \u8996\u89ba\u5316\u5de5\u5177\u80fd\u986f\u793a\u5de2\u72c0\u7d50\u69cb</li> </ul>"},{"location":"vers0.1.0/PHASE2_SKILLS/#phase-2-context","title":"Phase 2 Context \u7b56\u7565\u7e3d\u7d50","text":"Sprint \u91cd\u9ede \u7b56\u7565 2.1 \u8a0a\u606f Context \u78ba\u4fdd\u6bcf\u4e00\u689d <code>AgentMessage</code> \u90fd\u651c\u5e36\u5fc5\u8981\u7684 Context Metadata (Trace ID, Source, Intent)\u3002 2.2 \u5171\u4eab Context \u5be6\u4f5c <code>SharedAgentState</code>\uff0c\u8b93\u591a\u500b Agent \u80fd\u5b89\u5168\u5730\u8b80\u5beb\u5171\u4eab\u8cc7\u8a0a\uff0c\u540c\u6642\u907f\u514d Context \u6c61\u67d3\u3002 2.3 \u5c64\u7d1a Context \u5be6\u4f5c Context \u7684 Scope \u6a5f\u5236\u3002\u5b50\u5716\u61c9\u7e7c\u627f\u7236\u5716\u7684 Context \u5feb\u7167\uff0c\u4f46\u5176\u57f7\u884c\u904e\u7a0b\u4e2d\u7684\u81e8\u6642\u72c0\u614b\u4e0d\u61c9\u7121\u689d\u4ef6\u6c59\u67d3\u7236\u5716\u3002"},{"location":"vers0.1.0/PHASE2_SKILLS/#_2","title":"\u76f8\u95dc\u6587\u4ef6","text":"<ul> <li>PHASE1_SKILLS.md - Foundation Skills</li> <li>ROADMAP.md - \u5c08\u6848\u8def\u7dda\u5716</li> </ul>"},{"location":"vers0.1.0/PHASE3_INDEX/","title":"Phase 3 (Memory &amp; Storage Systems) \u6587\u4ef6\u7d22\u5f15","text":"<p>\u7248\u672c: 1.0.0 \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u72c0\u614b: \ud83d\udea7 \u9032\u884c\u4e2d (In Progress) \u9069\u7528\u968e\u6bb5: Phase 3 - Memory &amp; Storage Systems (Week 8-10)</p>"},{"location":"vers0.1.0/PHASE3_INDEX/#_1","title":"\ud83d\udcda \u6838\u5fc3\u958b\u767c\u6d41\u7a0b\u6587\u4ef6","text":"<p>Phase 3 \u7684\u958b\u767c\u6d41\u7a0b\u5c0e\u5411\u6587\u4ef6\uff1a</p> # \u6587\u4ef6 \u7528\u9014 \u4f55\u6642\u4f7f\u7528 1 PHASE3_SKILLS.md Sprint \u6280\u80fd\u6307\u5357 \u6bcf\u500b Sprint \u958b\u59cb\u6642\u5fc5\u8b80 (Phase 3 \u5c08\u5c6c) 2 ROADMAP.md Phase 3 \u8a73\u7d30\u8a08\u5283\u548c\u91cc\u7a0b\u7891 \u4e86\u89e3 Sprint \u76ee\u6a19\u548c\u4ea4\u4ed8\u7269 3 ARCHITECTURE.md \u8a18\u61b6\u8207\u5b58\u5132\u7cfb\u7d71\u8a2d\u8a08 \u7406\u89e3\u7cfb\u7d71\u8a2d\u8a08\u7d30\u7bc0 4 PHASE2_INDEX.md Phase 2 \u591a\u4ee3\u7406\u53c3\u8003 \u67e5\u95b1\u4ee3\u7406\u7de8\u6392\u8207\u901a\u8a0a\u6a5f\u5236 5 DOC_INDEX.md \u5168\u5c08\u6848\u6587\u4ef6\u5c0e\u822a \u67e5\u627e\u5176\u4ed6\u6587\u4ef6"},{"location":"vers0.1.0/PHASE3_INDEX/#sprint","title":"\ud83c\udfaf Sprint \u5c0d\u61c9\u8868","text":"<p>Phase 3 \u5305\u542b 3 \u500b Sprint\uff0c\u6bcf\u9031\u4e00\u500b\uff1a</p> Sprint \u9031\u6578 \u4e3b\u8981\u76ee\u6a19 \u4e3b\u8981\u4ea4\u4ed8\u7269 \u63a8\u85a6\u6280\u80fd \u72c0\u614b Sprint 3.1 Week 8 Short-term Memory <code>ContextWindow</code>, <code>Summarizer</code> PHASE3_SKILLS.md \u00a7Sprint 3.1 \u23f3 Sprint 3.2 Week 9 Vector Store Integration <code>VectorStore</code>, <code>Embeddings</code> PHASE3_SKILLS.md \u00a7Sprint 3.2 \u23f3 Sprint 3.3 Week 10 Checkpointing &amp; Rollback <code>CheckpointManager</code>, <code>Rollback</code> PHASE3_SKILLS.md \u00a7Sprint 3.3 \u23f3 <p>\u8a73\u7d30 Sprint \u8a08\u5283\u8acb\u53c3\u8003 ROADMAP.md \u00a7Milestone 3\u3002</p>"},{"location":"vers0.1.0/PHASE3_INDEX/#phase-3","title":"\u2705 Phase 3 \u6e2c\u8a66\u6a19\u6e96","text":"<p>Phase 3 \u6e2c\u8a66\u6a19\u6e96\u7e7c\u627f\u6240\u6709 P1 \u8207 P2 \u6a19\u6e96\uff1a</p>"},{"location":"vers0.1.0/PHASE3_INDEX/#_2","title":"\u7e7c\u627f\u6a19\u6e96","text":"<ul> <li>\u2705 Phase 1 &amp; 2 \u6240\u6709\u6e2c\u8a66\u5fc5\u9808\u901a\u904e</li> <li>\u2705 \u8986\u84cb\u7387\u7dad\u6301 \u226590%</li> <li>\u2705 mypy/ty \u96f6\u932f\u8aa4</li> </ul>"},{"location":"vers0.1.0/PHASE3_INDEX/#phase-3_1","title":"Phase 3 \u65b0\u589e\u6a19\u6e96","text":"<ul> <li>Memory:</li> <li>Context \u7dad\u6301\u5728 Token \u9650\u5236\u5167 (Sliding Window)</li> <li>\u6458\u8981 (Summarization) \u4fdd\u7559\u95dc\u9375\u4e8b\u5be6</li> <li>\u5411\u91cf\u5b58\u5132\u8655\u7406 10k+ \u5411\u91cf</li> <li>\u67e5\u8a62\u5ef6\u9072 &lt;500ms (p95)</li> <li>Checkpoint:</li> <li>\u53ef\u56de\u6efe\u81f3\u4efb\u4e00\u6b77\u53f2\u6b65\u9a5f</li> <li>\u56de\u6efe\u5f8c\u72c0\u614b\u4fdd\u6301\u4e00\u81f4\u6027</li> <li>Checkpoint \u958b\u92b7 &lt;5% \u57f7\u884c\u6642\u9593</li> <li>E2E: \u57f7\u884c \u2192 \u4e2d\u65b7 \u2192 \u56de\u6efe \u2192 \u6062\u5fa9</li> </ul>"},{"location":"vers0.1.0/PHASE3_INDEX/#_3","title":"\u9a57\u8b49\u547d\u4ee4","text":"<pre><code># \u57f7\u884c\u6240\u6709\u6e2c\u8a66\nuv run pytest tests/core/ tests/agents/ tests/memory/ --cov=arkhon_rheo --cov-report=html\n\n# \u50c5\u57f7\u884c Phase 3 \u76f8\u95dc\u6e2c\u8a66\nuv run pytest tests/memory/ tests/runtime/checkpoint.py\n</code></pre>"},{"location":"vers0.1.0/PHASE3_INDEX/#phase-3_2","title":"\ud83d\udcc2 \u5c08\u6848\u76ee\u9304\u7d50\u69cb (Phase 3 \u9810\u671f)","text":"<pre><code>src/                          # updated\n\u251c\u2500\u2500 arkhon_rheo/\n\u2502   \u251c\u2500\u2500 memory/               # Phase 3: \u8a18\u61b6\u7cfb\u7d71\n\u2502   \u2502   \u251c\u2500\u2500 context_window.py # Sprint 3.1\n\u2502   \u2502   \u251c\u2500\u2500 summarization.py  # Sprint 3.1\n\u2502   \u2502   \u251c\u2500\u2500 vector_store.py   # Sprint 3.2\n\u2502   \u2502   \u2514\u2500\u2500 embeddings.py     # Sprint 3.2\n\u2502   \u2514\u2500\u2500 runtime/\n\u2502       \u251c\u2500\u2500 checkpoint.py     # Sprint 3.3\n\u2502       \u2514\u2500\u2500 rollback.py       # Sprint 3.3\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 vers0.1.0/\n        \u251c\u2500\u2500 PHASE3_INDEX.md   # \u672c\u6587\u4ef6\n        \u2514\u2500\u2500 PHASE3_SKILLS.md\n</code></pre> <p>\u7dad\u8b77\u8005: Arkhon-Rheo Team \u6700\u5f8c\u66f4\u65b0: 2026-02-16 \u6587\u4ef6\u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/PHASE3_REPORT/","title":"Phase 3 Documentation Organization Report","text":"<p>Date: 2026-02-16 Phase: Phase 3 (Memory &amp; Storage Systems)</p>"},{"location":"vers0.1.0/PHASE3_REPORT/#1-execution-summary","title":"1. Execution Summary","text":"<p>Following the <code>@build-phase-docs</code> prompt, the documentation infrastructure for Phase 3 has been established:</p> <ul> <li>Created: <code>docs/vers0.1.0/PHASE3_INDEX.md</code></li> <li>Acts as the central hub for Phase 3.</li> <li>Outlines milestones for Sprints 3.1, 3.2, and 3.3.</li> <li>Created: <code>docs/vers0.1.0/PHASE3_SKILLS.md</code></li> <li>Detailed breakdown of required skills (Vector DB, Persistence, Token Optimization).</li> <li>Defined context management strategy for Phase 3.</li> <li>Updated: <code>docs/vers0.1.0/DOC_INDEX.md</code> (Pending)</li> <li>Integrating Phase 3 into the overall documentation structure.</li> </ul>"},{"location":"vers0.1.0/PHASE3_REPORT/#2-alignment-analysis","title":"2. Alignment Analysis","text":""},{"location":"vers0.1.0/PHASE3_REPORT/#roadmap-alignment","title":"Roadmap Alignment","text":"<ul> <li>Sprint 3.1 (Short-term): Aligned with <code>ContextWindow</code>, <code>tiktoken</code>, and summarization deliverables.</li> <li>Sprint 3.2 (Vector): Aligned with <code>VectorStore</code>, semantic search, and query latency requirements.</li> <li>Sprint 3.3 (Recovery): Aligned with <code>CheckpointManager</code>, SQLite persistence, and human-in-the-loop gates.</li> </ul>"},{"location":"vers0.1.0/PHASE3_REPORT/#test-standards","title":"Test Standards","text":"<ul> <li>Phase 3 inherits all standards from P1 &amp; P2.</li> <li>Added performance and consistency targets (p95 latency, rollback consistency).</li> </ul>"},{"location":"vers0.1.0/PHASE3_REPORT/#3-contradictions-observations","title":"3. Contradictions / Observations","text":"<ul> <li>Vector DB Selection: The <code>ROADMAP.md</code> mentions Pinecone/Weaviate for production but recommends SQLite/pgvector for development. This has been highlighted in <code>PHASE3_SKILLS.md</code>.</li> <li>Infrastructure Overhead: Checkpointing requirements (&lt;5% overhead) will require careful implementation of incremental saves, which hasn't been prototyped yet in earlier phases.</li> </ul>"},{"location":"vers0.1.0/PHASE3_REPORT/#4-final-status","title":"4. Final Status","text":"<p>Phase 3 Documentation is Initialized. The project is ready to proceed to Sprint 3.1.</p>"},{"location":"vers0.1.0/PHASE3_SKILLS/","title":"Phase 3 (Memory Systems) \u6280\u80fd\u6307\u5357","text":"<p>\u7248\u672c: 1.0.0 \u9069\u7528\u968e\u6bb5: Phase 3 - Memory &amp; Storage Systems (Week 8-10)</p>"},{"location":"vers0.1.0/PHASE3_SKILLS/#phase-3","title":"\ud83d\ude80 Phase 3 \u6838\u5fc3\u6280\u80fd\u77e9\u9663","text":"<p>\u5728 Phase 3 \u4e2d\uff0c\u91cd\u9ede\u8f49\u5411 \u9577\u671f\u8a18\u61b6 \u8207 \u72c0\u614b\u6301\u4e45\u5316\u3002</p>"},{"location":"vers0.1.0/PHASE3_SKILLS/#_1","title":"\u6838\u5fc3\u5be6\u4f5c\u6280\u80fd","text":"<ul> <li><code>vector-db-expert</code> - \u7528\u65bc <code>VectorStore</code> \u8207 RAG \u6574\u5408\u3002</li> <li><code>sqlite-persistence</code> - \u7528\u65bc <code>CheckpointManager</code> \u5be6\u4f5c\u3002</li> <li><code>token-optimization</code> - \u7528\u65bc <code>ContextWindow</code> \u8207 <code>Summarization</code>\u3002</li> <li><code>performance-profiler</code> - \u78ba\u4fdd\u67e5\u8a62\u5ef6\u9072 &lt;500ms\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE3_SKILLS/#memory-ops","title":"\u4e0a\u4e0b\u6587\u7ba1\u7406\u6280\u80fd (Memory Ops)","text":"<ul> <li><code>context-window-management</code> (Week 8): \u6df1\u5165\u8655\u7406 Sliding Window \u908f\u8f2f\u3002</li> <li><code>context-persistence</code> (Week 9/10): \u8655\u7406\u5411\u91cf\u5316\u5b58\u5132\u8207\u6aa2\u7d22\u3002</li> <li><code>context-management-context-restore</code> (Week 10): \u5be6\u73fe Checkpoint \u56de\u6efe\u8207\u5fa9\u539f\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE3_SKILLS/#sprint","title":"\ud83d\udcc5 Sprint \u5efa\u8b70\u8def\u5f91","text":""},{"location":"vers0.1.0/PHASE3_SKILLS/#sprint-31-short-term-memory-week-8","title":"Sprint 3.1: Short-term Memory (Week 8)","text":"<ul> <li>\u91cd\u9ede: \u7ba1\u7406 Agent \u7684\u6ce8\u610f\u529b\u8207 Token \u9650\u5236\u3002</li> <li>\u5efa\u8b70\u4f5c\u696d:<ol> <li>\u4f7f\u7528 <code>context-window-management</code> \u5be6\u4f5c <code>ContextWindow</code> \u985e\u5225\u3002</li> <li>\u6574\u5408 <code>tiktoken</code> \u9032\u884c\u7cbe\u78ba\u7684 Token \u8a08\u6578\u3002</li> <li>\u5be6\u4f5c LLM \u89f8\u767c\u7684\u6458\u8981 (Summarization) \u6a5f\u5236\u3002</li> </ol> </li> </ul>"},{"location":"vers0.1.0/PHASE3_SKILLS/#sprint-32-vector-store-integration-week-9","title":"Sprint 3.2: Vector Store Integration (Week 9)","text":"<ul> <li>\u91cd\u9ede: \u70ba Agent \u63d0\u4f9b\u5ee3\u5927\u7684\u80cc\u666f\u77e5\u8b58\uff08\u9577\u671f\u8a18\u61b6\uff09\u3002</li> <li>\u5efa\u8b70\u4f5c\u696d:<ol> <li>\u5b9a\u7fa9 <code>VectorStore</code> \u62bd\u8c61\u4ecb\u9762\u3002</li> <li>\u5be6\u4f5c RAG \u6aa2\u7d22\u7b56\u7565\uff08\u8a9e\u7fa9\u3001\u6df7\u5408\u3001\u6642\u9593\u52a0\u6b0a\uff09\u3002</li> <li>\u4f7f\u7528 <code>vector-db-expert</code> \u6280\u80fd\u512a\u5316\u6aa2\u7d22\u6027\u80fd\u3002</li> </ol> </li> </ul>"},{"location":"vers0.1.0/PHASE3_SKILLS/#sprint-33-checkpointing-rollback-week-10","title":"Sprint 3.3: Checkpointing &amp; Rollback (Week 10)","text":"<ul> <li>\u91cd\u9ede: \u7cfb\u7d71\u53ef\u9760\u6027\u8207\u4eba\u985e\u5e72\u9810\u6a5f\u5236\u3002</li> <li>\u5efa\u8b70\u4f5c\u696d:<ol> <li>\u5be6\u4f5c <code>CheckpointManager</code> \u4f7f\u7528 SQLite \u6301\u4e45\u5316\u72c0\u614b\u3002</li> <li>\u5be6\u4f5c <code>rollback(step_n)</code> \u51fd\u6578\uff0c\u78ba\u4fdd\u72c0\u614b\u56de\u6eaf\u7684\u51aa\u7b49\u6027\u3002</li> <li>\u6574\u5408\u4eba\u985e\u5be9\u6838\u7bc0\u9ede (Human Approval Gates)\uff0c\u5be6\u73fe\u300c\u4e2d\u65b7-\u5be9\u6838-\u6062\u5fa9\u300d\u6d41\u7a0b\u3002</li> </ol> </li> </ul>"},{"location":"vers0.1.0/PHASE3_SKILLS/#phase-3-context","title":"\ud83d\udd11 Phase 3 Context \u7b56\u7565\u7e3d\u7d50","text":"Sprint \u7b56\u7565\u7dad\u5ea6 \u5be6\u4f5c\u76ee\u6a19 Week 8 \u5bec\u5ea6\u63a7\u5236 Sliding Window \u78ba\u4fdd\u5373\u6642 Context \u4e0d\u8d85\u51fa\u7a97\u53e3\u4e14\u6210\u672c\u53ef\u63a7\u3002 Week 9 \u6df1\u5ea6\u6aa2\u7d22 \u5229\u7528\u5411\u91cf\u6578\u64da\u5eab\u9032\u884c\u9ad8\u6548\u6aa2\u7d22\uff0c\u88dc\u5145\u7576\u524d Context\u3002 Week 10 \u6301\u4e45\u5316/\u6062\u5fa9 \u5c07 Context \u6b77\u53f2\u5b8c\u6574\u4fdd\u5b58\uff0c\u652f\u63f4\u8de8 Session \u7684\u65b7\u9ede\u7e8c\u884c\u3002"},{"location":"vers0.1.0/PHASE4_INDEX/","title":"Phase 4 Index: Framework Release","text":"<p>\u672c\u6587\u4ef6\u70ba Arkhon-Rheo Phase 4 (Framework Release) \u7684\u6838\u5fc3\u7d22\u5f15\uff0c\u6db5\u84cb\u4e86\u6253\u5305\u5206\u767c\u3001CLI \u958b\u767c\u4ee5\u53ca\u5b8c\u6574\u6587\u6a94/\u7bc4\u4f8b\u7684\u5efa\u7acb\u3002</p>"},{"location":"vers0.1.0/PHASE4_INDEX/#_1","title":"\u968e\u6bb5\u76ee\u6a19","text":"<ol> <li>\u6253\u5305\u8207\u5206\u767c: \u5c07\u6846\u67b6\u6253\u5305\u70ba\u53ef\u900f\u904e <code>pip install</code> \u5b89\u88dd\u7684\u5957\u4ef6\u3002</li> <li>CLI \u5de5\u5177: \u5efa\u7acb <code>arkhon-rheo</code> \u547d\u4ee4\u5217\u5de5\u5177\uff0c\u652f\u63f4\u5c08\u6848\u521d\u59cb\u5316\u8207\u904b\u884c\u3002</li> <li>\u6587\u6a94\u8207\u7bc4\u4f8b: \u63d0\u4f9b 5 \u500b\u4ee5\u4e0a\u7684\u7bc4\u4f8b\u5c08\u6848\u8207\u5b8c\u6574\u7684 API \u53c3\u8003\u624b\u518a\u3002</li> </ol>"},{"location":"vers0.1.0/PHASE4_INDEX/#sprint-breakdown","title":"Sprint Breakdown","text":""},{"location":"vers0.1.0/PHASE4_INDEX/#sprint-41-packaging-distribution-week-11","title":"Sprint 4.1: Packaging &amp; Distribution (Week 11)","text":"<ul> <li>\u76ee\u6a19: \u5efa\u7acb <code>pyproject.toml</code>\uff0c\u5be6\u4f5c CLI \u57fa\u790e\u67b6\u69cb\u3002</li> <li>\u4ea4\u4ed8\u7269:</li> <li><code>pyproject.toml</code> (Metadata, Dependencies, Entry Points)</li> <li><code>src/arkhon_rheo/cli/main.py</code> (<code>init</code>, <code>run</code>)</li> <li><code>src/arkhon_rheo/cli/migrate.py</code> (LangGraph \u9077\u79fb\u5de5\u5177)</li> <li>\u9a57\u8b49: <code>pip install .</code> \u6210\u529f\uff0cCLI \u547d\u4ee4\u53ef\u57f7\u884c\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_INDEX/#sprint-42-documentation-examples-week-12","title":"Sprint 4.2: Documentation &amp; Examples (Week 12)","text":"<ul> <li>\u76ee\u6a19: \u5efa\u7acb\u5b8c\u6574\u7684\u6587\u6a94\u7cfb\u7d71\u8207\u6559\u5b78\u7bc4\u4f8b\u3002</li> <li>\u4ea4\u4ed8\u7269:</li> <li><code>docs/</code> (Getting Started, API Reference, Architecture)</li> <li><code>examples/</code> (Simple, Multi-agent, Memory, Migration)</li> <li>Tutorial Notebooks</li> <li>\u9a57\u8b49: \u6587\u6a94\u5efa\u7f6e\u6210\u529f\uff0c\u6240\u6709\u7bc4\u4f8b\u7686\u53ef\u7121\u8aa4\u904b\u884c\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_INDEX/#cumulative-p1-p4","title":"\u6e2c\u8a66\u6a19\u6e96 (Cumulative P1-P4)","text":"<p>\u2705 P4 \u6e2c\u8a66\u6a19\u6e96:</p> <ul> <li><code>pip install arkhon-rheo</code> \u5728\u4e7e\u6de8\u74b0\u5883\u4e0b\u6210\u529f\u3002</li> <li><code>arkhon-rheo --version</code> \u8fd4\u56de\u6b63\u78ba\u7248\u672c\u3002</li> <li>5+ \u7bc4\u4f8b\u5c08\u6848\u57f7\u884c\u6210\u529f\u7387 100%\u3002</li> <li>Sphinx/MkDocs \u6587\u6a94\u5efa\u7f6e\u7121\u932f\u8aa4\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_INDEX/#phase-4","title":"\u76ee\u9304\u7d50\u69cb (Phase 4 \u76f8\u95dc)","text":"<pre><code>arkhon-rheo/\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 arkhon_rheo/\n\u2502       \u2514\u2500\u2500 cli/\n\u2502           \u251c\u2500\u2500 main.py\n\u2502           \u2514\u2500\u2500 migrate.py\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 tutorials/\n\u2502   \u2514\u2500\u2500 reference/\n\u2514\u2500\u2500 examples/\n    \u251c\u2500\u2500 simple_agent/\n    \u2514\u2500\u2500 multi_agent/\n</code></pre>"},{"location":"vers0.1.0/PHASE4_REPORT/","title":"Phase 4 Planning Report (Framework Release)","text":""},{"location":"vers0.1.0/PHASE4_REPORT/#_1","title":"\u898f\u5283\u6458\u8981","text":"<p>Phase 4 \u662f Arkhon-Rheo v0.1.0 \u7684\u6536\u5b98\u968e\u6bb5\u3002\u672c\u968e\u6bb5\u76ee\u6a19\u662f\u5b8c\u6210\u5f9e\u300c\u5be6\u9a57\u5ba4\u96db\u578b\u300d\u5230\u300c\u53ef\u5206\u767c\u6846\u67b6\u300d\u7684\u8f49\u8b8a\u3002</p>"},{"location":"vers0.1.0/PHASE4_REPORT/#roadmap-alignment","title":"\u8def\u7dda\u5716\u5c0d\u9f4a (Roadmap Alignment)","text":"<ul> <li>\u9032\u5ea6\u78ba\u8a8d: Phase 1-3 \u5df2\u5168\u6578\u5b8c\u6210\u4e26\u901a\u904e\u6e2c\u8a66\u3002</li> <li>\u6838\u5fc3\u627f\u8afe: Phase 4 \u5c07\u514c\u73fe <code>ROADMAP.md</code> \u4e2d\u95dc\u65bc pip \u5b89\u88dd\u3001CLI \u5de5\u5177\u8207\u5168\u9762\u6587\u6a94\u7684\u627f\u8afe\u3002</li> <li>\u6280\u8853\u50b5\u8655\u7406: \u5728 Sprint 4.1 \u4e2d\u5c07\u540c\u6b65\u6e05\u7406 Phase 2-3 \u6b98\u7559\u7684\u81e8\u6642 Mock \u7269\u4ef6\uff0c\u7d71\u4e00\u4f7f\u7528\u6b63\u5f0f\u5be6\u4f5c\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_REPORT/#_2","title":"\u89c0\u5bdf\u8207\u5efa\u8b70","text":"<ol> <li>CLI \u512a\u5148: <code>arkhon-rheo init</code> \u61c9\u80fd\u81ea\u52d5\u751f\u6210\u7b26\u5408 Phase 1-3 \u6700\u4f73\u5be6\u52d9\u7684\u5c08\u6848\u7bc4\u672c\u3002</li> <li>\u7bc4\u4f8b\u771f\u5be6\u6027: <code>examples/</code> \u4e2d\u7684\u4ee3\u78bc\u4e0d\u61c9\u53ea\u662f\u5c55\u793a\u6548\u679c\uff0c\u66f4\u61c9\u4f5c\u70ba\u7528\u6236\u958b\u767c\u7684\u6a21\u677f\u3002</li> <li>\u7a69\u5b9a\u6027: Phase 4 \u7684 Exit Criteria \u8981\u6c42\u7e7c\u627f P1-P3 \u7684\u6240\u6709\u6e2c\u8a66\uff0c\u9019\u610f\u5473\u8457\u56de\u6b78\u6e2c\u8a66 (Regression Test) \u5c07\u662f\u672c\u968e\u6bb5\u7684\u91cd\u4e2d\u4e4b\u91cd\u3002</li> </ol>"},{"location":"vers0.1.0/PHASE4_REPORT/#_3","title":"\u7d50\u8ad6","text":"<p>Phase 4 \u7684\u898f\u5283\u5df2\u5b8c\u6210\uff0c\u76f8\u95dc\u7d22\u5f15\u6587\u6a94\u8207\u6280\u80fd\u5f15\u5c0e\u5df2\u5efa\u7acb\u3002\u7cfb\u7d71\u5df2\u6e96\u5099\u9032\u5165 Sprint 4.1\u3002</p>"},{"location":"vers0.1.0/PHASE4_SKILLS/","title":"Phase 4 Skills: Release &amp; Packaging","text":"<p>Phase 4 \u7684\u91cd\u9ede\u5728\u65bc\u5de5\u7a0b\u5316\u8207\u7522\u54c1\u5316\uff0c\u5efa\u8b70\u5728 Sprints \u4e2d\u4f7f\u7528\u4ee5\u4e0b Skills \u4ee5\u78ba\u4fdd\u7522\u51fa\u54c1\u8cea\u3002</p>"},{"location":"vers0.1.0/PHASE4_SKILLS/#skills","title":"\u63a8\u85a6\u6280\u80fd (Skills)","text":""},{"location":"vers0.1.0/PHASE4_SKILLS/#1-packaging-cli","title":"1. Packaging &amp; CLI","text":"<ul> <li><code>python-pro</code>: \u7528\u65bc\u5be6\u4f5c\u7a69\u5065\u7684 CLI \u5de5\u5177\u8207 <code>pyproject.toml</code> \u914d\u7f6e\u3002</li> <li><code>uv-package-manager</code>: \u7528\u65bc\u7ba1\u7406\u4f9d\u8cf4\u8207\u69cb\u5efa Wheel/Sdist\u3002</li> <li><code>ty</code>: \u7528\u65bc CLI \u53c3\u6578\u7684\u5f37\u578b\u5225\u9a57\u8b49\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_SKILLS/#2-documentation-examples","title":"2. Documentation &amp; Examples","text":"<ul> <li><code>docs-architect</code>: \u7528\u65bc\u8a2d\u8a08\u6587\u6a94\u7d50\u69cb\u8207\u64b0\u5beb\u6e05\u6670\u7684 API \u624b\u518a\u3002</li> <li><code>markdown-lint</code>: \u78ba\u4fdd\u6240\u6709\u6587\u6a94\u7b26\u5408 GFM \u6a19\u6e96\u3002</li> <li><code>writing-skills</code>: \u7528\u65bc\u7de8\u5beb\u9ad8\u54c1\u8cea\u7684\u6559\u5b78\u624b\u518a\u8207 Notebooks\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_SKILLS/#context","title":"Context \u7ba1\u7406\u7b56\u7565","text":"<p>\u5728 Phase 4 \u4e2d\uff0cContext \u7684\u91cd\u9ede\u61c9\u5728\u65bc\u8de8\u6a21\u7d44\u6574\u5408\uff1a</p> <ul> <li>Review: \u78ba\u4fdd CLI \u547c\u53eb\u7684\u908f\u8f2f\u8207 <code>core</code> / <code>runtime</code> \u4fdd\u6301\u4e00\u81f4\u3002</li> <li>Examples: \u7bc4\u4f8b\u61c9\u771f\u5be6\u53cd\u6620 Phase 1-3 \u7684\u6700\u4f73\u5be6\u8e10\u3002</li> <li>Consistency: \u7dad\u8b77 <code>ROADMAP.md</code>\u3001<code>README.md</code> \u8207\u7a0b\u5f0f\u78bc\u8a3b\u89e3\u7684\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"vers0.1.0/PHASE4_SKILLS/#post-010","title":"\u9032\u968e\u8003\u91cf (Post-0.1.0)","text":"<ul> <li>GitHub Actions: \u5efa\u7acb\u81ea\u52d5\u5316 CI/CD pipeline\u3002</li> <li>PyPI Deployment: \u898f\u5283\u81ea\u52d5\u5316\u767c\u5e03\u81f3 PyPI\u3002</li> </ul>"},{"location":"vers0.1.0/PROMPTS_COLLECTIONS/","title":"PROMPTS COLLECTION","text":"<p>[PROMPT-001]</p> <pre><code># Role: Arkhon-Rheo Lead Architect &amp; Implementer\n\n# Context\nWe are building \"Arkhon-Rheo\", a deterministic AI Agent system based on ReAct pattern, Event Sourcing, and Finite State Machines.\nThe complete implementation roadmap is located in the file: `../system/IMPLEMENTATION_GUIDE.md` (or the text provided above).\n\n# Your Goal\nAct as a Senior Python Engineer to guide me through the implementation Phase by Phase, adhering strictly to the TDD (Test-Driven Development) cycle described in the guide.\n\n# Constraints &amp; Tech Stack\n- Language: Python 3.12+ (Use PEP 695 type hints extensively).\n- Package Manager: `uv`.\n- Frameworks: `dataclasses` (frozen), `abc`, `sqlite3`.\n- Testing: `pytest`, `pytest-cov`, `ruff`, `ty`, `radon`. (using `ty` rather than `mypy`)\n- Coding Style: Strict typing, Immutable state objects, Hexagonal Architecture.\n\n# Workflow Protocol\nDo NOT generate the whole project at once. Follow this loop strictly:\n\n1. **Phase Initialization**: State which Phase (0-8) we are starting. Summarize the goal.\n2. **Step Execution (TDD Loop)**:\n   a. **RED**: Generate the file path and code for a *failing unit test* based on the spec. Ask me to save and run it.\n   b. **GREEN**: Once I confirm the failure, generate the *minimal implementation code* to make the test pass.\n   c. **REFACTOR**: Check if the code meets quality standards (docstrings, typing). If not, provide the refactored version.\n   d. **CHECKLIST**: Verify against the Phase Checklist in the guide.\n3. **Transition**: Only move to the next Step/Phase when I say \"Next\".\n\n# Interaction Style\n- Be concise. Don't repeat the theory unless asked.\n- Provide shell commands for file creation/execution when needed.\n- Monitor strict adherence to the \"Frozen/Immutable State\" requirement.\n\n# Starting Command\nPlease read the provided implementation guide logic.\nStart immediately with **Phase 0: Project Initialization**. \nTell me what terminal commands to run to set up the environment using `uv`.\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/","title":"Arkhon-Rheo + ReActEngine Development Roadmap","text":"<p>Version: 1.0.0 Status: Active Last Updated: 2026-02-15 Project Duration: 12 weeks</p>"},{"location":"vers0.1.0/ROADMAP/#overview","title":"Overview","text":"<p>This roadmap outlines the development path for Arkhon-Rheo from initial prototype to pip-installable framework. The project follows a 4-phase approach aligned with the technical specification:</p> <ol> <li>Phase 1: Foundation (PEP8 + Docstring Production Version) - 4 weeks</li> <li>Phase 2: Multi-Agent Architecture - 3 weeks</li> <li>Phase 3: Memory &amp; Storage Systems - 3 weeks</li> <li>Phase 4: Framework Packaging &amp; Release - 2 weeks</li> </ol> <p>Total Timeline: 12 weeks</p>"},{"location":"vers0.1.0/ROADMAP/#_1","title":"\u6642\u9593\u8ef8\u8207\u91cc\u7a0b\u7891\u7e3d\u89bd","text":"\u968e\u6bb5 \u6642\u9593\u7bc4\u570d \u91cc\u7a0b\u7891 \u6e2c\u8a66\u901a\u904e\u6a19\u6e96 (\u7d2f\u7a4d\u5236) PHASE 1 Foundation \u7b2c 1-4 \u9031 M1.1 \u6838\u5fc3\u72c0\u614b\u6a5f; M1.2 \u7bc0\u9ede\u5be6\u4f5c; M1.3 \u5de5\u5177\u6574\u5408; M1.4 YAML \u914d\u7f6e\u8207\u9a57\u8b49 \u2705 P1 \u6e2c\u8a66\u6a19\u6e96: Single-agent ReAct \u5faa\u74b0\u7aef\u5230\u7aef\u904b\u884c; 90%+ \u6e2c\u8a66\u8986\u84cb\u7387; mypy --strict \u96f6\u932f\u8aa4; \u6240\u6709\u6838\u5fc3\u6a21\u7d44\u901a\u904e\u55ae\u5143\u6e2c\u8a66 PHASE 2 Multi-Agent \u7b2c 5-7 \u9031 M2.1 \u4ee3\u7406\u901a\u8a0a; M2.2 \u4ee3\u7406\u7de8\u6392; M2.3 \u5b50\u5716\u652f\u63f4 \u2705 P1 + P2 \u6e2c\u8a66\u6a19\u6e96: \u7e7c\u627f P1 \u6240\u6709\u6e2c\u8a66; 3+ \u4ee3\u7406\u5354\u4f5c\u6210\u529f; \u5b50\u5716\u5d4c\u5957\u6df1\u5ea6\u9054 3 \u5c64; \u8a0a\u606f\u50b3\u905e\u8207\u8cc7\u6e90\u9396\u5b9a\u6b63\u5e38 PHASE 3 Memory Systems \u7b2c 8-10 \u9031 M3.1 \u77ed\u671f\u8a18\u61b6; M3.2 \u5411\u91cf\u5b58\u5132; M3.3 \u6aa2\u67e5\u9ede\u8207\u56de\u6efe \u2705 P1 + P2 + P3 \u6e2c\u8a66\u6a19\u6e96: \u7e7c\u627f P1\u3001P2 \u6240\u6709\u6e2c\u8a66; \u5411\u91cf\u5b58\u5132\u8655\u7406 10k+ embeddings; \u6aa2\u67e5\u9ede/\u56de\u6efe\u5728\u6545\u969c\u5834\u666f\u4e0b\u6e2c\u8a66; \u8a18\u61b6\u7cfb\u7d71\u6574\u5408\u6e2c\u8a66\u901a\u904e PHASE 4 Framework Release \u7b2c 11-12 \u9031 M4.1 \u6253\u5305\u8207\u5206\u767c; M4.2 \u6587\u4ef6\u8207\u7bc4\u4f8b \u2705 P1 + P2 + P3 + P4 \u6e2c\u8a66\u6a19\u6e96: \u7e7c\u627f P1\u3001P2\u3001P3 \u6240\u6709\u6e2c\u8a66; pip install \u5728 Linux/macOS/Windows \u6b63\u5e38; 5+ \u7bc4\u4f8b\u5c08\u6848\u53ef\u904b\u884c; \u6587\u4ef6\u5b8c\u6574\u4e26\u6210\u529f\u69cb\u5efa; CLI \u547d\u4ee4\u529f\u80fd\u6b63\u5e38"},{"location":"vers0.1.0/ROADMAP/#_2","title":"\u5404\u968e\u6bb5\u8a73\u7d30\u6e2c\u8a66\u6a19\u6e96","text":""},{"location":"vers0.1.0/ROADMAP/#phase-1","title":"PHASE 1 \u6e2c\u8a66\u6a19\u6e96 (\u57fa\u790e)","text":"<pre><code>test_requirements:\n  coverage: \"\u226590%\"\n  type_checking: \"mypy --strict passes\"\n  integration:\n    - \"Single ReAct loop: Thought \u2192 Action \u2192 Observation \u2192 Commit\"\n    - \"All 6 node types functional\"\n    - \"Tool registry discovery works\"\n    - \"Config validation from YAML\"\n\nexit_criteria:\n  - \"pytest tests/core/ --cov=src/arkhon_rheo/core --cov-report=term-missing\"\n  - \"mypy src/arkhon_rheo --strict\"\n  - \"All builtin tools have valid JSON Schema\"\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/#phase-2-p1-p2","title":"PHASE 2 \u6e2c\u8a66\u6a19\u6e96 (\u7d2f\u7a4d P1 + P2)","text":"<pre><code>inherited_from_p1:\n  - \"\u6240\u6709 PHASE 1 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n\nadditional_requirements:\n  multi_agent:\n    - \"2+ agents can exchange messages\"\n    - \"Request-response correlation works\"\n    - \"Resource locks prevent concurrent modification\"\n  orchestration:\n    - \"Coordinator routes tasks to 3 specialists\"\n    - \"Parallel execution when tasks are independent\"\n    - \"Results aggregated correctly\"\n  subgraph:\n    - \"Subgraphs nest 3 levels deep\"\n    - \"Context propagation parent \u2192 child\"\n    - \"Errors in subgraph propagate to parent\"\n\nexit_criteria:\n  - \"All PHASE 1 tests pass\"\n  - \"pytest tests/agents/ tests/core/agent.py\"\n  - \"E2E test: User request \u2192 3 specialists \u2192 final result\"\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/#phase-3-p1-p2-p3","title":"PHASE 3 \u6e2c\u8a66\u6a19\u6e96 (\u7d2f\u7a4d P1 + P2 + P3)","text":"<pre><code>inherited_from_p1_p2:\n  - \"\u6240\u6709 PHASE 1 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n  - \"\u6240\u6709 PHASE 2 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n\nadditional_requirements:\n  memory:\n    - \"Context stays under token limit (sliding window)\"\n    - \"Summarization preserves key facts\"\n    - \"Vector store handles 10k+ vectors\"\n    - \"Query latency &lt;500ms (p95)\"\n  checkpoint:\n    - \"Can rollback to any previous step\"\n    - \"State consistency verified after rollback\"\n    - \"Checkpoint overhead &lt;5% execution time\"\n    - \"E2E: Execute \u2192 interrupt \u2192 rollback \u2192 resume\"\n\nexit_criteria:\n  - \"All PHASE 1 + PHASE 2 tests pass\"\n  - \"pytest tests/memory/ tests/runtime/checkpoint.py\"\n  - \"Integration test with mock vector DB\"\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/#phase-4-p1-p2-p3-p4","title":"PHASE 4 \u6e2c\u8a66\u6a19\u6e96 (\u7d2f\u7a4d P1 + P2 + P3 + P4)","text":"<pre><code>inherited_from_p1_p2_p3:\n  - \"\u6240\u6709 PHASE 1 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n  - \"\u6240\u6709 PHASE 2 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n  - \"\u6240\u6709 PHASE 3 \u6e2c\u8a66\u5fc5\u9808\u901a\u904e\"\n\nadditional_requirements:\n  packaging:\n    - \"pip install arkhon-rheo works on Linux/macOS/Windows\"\n    - \"CLI commands functional (init, run, migrate)\"\n    - \"Migration tool tested on real LangGraph project\"\n  documentation:\n    - \"All examples run without errors\"\n    - \"Documentation builds successfully\"\n    - \"README has quickstart guide\"\n    - \"Published to readthedocs.io\"\n\nexit_criteria:\n  - \"All PHASE 1 + PHASE 2 + PHASE 3 tests pass\"\n  - \"pytest tests/ --cov=src/arkhon_rheo --cov-report=html\"\n  - \"pip install arkhon-rheo &amp;&amp; arkhon-rheo --version\"\n  - \"sphinx-build docs/ docs/_build/\"\n  - \"All 5+ examples execute successfully\"\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/#milestone-1-foundation-phase-1-weeks-1-4","title":"Milestone 1: Foundation (Phase 1) - Weeks 1-4","text":""},{"location":"vers0.1.0/ROADMAP/#goal","title":"Goal","text":"<p>Build a production-ready single-agent ReAct engine with:</p> <ul> <li>Event-sourced state management</li> <li>YAML-driven configuration</li> <li>Pluggable tool system</li> <li>Rule engine for governance</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#phase-1-skills","title":"Phase 1 \u8207 Skills \u6574\u5408","text":"<p>\u8a73\u7d30\u7684 Sprint Skills \u63a8\u85a6\u8acb\u53c3\u8003 PHASE1_SKILLS.md\u3002</p> <p>\u5fc5\u9700 Skills (\u6839\u64da workflows_ai-agentic-system-builder.md):</p> <ul> <li><code>ai-agents-architect</code> - \u4ee3\u7406\u67b6\u69cb\u8a2d\u8a08</li> <li><code>python-pro</code> - Python \u5be6\u4f5c</li> <li><code>agent-tool-builder</code> - \u5de5\u5177\u8a2d\u8a08</li> <li><code>context-manager</code> - \u4e0a\u4e0b\u6587\u7ba1\u7406</li> <li><code>tdd-workflow</code> - \u6e2c\u8a66\u9a45\u52d5\u958b\u767c</li> </ul> <p>Context \u7ba1\u7406 Skills (\u8cab\u7a7f\u6574\u500b Phase 1):</p> <ul> <li><code>context-fundamentals</code> (Week 1)</li> <li><code>context-window-management</code> (Week 2)</li> <li><code>context-manager</code> (Week 3)</li> <li><code>context-management-context-restore</code> (Week 4)</li> </ul> <p>\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u8003 PHASE1_INDEX.md\u3002</p>"},{"location":"vers0.1.0/ROADMAP/#sprint-11-core-state-machine-week-1","title":"Sprint 1.1: Core State Machine (Week 1)","text":"<p>Deliverables</p> <ul> <li>[ ] <code>src/arkhon-rheo/core/state.py</code></li> <li><code>ReActState</code> dataclass with frozen=True</li> <li><code>ReasoningStep</code> immutable event log</li> <li> <p>State validation logic</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/core/step.py</code></p> </li> <li>Step factory methods</li> <li>Step serialization/deserialization</li> <li> <p>Step status transitions</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/core/graph.py</code></p> </li> <li><code>StateGraph</code> class</li> <li><code>add_node()</code> / <code>add_edge()</code> methods</li> <li> <p>Execution loop with termination conditions</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/core/context.py</code></p> </li> <li><code>ContextManager</code> for thread-local state</li> <li>Trace ID generation</li> <li>Metadata management</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 All tests pass (<code>pytest tests/core/</code>)</li> <li>\u2705 90%+ code coverage\uff08\u7d71\u4e00\u6a19\u6e96\uff09</li> <li>\u2705 mypy --strict passes</li> <li>\u2705 Can execute simple thought \u2192 action \u2192 observation loop</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-12-node-implementations-week-2","title":"Sprint 1.2: Node Implementations (Week 2)","text":"<p>Deliverables</p> <ul> <li>[ ] <code>src/arkhon-rheo/nodes/base.py</code></li> <li><code>BaseNode</code> abstract class</li> <li><code>run()</code> method signature</li> <li> <p>Node lifecycle hooks (before_run/after_run)</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/nodes/thought_node.py</code></p> </li> <li>LLM integration for thought generation</li> <li>Prompt template management</li> <li> <p>Token usage tracking</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/nodes/action_node.py</code></p> </li> <li>Tool selection logic</li> <li>Tool execution wrapper</li> <li> <p>Error handling &amp; retries</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/nodes/observation_node.py</code></p> </li> <li>Result formatting</li> <li>Observation truncation</li> <li> <p>Status updates</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/nodes/validate_node.py</code></p> </li> <li>Rule engine integration</li> <li>Validation error reporting</li> <li> <p>Automatic retry on validation failure</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/nodes/commit_node.py</code></p> </li> <li>State persistence</li> <li>Transition to next cycle</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 All 6 node types implement <code>BaseNode</code></li> <li>\u2705 Integration test: Thought \u2192 Validate \u2192 Action \u2192 Observation \u2192 Commit cycle</li> <li>\u2705 Error scenarios handled gracefully</li> <li>\u2705 Structured logging at each node</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-13-tool-integration-week-3","title":"Sprint 1.3: Tool Integration (Week 3)","text":""},{"location":"vers0.1.0/ROADMAP/#deliverables","title":"Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/tools/base.py</code></li> <li><code>Tool</code> base class</li> <li><code>ToolResult</code> dataclass</li> <li> <p>JSON Schema generation from type hints</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/tools/registry.py</code></p> </li> <li><code>ToolRegistry</code> singleton</li> <li>Dynamic tool discovery</li> <li> <p>Tool versioning</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/tools/builtin/search.py</code></p> </li> <li>Web search tool (using Tavily/SerpAPI)</li> <li>Rate limiting</li> <li> <p>Result caching</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/tools/builtin/calculator.py</code></p> </li> <li>Safe math evaluation</li> <li>Expression parsing</li> <li> <p>Unit conversion</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/tools/builtin/file_ops.py</code></p> </li> <li>Read/write/edit operations</li> <li>Path sandboxing</li> <li>Diff generation</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 ToolRegistry can discover all builtin tools</li> <li>\u2705 Each tool has valid JSON Schema</li> <li>\u2705 Integration test: Agent uses search \u2192 calculator \u2192 file_ops in sequence</li> <li>\u2705 Tool documentation auto-generated</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-14-yaml-configuration-validation-week-4","title":"Sprint 1.4: YAML Configuration &amp; Validation (Week 4)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-14-deliverables","title":"Sprint 1.4 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/config/schema.py</code></li> <li>Pydantic models for config validation</li> <li><code>EngineConfig</code>, <code>LLMConfig</code>, <code>ToolConfig</code>, <code>RuleConfig</code></li> <li> <p>Environment variable expansion</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/config/loader.py</code></p> </li> <li>YAML file loading</li> <li>Config merging (default \u2192 user \u2192 env overrides)</li> <li> <p>Secrets management (env vars only)</p> </li> <li> <p>[ ] <code>config/templates/default.yaml</code></p> </li> <li>Reference configuration</li> <li>Inline documentation</li> <li> <p>Sensible defaults</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/rules/base.py</code></p> </li> <li><code>Rule</code> abstract class</li> <li>Rule evaluation protocol</li> <li> <p>Violation reporting</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/rules/rule_engine.py</code></p> </li> <li><code>RuleEngine</code> class</li> <li>Rule registration</li> <li> <p>Sequential rule execution</p> </li> <li> <p>[ ] \u5167\u5efa\u898f\u5247:</p> </li> <li><code>MaxDepthRule</code> - Prevent infinite loops</li> <li><code>ForbidGuessingRule</code> - Require confidence thresholds</li> <li><code>CostLimitRule</code> - Cap LLM token spend</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Config loaded from YAML validates against Pydantic schema</li> <li>\u2705 Invalid configs raise clear error messages</li> <li>\u2705 Secrets never logged or committed</li> <li>\u2705 All builtin rules tested with fixtures</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#milestone-2-multi-agent-architecture-phase-2-weeks-5-7","title":"Milestone 2: Multi-Agent Architecture (Phase 2) - Weeks 5-7","text":""},{"location":"vers0.1.0/ROADMAP/#milestone-2-goal","title":"Milestone 2 Goal","text":"<p>Enable multiple agents to collaborate through message passing and shared state.</p>"},{"location":"vers0.1.0/ROADMAP/#sprint-21-agent-communication-week-5","title":"Sprint 2.1: Agent Communication (Week 5)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-21-deliverables","title":"Sprint 2.1 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/core/agent.py</code></li> <li><code>Agent</code> class with ID and role</li> <li><code>send_message()</code> / <code>receive_message()</code> methods</li> <li> <p>Message queue per agent</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/core/message.py</code></p> </li> <li><code>AgentMessage</code> dataclass</li> <li>Message types: request/response/notification</li> <li> <p>Correlation ID for request-response tracking</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/core/shared_state.py</code></p> </li> <li><code>SharedAgentState</code> with thread-safe access</li> <li>Resource locking mechanism</li> <li>Conflict resolution policies</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Two agents can exchange messages</li> <li>\u2705 Request-response correlation works</li> <li>\u2705 Resource locks prevent concurrent modification</li> <li>\u2705 Message delivery guaranteed (persistent queue)</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-22-agent-orchestration-week-6","title":"Sprint 2.2: Agent Orchestration (Week 6)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-22-deliverables","title":"Sprint 2.2 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/agents/coordinator.py</code></li> <li>Task decomposition</li> <li>Agent selection based on capability</li> <li> <p>Result aggregation</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/agents/specialist.py</code></p> </li> <li>Planning specialist</li> <li>Coding specialist</li> <li> <p>Review specialist</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/runtime/scheduler.py</code></p> </li> <li>Agent task scheduling</li> <li>Dependency resolution</li> <li>Parallel execution where possible</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Coordinator can route tasks to specialists</li> <li>\u2705 Specialists execute in parallel when independent</li> <li>\u2705 Results aggregated correctly</li> <li>\u2705 E2E test: User request \u2192 3 specialists \u2192 final result</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-23-subgraph-support-week-7","title":"Sprint 2.3: Subgraph Support (Week 7)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-23-deliverables","title":"Sprint 2.3 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/core/subgraph.py</code></li> <li><code>SubGraph</code> class</li> <li><code>as_node()</code> conversion method</li> <li> <p>Context propagation from parent to child</p> </li> <li> <p>[ ] Nested execution:</p> </li> <li>Parent graph pauses at subgraph node</li> <li>Subgraph executes to completion</li> <li> <p>Result returned to parent</p> </li> <li> <p>[ ] Examples:</p> </li> <li>Authentication subgraph (validate \u2192 generate_token)</li> <li>Data processing subgraph (fetch \u2192 transform \u2192 validate)</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Subgraphs can nest 3 levels deep</li> <li>\u2705 Parent context accessible in subgraph</li> <li>\u2705 Errors in subgraph propagate to parent</li> <li>\u2705 Visualization tool shows nested structure</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#milestone-3-memory-systems-phase-3-weeks-8-10","title":"Milestone 3: Memory Systems (Phase 3) - Weeks 8-10","text":""},{"location":"vers0.1.0/ROADMAP/#milestone-3-goal","title":"Milestone 3 Goal","text":"<p>Implement short-term and long-term memory with checkpointing.</p>"},{"location":"vers0.1.0/ROADMAP/#sprint-31-short-term-memory-week-8","title":"Sprint 3.1: Short-term Memory (Week 8)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-31-deliverables","title":"Sprint 3.1 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/memory/context_window.py</code></li> <li>Sliding window implementation</li> <li>Token counting (tiktoken)</li> <li> <p>Automatic eviction of oldest messages</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/memory/summarization.py</code></p> </li> <li>Periodic context compression</li> <li>LLM-based summarization</li> <li>Preservation of critical information</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Context stays under token limit</li> <li>\u2705 Summarization preserves key facts</li> <li>\u2705 Performance: &lt;100ms for context management</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-32-vector-store-integration-week-9","title":"Sprint 3.2: Vector Store Integration (Week 9)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-32-deliverables","title":"Sprint 3.2 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/memory/vector_store.py</code></li> <li><code>VectorStore</code> abstract class</li> <li><code>PineconeStore</code>, <code>WeaviateStore</code> implementations</li> <li> <p>Upsert / query / delete operations</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/memory/embeddings.py</code></p> </li> <li>OpenAI embeddings client</li> <li>Batching for efficiency  </li> <li> <p>Caching of frequent queries</p> </li> <li> <p>[ ] Retrieval strategies:</p> </li> <li>Semantic search</li> <li>Hybrid (keyword + semantic)</li> <li>Time-weighted (recent = higher weight)</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Can store/retrieve 10k+ vectors</li> <li>\u2705 Query latency &lt;500ms (p95)</li> <li>\u2705 Integration test with mock vector DB</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-33-checkpointing-rollback-week-10","title":"Sprint 3.3: Checkpointing &amp; Rollback (Week 10)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-33-deliverables","title":"Sprint 3.3 Deliverables","text":"<ul> <li>[ ] <code>src/arkhon-rheo/runtime/checkpoint.py</code></li> <li><code>CheckpointManager</code> with SQLite backend</li> <li>Incremental saves (every N steps)</li> <li> <p>Automatic cleanup of old checkpoints</p> </li> <li> <p>[ ] <code>src/arkhon-rheo/runtime/rollback.py</code></p> </li> <li>Temporal rollback to step N</li> <li>State reconstruction from checkpoint</li> <li> <p>Validation of rolled-back state</p> </li> <li> <p>[ ] Human approval gates:</p> </li> <li>Interrupt execution at critical points</li> <li>Present state to user for review</li> <li>Resume or rollback based on feedback</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 Can rollback to any previous step</li> <li>\u2705 State consistency verified after rollback</li> <li>\u2705 Checkpoint overhead &lt;5% execution time</li> <li>\u2705 E2E test: Execute \u2192 interrupt \u2192 rollback \u2192 resume</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#milestone-4-framework-release-phase-4-weeks-11-12","title":"Milestone 4: Framework Release (Phase 4) - Weeks 11-12","text":""},{"location":"vers0.1.0/ROADMAP/#milestone-4-goal","title":"Milestone 4 Goal","text":"<p>Package as pip-installable library with documentation and examples.</p>"},{"location":"vers0.1.0/ROADMAP/#sprint-41-packaging-distribution-week-11","title":"Sprint 4.1: Packaging &amp; Distribution (Week 11)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-41-deliverables","title":"Sprint 4.1 Deliverables","text":"<ul> <li>[ ] <code>pyproject.toml</code></li> <li>Package metadata</li> <li>Dependencies</li> <li> <p>Entry points</p> </li> <li> <p>[ ] <code>src/arkhon_rheo/cli/main.py</code></p> </li> <li>CLI interface (<code>arkhon-rheo init</code>, <code>arkhon-rheo run</code>)</li> <li>Project scaffolding</li> <li> <p>Config validation command</p> </li> <li> <p>[ ] <code>src/arkhon_rheo/cli/migrate.py</code></p> </li> <li>LangGraph \u2192 Arkhon-Rheo migration tool</li> <li>AST transformation</li> <li> <p>Diff preview</p> </li> <li> <p>[ ] Distribution:</p> </li> <li>Build wheel and sdist</li> <li>Upload to TestPyPI</li> <li>Verify install: <code>pip install arkhon-rheo</code></li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 <code>pip install arkhon-rheo</code> works</li> <li>\u2705 CLI commands functional</li> <li>\u2705 Migration tool tested on real LangGraph project</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#sprint-42-documentation-examples-week-12","title":"Sprint 4.2: Documentation &amp; Examples (Week 12)","text":""},{"location":"vers0.1.0/ROADMAP/#sprint-42-deliverables","title":"Sprint 4.2 Deliverables","text":"<ul> <li>[ ] <code>docs/</code> (Sphinx/MkDocs)</li> <li>Getting Started guide</li> <li>API reference (autodoc)</li> <li>Architecture diagrams</li> <li> <p>Configuration reference</p> </li> <li> <p>[ ] <code>examples/</code></p> </li> <li><code>examples/simple_agent/</code> - Basic ReAct loop</li> <li><code>examples/multi_agent/</code> - Coordinator + specialists</li> <li><code>examples/memory_agent/</code> - With vector store</li> <li> <p><code>examples/langgraph_migration/</code> - Before/after comparison</p> </li> <li> <p>[ ] Tutorial Notebooks:</p> </li> <li>Building your first agent</li> <li>Multi-agent workflows</li> <li>Custom tools development</li> <li>Debugging with checkpoints</li> </ul> <p>Exit Criteria:</p> <ul> <li>\u2705 All examples run without errors</li> <li>\u2705 Documentation builds successfully</li> <li>\u2705 README has quickstart guide</li> <li>\u2705 Published to readthedocs.io or equivalent</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#timeline-gantt-chart","title":"Timeline Gantt Chart","text":"<pre><code>gantt\n    title Arkhon-Rheo Development Timeline\n    dateFormat YYYY-MM-DD\n    section Phase 1\n    Sprint 1.1 State Machine    :s11, 2026-02-17, 1w\n    Sprint 1.2 Nodes            :s12, after s11, 1w\n    Sprint 1.3 Tools            :s13, after s12, 1w\n    Sprint 1.4 Config &amp; Rules   :s14, after s13, 1w\n\n    section Phase 2\n    Sprint 2.1 Communication    :s21, after s14, 1w\n    Sprint 2.2 Orchestration    :s22, after s21, 1w\n    Sprint 2.3 Subgraphs        :s23, after s22, 1w\n\n    section Phase 3\n    Sprint 3.1 Short-term Mem   :s31, after s23, 1w\n    Sprint 3.2 Vector Store     :s32, after s31, 1w\n    Sprint 3.3 Checkpointing    :s33, after s32, 1w\n\n    section Phase 4\n    Sprint 4.1 Packaging        :s41, after s33, 1w\n    Sprint 4.2 Documentation    :s42, after s41, 1w\n</code></pre>"},{"location":"vers0.1.0/ROADMAP/#risk-management","title":"Risk Management","text":"Risk Probability Impact Mitigation LLM API rate limits High Medium Implement exp backoff, local caching Vector DB costs Medium Medium Use SQLite+pgvector for dev, Pinecone for prod Scope creep High High Strict adherence to 4-phase roadmap Breaking changes in deps Low High Pin versions, use dependabot"},{"location":"vers0.1.0/ROADMAP/#success-metrics","title":"Success Metrics","text":""},{"location":"vers0.1.0/ROADMAP/#phase-1_1","title":"Phase 1","text":"<ul> <li>[ ] Single-agent ReAct loop runs end-to-end</li> <li>[ ] 90%+ test coverage</li> <li>[ ] Zero mypy errors</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#phase-2","title":"Phase 2","text":"<ul> <li>[ ] 3+ agents collaborate successfully</li> <li>[ ] Subgraph nesting works to depth 3</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#phase-3","title":"Phase 3","text":"<ul> <li>[ ] Vector store handles 10k+ embeddings</li> <li>[ ] Checkpoint/rollback tested under failure scenarios</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#phase-4","title":"Phase 4","text":"<ul> <li>[ ] pip install works on Linux/macOS/Windows</li> <li>[ ] 5+ example projects</li> <li>[ ] Documentation complete</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#post-release-roadmap-optional","title":"Post-Release Roadmap (Optional)","text":""},{"location":"vers0.1.0/ROADMAP/#version-020-weeks-13-16","title":"Version 0.2.0 (Weeks 13-16)","text":"<ul> <li>[ ] Async execution (asyncio-based graph runner)</li> <li>[ ] Streaming output</li> <li>[ ] Web UI for debugging  </li> <li>[ ] Prometheus metrics</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#version-030-weeks-17-20","title":"Version 0.3.0 (Weeks 17-20)","text":"<ul> <li>[ ] Distributed execution (Celery/Ray backend)</li> <li>[ ] Multi-modal tools (image/audio processing)</li> <li>[ ] Fine-tuning integration</li> <li>[ ] Enterprise features (RBAC, audit logs)</li> </ul>"},{"location":"vers0.1.0/ROADMAP/#end-of-roadmap","title":"End of Roadmap","text":""},{"location":"vers0.1.0/RULES/","title":"Arkhon-Rheo + ReActEngine Governance Rules","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/RULES/#1-rule-engine-architecture","title":"1. Rule Engine Architecture","text":""},{"location":"vers0.1.0/RULES/#11-purpose","title":"1.1 Purpose","text":"<p>The Rule Engine enforces governance constraints on agent reasoning steps to ensure:</p> <ul> <li>Safety: No dangerous actions executed</li> <li>Quality: High-confidence reasoning only</li> <li>Efficiency: Cost and depth limits respected</li> <li>Compliance: Policy adherence</li> </ul>"},{"location":"vers0.1.0/RULES/#12-rule-execution-flow","title":"1.2 Rule Execution Flow","text":"<pre><code>graph LR\n    ThoughtNode --&gt; ValidateNode\n    ValidateNode --&gt; RuleEngine\n    RuleEngine --&gt; Rule1[Max Depth Rule]\n    RuleEngine --&gt; Rule2[Forbid Guessing Rule]\n    RuleEngine --&gt; Rule3[Cost Limit Rule]\n\n    Rule1 --&gt; Decision{All pass?}\n    Rule2 --&gt; Decision\n    Rule3 --&gt; Decision\n\n    Decision --&gt;|Yes| ActionNode\n    Decision --&gt;|No| ErrorHandler\n    ErrorHandler --&gt; Retry[Retry] &amp; Terminate[Terminate]\n</code></pre>"},{"location":"vers0.1.0/RULES/#2-built-in-rules","title":"2. Built-in Rules","text":""},{"location":"vers0.1.0/RULES/#21-maxdepthrule","title":"2.1 MaxDepthRule","text":"<p>Purpose: Prevent infinite reasoning loops</p> <pre><code>class MaxDepthRule(Rule):\n    \\\"\\\"\\\"Terminate execution if step count exceeds threshold.\\\"\\\"\\\"\n\n    name = \\\"max_depth\\\"\n\n    def __init__(self, max_depth: int = 20):\n        self.max_depth = max_depth\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        return len(state.steps) &lt;= self.max_depth\n\n    @property\n    def violation_message(self) -&gt; str:\n        return f\\\"Exceeded maximum depth of {self.max_depth} steps\\\"\n\n    @property\n    def is_terminal(self) -&gt; bool:\n        return True  # Terminates execution\n</code></pre> <p>Configuration:</p> <pre><code>rules:\n  - type: max_depth\n    value: 20\n    enabled: true\n</code></pre>"},{"location":"vers0.1.0/RULES/#22-forbidguessingrule","title":"2.2 ForbidGuessingRule","text":"<p>Purpose: Require high-confidence reasoning</p> <pre><code>class ForbidGuessingRule(Rule):\n    \\\"\\\"\\\"Flag thoughts containing uncertainty markers.\\\"\\\"\\\"\n\n    name = \\\"forbid_guessing\\\"\n\n    UNCERTAINTY_PHRASES = [\n        \\\"I guess\\\",\n        \\\"probably\\\",\n        \\\"I'm not sure\\\",\n        \\\"might be\\\",\n        \\\"could be\\\"\n    ]\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        thought = step.thought.lower()\n\n        return not any(\n            phrase in thought for phrase in self.UNCERTAINTY_PHRASES\n        )\n\n    @property\n    def violation_message(self) -&gt; str:\n        return \\\"Thought contains uncertainty markers (guessing)\\\"\n\n    @property\n    def is_terminal(self) -&gt; bool:\n        return False  # Retry allowed\n</code></pre> <p>Configuration:</p> <pre><code>rules:\n  - type: forbid_guessing\n    enabled: true\n    custom_phrases:\n      - \\\"maybe\\\"\n      - \\\"perhaps\\\"\n</code></pre>"},{"location":"vers0.1.0/RULES/#23-costlimitrule","title":"2.3 CostLimitRule","text":"<p>Purpose: Cap LLM token spend per execution</p> <pre><code>class CostLimitRule(Rule):\n    \\\"\\\"\\\"Terminate if cumulative token cost exceeds budget.\\\"\\\"\\\"\n\n    name = \\\"cost_limit\\\"\n\n    def __init__(self, max_cost_usd: float = 0.50):\n        self.max_cost_usd = max_cost_usd\n\n   def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        total_cost = state.metadata.get(\\\"total_cost\\\", 0.0)\n        return total_cost &lt;= self.max_cost_usd\n\n    @property\n    def violation_message(self) -&gt; str:\n        return f\\\"Exceeded cost limit of ${self.max_cost_usd}\\\"\n\n    @property\n    def is_terminal(self) -&gt; bool:\n        return True\n</code></pre> <p>Configuration:</p> <pre><code>rules:\n  - type: cost_limit\n    value: 0.50  # $0.50 USD\n    enabled: true\n</code></pre>"},{"location":"vers0.1.0/RULES/#24-requiretooluserule","title":"2.4 RequireToolUseRule","text":"<p>Purpose: Ensure actions reference valid tools</p> <pre><code>class RequireToolUseRule(Rule):\n    \\\"\\\"\\\"Validate that action corresponds to a registered tool.\\\"\\\"\\\"\n\n    name = \\\"require_tool_use\\\"\n\n    def __init__(self, tool_registry: ToolRegistry):\n        self.tool_registry = tool_registry\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        if step.action is None:\n            return True  # No action yet\n\n        return self.tool_registry.has(step.action)\n\n    @property\n    def violation_message(self) -&gt; str:\n        return \\\"Action does not reference a valid tool\\\"\n\n    @property\n    def is_terminal(self) -&gt; bool:\n        return False  # Retry allowed\n</code></pre>"},{"location":"vers0.1.0/RULES/#3-rule-engine-implementation","title":"3. Rule Engine Implementation","text":""},{"location":"vers0.1.0/RULES/#31-ruleengine-class","title":"3.1 RuleEngine Class","text":"<pre><code>class RuleEngine:\n    \\\"\\\"\\\"Executes all registered rules against reasoning steps.\\\"\\\"\\\"\n\n    def __init__(self):\n        self.rules: list[Rule] = []\n\n    def add_rule(self, rule: Rule) -&gt; None:\n        \\\"\\\"\\\"Register a validation rule.\\\"\\\"\\\"\n        self.rules.append(rule)\n        logger.info(\\\"rule_added\\\", rule_name=rule.name)\n\n    def validate(self, step: ReasoningStep, state: ReActState) -&gt; None:\n        \\\"\\\"\\\"Run all rules. Raises RuleViolationError if any fail.\\\"\\\"\\\"\n        violations = []\n\n        for rule in self.rules:\n            if not rule.check(step, state):\n                violations.append((rule, rule.violation_message))\n\n                # Terminal violations \u2192 immediate termination\n                if rule.is_terminal:\n                    raise TerminalRuleViolation(\n                        rule_name=rule.name,\n                        message=rule.violation_message\n                    )\n\n        # Non-terminal violations \u2192 retry\n        if violations:\n            raise RetryableRuleViolation(\n                violations=[{\\\"rule\\\": r.name, \\\"msg\\\": msg} for r, msg in violations]\n            )\n</code></pre>"},{"location":"vers0.1.0/RULES/#32-exception-hierarchy","title":"3.2 Exception Hierarchy","text":"<pre><code>class RuleViolationError(Exception):\n    \\\"\\\"\\\"Base exception for rule violations.\\\"\\\"\\\"\n\nclass TerminalRuleViolation(RuleViolationError):\n    \\\"\\\"\\\"Violation that terminates execution.\\\"\\\"\\\"\n    def __init__(self, rule_name: str, message: str):\n        self.rule_name = rule_name\n        super().__init__(f\\\"{rule_name}: {message}\\\")\n\nclass RetryableRuleViolation(RuleViolationError):\n    \\\"\\\"\\\"Violation that allows retry.\\\"\\\"\\\"\n    def __init__(self, violations: list[dict]):\n        self.violations = violations\n        super().__init__(f\\\"Rule violations: {violations}\\\")\n</code></pre>"},{"location":"vers0.1.0/RULES/#4-custom-rules","title":"4. Custom Rules","text":""},{"location":"vers0.1.0/RULES/#41-creating-a-custom-rule","title":"4.1 Creating a Custom Rule","text":"<pre><code>from arkhon_rheo.rules.base import Rule\n\nclass NoHallucinationRule(Rule):\n    \\\"\\\"\\\"Custom rule to detect hallucination markers.\\\"\\\"\\\"\n\n    name = \\\"no_hallucination\\\"\n\n    def __init__(self, blacklist: list[str]):\n        self.blacklist = blacklist\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        thought = step.thought.lower()\n        return not any(word in thought for word in self.blacklist)\n\n    @property\n    def violation_message(self) -&gt; str:\n        return \\\"Thought contains hallucination markers\\\"\n\n    @property\n    def is_terminal(self) -&gt; bool:\n        return False  # Allow retry\n</code></pre> <p>Registration:</p> <pre><code>rule_engine = RuleEngine()\nrule_engine.add_rule(NoHallucinationRule(blacklist=[\n    \\\"I hallucinated\\\",\n    \\\"I made that up\\\"\n]))\n</code></pre>"},{"location":"vers0.1.0/RULES/#5-rule-configuration-via-yaml","title":"5. Rule Configuration via YAML","text":""},{"location":"vers0.1.0/RULES/#51-yaml-schema","title":"5.1 YAML Schema","text":"<pre><code>rules:\n  - type: max_depth\n    value: 20\n    enabled: true\n\n  - type: forbid_guessing\n    enabled: true\n    config:\n      custom_phrases:\n        - \\\"I think\\\"\n        - \\\"maybe\\\"\n\n  - type: cost_limit\n    value: 0.50\n    enabled: true\n\n  - type: custom\n    class: my_rules.NoHallucinationRule\n    enabled: true\n    config:\n      blacklist:\n        - \\\"hallucinated\\\"\n        - \\\"made up\\\"\n</code></pre>"},{"location":"vers0.1.0/RULES/#52-loading-rules-from-config","title":"5.2 Loading Rules from Config","text":"<pre><code>def load_rules_from_config(config: dict) -&gt; RuleEngine:\n    \\\"\\\"\\\"Load rules from YAML configuration.\\\"\\\"\\\"\n    engine = RuleEngine()\n\n    for rule_config in config.get(\\\"rules\\\", []):\n        if not rule_config.get(\\\"enabled\\\", True):\n            continue\n\n        rule_type = rule_config[\\\"type\\\"]\n\n        if rule_type == \\\"max_depth\\\":\n            rule = MaxDepthRule(max_depth=rule_config[\\\"value\\\"])\n        elif rule_type == \\\"forbid_guessing\\\":\n            rule = ForbidGuessingRule()\n        elif rule_type == \\\"cost_limit\\\":\n            rule = CostLimitRule(max_cost_usd=rule_config[\\\"value\\\"])\n        elif rule_type == \\\"custom\\\":\n            # Load custom rule class\n            module_name, class_name = rule_config[\\\"class\\\"].rsplit(\\\".\\\", 1)\n            module = importlib.import_module(module_name)\n            rule_class = getattr(module, class_name)\n            rule = rule_class(**rule_config.get(\\\"config\\\", {}))\n        else:\n            raise ValueError(f\\\"Unknown rule type: {rule_type}\\\")\n\n        engine.add_rule(rule)\n\n    return engine\n</code></pre>"},{"location":"vers0.1.0/RULES/#6-rule-testing","title":"6. Rule Testing","text":""},{"location":"vers0.1.0/RULES/#61-unit-test-example","title":"6.1 Unit Test Example","text":"<pre><code># tests/unit/rules/test_max_depth_rule.py\ndef test_max_depth_rule_passes_under_limit():\n    rule = MaxDepthRule(max_depth=10)\n\n    state = ReActState(\n        steps=[ReasoningStep(...) for _ in range(5)]\n    )\n    step = ReasoningStep(...)\n\n    # Should not raise\n    rule.check(step, state)\n\ndef test_max_depth_rule_fails_over_limit():\n    rule = MaxDepthRule(max_depth=10)\n\n    state = ReActState(\n        steps=[ReasoningStep(...) for _ in range(11)]\n    )\n    step = ReasoningStep(...)\n\n    # Should fail\n    assert rule.check(step, state) is False\n</code></pre>"},{"location":"vers0.1.0/RULES/#62-integration-test","title":"6.2 Integration Test","text":"<pre><code>def test_rule_engine_blocks_execution_on_violation():\n    engine = RuleEngine()\n    engine.add_rule(MaxDepthRule(max_depth=3))\n\n    state = ReActState(\n        steps=[ReasoningStep(...) for _ in range(5)]  # Over limit\n    )\n    step = ReasoningStep(...)\n\n    with pytest.raises(TerminalRuleViolation):\n        engine.validate(step, state)\n</code></pre>"},{"location":"vers0.1.0/RULES/#7-rule-observability","title":"7. Rule Observability","text":""},{"location":"vers0.1.0/RULES/#71-logging-rule-violations","title":"7.1 Logging Rule Violations","text":"<pre><code>class RuleEngine:\n    def validate(self, step: ReasoningStep, state: ReActState) -&gt; None:\n        for rule in self.rules:\n            if not rule.check(step, state):\n                logger.warning(\n                    \\\"rule_violation\\\",\n                    rule_name=rule.name,\n                    step_id=step.id,\n                    trace_id=state.trace_id,\n                    is_terminal=rule.is_terminal\n                )\n\n                if rule.is_terminal:\n                    raise TerminalRuleViolation(...)\n</code></pre>"},{"location":"vers0.1.0/RULES/#72-metrics","title":"7.2 Metrics","text":"<pre><code>from prometheus_client import Counter\n\n# Define metrics\nrule_violations = Counter(\n    \\\"rule_violations_total\\\",\n    \\\"Total rule violations\\\",\n    [\\\"rule_name\\\", \\\"is_terminal\\\"]\n)\n\n# In RuleEngine\ndef validate(self, step: ReasoningStep, state: ReActState) -&gt; None:\n    for rule in self.rules:\n        if not rule.check(step, state):\n            # Increment metric\n            rule_violations.labels(\n                rule_name=rule.name,\n                is_terminal=str(rule.is_terminal)\n            ).inc()\n</code></pre>"},{"location":"vers0.1.0/RULES/#8-rule-best-practices","title":"8. Rule Best Practices","text":""},{"location":"vers0.1.0/RULES/#81-rule-design-principles","title":"8.1 Rule Design Principles","text":"<ol> <li>Single Responsibility: Each rule checks one thing</li> <li>Fail Fast: Terminal rules should fail immediately</li> <li>Clear Messages: Violation messages explain what went wrong</li> <li>Testable: Rules should be unit testable</li> <li>Configurable: Rules should be configurable via YAML</li> </ol>"},{"location":"vers0.1.0/RULES/#82-common-patterns","title":"8.2 Common Patterns","text":""},{"location":"vers0.1.0/RULES/#pattern-1-threshold-rule","title":"Pattern 1: Threshold Rule","text":"<pre><code>class ThresholdRule(Rule):\n    def __init__(self, threshold: float):\n        self.threshold = threshold\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        value = self._compute_value(step, state)\n        return value &lt;= self.threshold\n</code></pre>"},{"location":"vers0.1.0/RULES/#pattern-2-blacklist-rule","title":"Pattern 2: Blacklist Rule","text":"<pre><code>class BlacklistRule(Rule):\n    def __init__(self, blacklist: list[str]):\n        self.blacklist = blacklist\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        return not any(item in step.thought for item in self.blacklist)\n</code></pre>"},{"location":"vers0.1.0/RULES/#pattern-3-stateful-rule","title":"Pattern 3: Stateful Rule","text":"<pre><code>class ConsecutiveFailuresRule(Rule):\n    def __init__(self, max_failures: int = 3):\n        self.max_failures = max_failures\n\n    def check(self, step: ReasoningStep, state: ReActState) -&gt; bool:\n        failed_steps = [s for s in state.steps if s.status == \\\"failed\\\"]\n\n        # Check last N steps\n        recent_failed = failed_steps[-self.max_failures:]\n        return len(recent_failed) &lt; self.max_failures\n</code></pre>"},{"location":"vers0.1.0/RULES/#end-of-governance-rules-document","title":"End of Governance Rules Document","text":""},{"location":"vers0.1.0/SKILLS_MANIFEST/","title":"Skills Manifest for Arkhon-Rheo + ReActEngine","text":""},{"location":"vers0.1.0/SKILLS_MANIFEST/#_1","title":"\u6982\u5ff5\u6574\u5408","text":"<p>Arkhon-Rheo (\u54f2\u5b78\u6838\u5fc3\u898f\u7bc4) \u27fa ReActEngine (OOP \u7a0b\u5f0f\u78bc\u67b6\u69cb)</p> <ul> <li>\u5c08\u6848\u540d\u7a31: Arkhon-Rheo</li> <li>\u6838\u5fc3\u985e\u5225: ReActEngine</li> <li>\u5b9a\u4f4d: \u7368\u7acb\u81e8\u6642\u5916\u639b/\u63d2\u4ef6 (\u4e0d\u6574\u5408 DLAMP/Hydra)</li> <li>\u6280\u8853\u898f\u683c: Python 3.12, \u7121 GPU \u52a0\u901f\u9700\u6c42</li> <li>\u4ee3\u7406\u4eba\u7cfb\u7d71\u8def\u5f91: src/arkhon-rheo/</li> <li>\u57f7\u884c\u4ee3\u7406\u4eba\u7cfb\u7d71\u9032\u884c [\u76ee\u6a19\u5c08\u6848=DLAMP] \u958b\u767c\u6307\u4ee4: <code>python src/arkhon-rheo/dev.py</code></li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#_2","title":"\u6280\u80fd\u5806\u758a\u914d\u7f6e","text":"<p>\u6839\u64da Arkhon-Rheo SDLC \u516d\u968e\u6bb5,\u70ba ReActEngine \u6587\u6a94\u958b\u767c\u914d\u7f6e\u4ee5\u4e0b\u6280\u80fd:</p>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-1-planning","title":"\ud83d\udccb Phase 1: \u898f\u5283\u8207\u7814\u7a76 (PLANNING)","text":"<p>\u76ee\u6a19: \u5b9a\u7fa9\u6587\u6a94\u7d50\u69cb\u3001\u78ba\u7acb\u898f\u7bc4\u4e00\u81f4\u6027</p> Skill ID Skill Name \u7528\u9014 <code>doc-coauthoring</code> Doc Coauthoring \u7d50\u69cb\u5316\u6587\u6a94\u64b0\u5beb\u5de5\u4f5c\u6d41 <code>concise-planning</code> Concise Planning \u751f\u6210\u6e05\u6670\u53ef\u57f7\u884c\u7684\u6aa2\u67e5\u6e05\u55ae <code>writing-plans</code> Writing Plans \u64b0\u5beb implementation_plan.md <code>brainstorming</code> Brainstorming \u8a2d\u8a08\u60f3\u6cd5\u9a57\u8b49\u8207\u98a8\u96aa\u8b58\u5225 <p>\u61c9\u7528:</p> <ul> <li>\u4f7f\u7528 <code>doc-coauthoring</code> \u5efa\u7acb\u6587\u6a94\u5354\u4f5c\u6846\u67b6</li> <li>\u4f7f\u7528 <code>concise-planning</code> \u751f\u6210 task.md \u6aa2\u67e5\u6e05\u55ae</li> <li>\u4f7f\u7528 <code>writing-plans</code> \u5b8c\u6210\u5be6\u65bd\u8a08\u5283</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-2-design","title":"\ud83c\udfd7\ufe0f Phase 2: \u8a2d\u8a08\u8207\u5efa\u6a21 (DESIGN)","text":"<p>\u76ee\u6a19: \u5275\u5efa\u67b6\u69cb\u5716\u3001\u8a2d\u8a08\u6587\u6a94\u3001\u72c0\u614b\u6a5f\u898f\u7bc4</p> Skill ID Skill Name \u7528\u9014 <code>docs-architect</code> Docs Architect \u9577\u7bc7\u6280\u8853\u6587\u6a94\u67b6\u69cb <code>design-md</code> Design MD \u8a2d\u8a08\u6587\u6a94\u6700\u4f73\u5be6\u8e10 <code>architecture-patterns</code> Architecture Patterns Clean Architecture / Hexagonal <code>mermaid-expert</code> Mermaid Expert \u67b6\u69cb\u5716 / \u72c0\u614b\u6a5f\u5716 <code>software-architecture</code> Software Architecture \u8cea\u91cf\u5c0e\u5411\u8edf\u9ad4\u67b6\u69cb <p>\u61c9\u7528:</p> <ul> <li><code>docs-architect</code>: \u64b0\u5beb SPECIFICATION.md (800-1200 \u884c)</li> <li><code>design-md</code>: \u64b0\u5beb DESIGN.md, ARCHITECTURE.md</li> <li><code>mermaid-expert</code>: \u751f\u6210\u72c0\u614b\u8f49\u79fb\u5716 (STATE_MACHINE.md)</li> <li><code>architecture-patterns</code>: \u78ba\u4fdd\u7b26\u5408 Clean Architecture \u539f\u5247</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-3-implementation","title":"\ud83d\udcbb Phase 3: \u5be6\u4f5c (IMPLEMENTATION)","text":"<p>\u76ee\u6a19: \u751f\u6210\u7b26\u5408 PEP8 \u7684 Production-ready \u4ee3\u78bc\u7bc4\u4f8b</p> Skill ID Skill Name \u7528\u9014 <code>python-pro</code> Python Pro Python 3.12+ \u73fe\u4ee3\u5316\u5be6\u8e10 <code>clean-code</code> Clean Code Robert C. Martin \u539f\u5247 <code>autonomous-agent-patterns</code> Autonomous Agent Patterns Agent \u5de5\u5177\u6574\u5408\u6a21\u5f0f <code>agent-tool-builder</code> Agent Tool Builder Tool Schema / MCP \u6a19\u6e96 <p>\u61c9\u7528:</p> <ul> <li><code>python-pro</code>: \u78ba\u4fdd\u6240\u6709\u4ee3\u78bc\u7bc4\u4f8b\u7b26\u5408 Python 3.12 type hints</li> <li><code>clean-code</code>: Code reviews, \u8b8a\u6578\u547d\u540d, \u51fd\u6578\u8a2d\u8a08</li> <li><code>autonomous-agent-patterns</code>: \u6b0a\u9650\u7cfb\u7d71\u3001\u700f\u89bd\u5668\u81ea\u52d5\u5316\u8a2d\u8a08</li> <li><code>agent-tool-builder</code>: Tool Registry, JSON Schema \u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-4-validation","title":"\ud83e\uddea Phase 4: \u9a57\u8b49\u8207\u6e2c\u8a66 (VALIDATION)","text":"<p>\u76ee\u6a19: \u9a57\u8b49\u6587\u6a94\u5b8c\u6574\u6027\u3001\u4ee3\u78bc\u7bc4\u4f8b\u6b63\u78ba\u6027</p> Skill ID Skill Name \u7528\u9014 <code>test-driven-development</code> TDD TDD \u7b56\u7565\u6587\u6a94 (TDD.md) <code>python-testing-patterns</code> Python Testing Patterns pytest fixture / mock \u6a21\u5f0f <code>code-reviewer</code> Code Reviewer \u4ee3\u78bc\u54c1\u8cea\u5be9\u67e5 <p>\u61c9\u7528:</p> <ul> <li><code>test-driven-development</code>: \u64b0\u5beb TDD.md (350-450 \u884c)</li> <li><code>python-testing-patterns</code>: \u6e2c\u8a66\u6a21\u5f0f\u7bc4\u4f8b</li> <li><code>code-reviewer</code>: \u9a57\u8b49\u6240\u6709\u4ee3\u78bc\u7bc4\u4f8b\u53ef\u57f7\u884c</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-5-deployment","title":"\ud83d\ude80 Phase 5: \u90e8\u7f72 (DEPLOYMENT)","text":"<p>\u76ee\u6a19: \u5b8c\u6210\u6253\u5305\u898f\u7bc4\u3001\u767c\u5e03\u6587\u6a94</p> Skill ID Skill Name \u7528\u9014 <code>uv-package-manager</code> UV Package Manager Python \u9805\u76ee\u6253\u5305 <code>readme</code> README \u66f4\u65b0\u9805\u76ee\u6587\u6a94 <code>development-md</code> Development MD \u958b\u767c\u6307\u5357 <p>\u61c9\u7528:</p> <ul> <li><code>uv-package-manager</code>: ROADMAP Phase 4 \u6253\u5305\u898f\u7bc4</li> <li><code>readme</code>: \u66f4\u65b0 README.md</li> <li>\u64b0\u5beb DEVELOPMENT.md (300-400 \u884c)</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#phase-6-monitoring","title":"\ud83d\udcca Phase 6: \u76e3\u63a7\u8207\u8fed\u4ee3 (MONITORING)","text":"<p>\u76ee\u6a19: \u6587\u6a94\u7dad\u8b77\u3001\u7248\u672c\u66f4\u65b0</p> Skill ID Skill Name \u7528\u9014 <code>architect-review</code> Architect Review \u67b6\u69cb\u4e00\u81f4\u6027\u5be9\u67e5 <code>design-orchestration</code> Design Orchestration \u591a\u6587\u6a94\u4e00\u81f4\u6027\u5354\u8abf <p>\u61c9\u7528:</p> <ul> <li><code>architect-review</code>: \u6700\u7d42\u67b6\u69cb\u5be9\u67e5</li> <li><code>design-orchestration</code>: \u78ba\u4fdd 9 \u4efd\u6587\u6a94\u9593\u7684\u4e00\u81f4\u6027</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#cross-cutting","title":"\u8de8\u968e\u6bb5\u6280\u80fd (Cross-Cutting)","text":"Skill ID \u7528\u9014 \u4f55\u6642\u4f7f\u7528 <code>multi-agent-brainstorming</code> \u9ad8\u98a8\u96aa\u8a2d\u8a08\u6c7a\u7b56\u7684\u591a\u4ee3\u7406\u5be9\u67e5 Phase 2 \u91cd\u5927\u67b6\u69cb\u6c7a\u7b56 <code>langgraph</code> LangGraph \u7b49\u50f9\u6027\u5206\u6790 SPECIFICATION.md LangGraph \u5c0d\u7167\u7ae0\u7bc0 <code>agent-memory-systems</code> Memory/VectorStore \u67b6\u69cb\u8a2d\u8a08 ROADMAP Phase 3 <code>agent-orchestration-multi-agent-optimize</code> Multi-Agent \u512a\u5316 ROADMAP Phase 2"},{"location":"vers0.1.0/SKILLS_MANIFEST/#_3","title":"\u6280\u80fd\u4f7f\u7528\u539f\u5247","text":""},{"location":"vers0.1.0/SKILLS_MANIFEST/#1","title":"1. \u5206\u968e\u6bb5\u6fc0\u6d3b","text":"<ul> <li>PLANNING \u968e\u6bb5: \u6fc0\u6d3b PM/Governance \u6280\u80fd</li> <li>DESIGN \u968e\u6bb5: \u6fc0\u6d3b\u67b6\u69cb\u8a2d\u8a08\u6280\u80fd</li> <li>IMPLEMENTATION \u968e\u6bb5: \u6fc0\u6d3b\u4ee3\u78bc\u5be6\u8e10\u6280\u80fd</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#2-sdlc-complex","title":"2. \u9075\u5faa SDLC Complex \u898f\u7bc4","text":"<ul> <li>\u6bcf\u500b\u968e\u6bb5\u5b8c\u6210\u5f8c\u4f7f\u7528 <code>architect-review</code> \u9032\u884c Gate Check</li> <li>\u4f7f\u7528 <code>doc-coauthoring</code> \u5efa\u7acb HITL (\u4eba\u6a5f\u5354\u4f5c) \u6aa2\u67e5\u9ede</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#3","title":"3. \u907f\u514d\u6280\u80fd\u885d\u7a81","text":"<ul> <li>\u4e0d\u540c\u6642\u6fc0\u6d3b <code>autonomous-agent-patterns</code> \u548c <code>autonomous-agents</code>   (\u524d\u8005\u662f\u5de5\u7a0b\u5be6\u4f5c,\u5f8c\u8005\u662f\u54f2\u5b78\u6307\u5c0e)</li> </ul>"},{"location":"vers0.1.0/SKILLS_MANIFEST/#_4","title":"\u9810\u671f\u7522\u51fa\u5c0d\u7167","text":"\u6587\u6a94 \u4e3b\u8981\u6280\u80fd \u9810\u4f30\u884c\u6578 SPECIFICATION.md <code>docs-architect</code>, <code>python-pro</code> 800-1200 ROADMAP.md <code>concise-planning</code>, <code>writing-plans</code> 400-600 DESIGN.md <code>design-md</code>, <code>mermaid-expert</code> 600-800 ARCHITECTURE.md <code>architecture-patterns</code>, <code>software-architecture</code> 400-500 DEVELOPMENT.md <code>clean-code</code>, <code>uv-package-manager</code> 300-400 TDD.md <code>test-driven-development</code> 350-450 STATE_MACHINE.md <code>mermaid-expert</code>, <code>autonomous-agent-patterns</code> 300-400 AGENT_ROLES_ACL.md <code>agent-orchestration-multi-agent-optimize</code> 250-350 RULES.md <code>agent-tool-builder</code> 250-350 <p>\u7e3d\u8a08: 3650-4650 \u884c</p>"},{"location":"vers0.1.0/SPECIFICATION/","title":"Arkhon-Rheo + ReActEngine Technical Specification","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Target: Python 3.12+</p>"},{"location":"vers0.1.0/SPECIFICATION/#document-purpose","title":"Document Purpose","text":"<p>This specification defines the technical requirements, architecture, and implementation details for Arkhon-Rheo, a production-grade autonomous agent system built on the ReActEngine OOP architecture. The system is isomorphic to LangGraph's StateGraph model but provides full control, configurability, and extensibility through YAML-driven configuration and pluggable components.</p> <p>Core Philosophy:</p> <ul> <li>Arkhon-Rheo: The philosophical framework and governance standards</li> <li>ReActEngine: The concrete OOP implementation</li> <li>Integration: Philosophy \u27fa Code Architecture</li> </ul>"},{"location":"vers0.1.0/SPECIFICATION/#1-system-overview","title":"1. System Overview","text":""},{"location":"vers0.1.0/SPECIFICATION/#11-architecture-philosophy","title":"1.1 Architecture Philosophy","text":"<p>Arkhon-Rheo is a Deterministic AI Workflow Engine combining:</p> <pre><code>Deterministic AI Workflow Engine\n+\nEvent Log (Event Sourcing)\n+  \nState Machine (Finite State Automation)\n+\nPolicy Layer (Rule Engine)\n</code></pre> <p>NOT a prompt hack or simple LLM wrapper.</p>"},{"location":"vers0.1.0/SPECIFICATION/#12-core-principles","title":"1.2 Core Principles","text":"<ol> <li>State Machine Driven: All agent behavior is governed by explicit state transitions</li> <li>Event Sourcing: Every reasoning step is immutable and append-only  </li> <li>YAML Configuration: Runtime behavior configured declaratively</li> <li>Tool Pluggability: Tools are registered dynamically via JSON Schema</li> <li>Rule Engine Extensibility: Custom governance rules via YAML</li> <li>LangGraph Isomorphism: Structurally equivalent to LangGraph for easy migration</li> </ol>"},{"location":"vers0.1.0/SPECIFICATION/#13-code-location","title":"1.3 Code Location","text":"<pre><code>src/arkhon-rheo/                # Agent system root\n\u251c\u2500\u2500 core/                       # State machine &amp; graph\n\u251c\u2500\u2500 nodes/                      # ReAct nodes (Thought/Action/Observation)\n\u251c\u2500\u2500 tools/                      # Tool registry &amp; implementations  \n\u251c\u2500\u2500 rules/                      # Governance &amp; validation\n\u251c\u2500\u2500 config/                     # YAML schema &amp; loader\n\u2514\u2500\u2500 runtime/                    # Execution &amp; checkpointing\n\n# Execution entry point\npython src/arkhon-rheo/dev.py  # Run agent system for DLAMP development\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#14-design-constraints","title":"1.4 Design Constraints","text":"Constraint Value Rationale Python Version 3.12+ Modern type hints (PEP 695), performance Integration Standalone Temporary plugin, no DLAMP/Hydra coupling Configuration YAML Human-readable, version-controllable GPU Support None CPU-only inference Deployment Local/Edge Development agent system"},{"location":"vers0.1.0/SPECIFICATION/#2-phase-1-production-code-standards","title":"2. Phase 1: Production Code Standards","text":""},{"location":"vers0.1.0/SPECIFICATION/#21-pep8-compliance","title":"2.1 PEP8 Compliance","text":"<p>All code MUST adhere to PEP 8 with exceptions managed via <code>ruff.toml</code>:</p> <pre><code># pyproject.toml\n[tool.ruff]\nline-length = 100\ntarget-version = \"py312\"\n\n[tool.ruff.lint]\nselect = [\"E\", \"F\", \"I\", \"N\", \"W\", \"UP\"]\nignore = [\"E501\"]  # Line too long (managed by formatter)\n</code></pre> <p>Enforcement:</p> <pre><code>ruff check src/arkhon-rheo/\nruff format src/arkhon-rheo/\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#22-docstring-standards","title":"2.2 Docstring Standards","text":"<p>Google Style docstrings for all public APIs:</p> <pre><code>def create_state_graph(config: GraphConfig) -&gt; StateGraph:\n    \"\"\"Create a StateGraph instance from configuration.\n\n    Args:\n        config: Graph configuration object containing nodes and edges.\n\n    Returns:\n        Initialized StateGraph ready for execution.\n\n    Raises:\n        ValidationError: If config contains invalid node/edge definitions.\n\n    Example:\n        &gt;&gt;&gt; config = GraphConfig.from_yaml(\"graph.yaml\")\n        &gt;&gt;&gt; graph = create_state_graph(config)\n        &gt;&gt;&gt; result = graph.run(initial_state)\n    \"\"\"\n    ...\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#23-type-hints-strategy-python-312","title":"2.3 Type Hints Strategy (Python 3.12+)","text":"<p>Modern type syntax with PEP 695 (type parameter syntax):</p> <pre><code>from collections.abc import Callable\nfrom typing import Protocol\n\n# Generic type aliases (PEP 695)\ntype NodeExecutor[T] = Callable[[T], T]\ntype StateTransformer[S] = Callable[[S], S | None]\n\n# Protocols for structural typing\nclass Executable(Protocol):\n    def execute(self, **kwargs) -&gt; ToolResult: ...\n\n# Dataclasses with frozen=True for immutability\nfrom dataclasses import dataclass\n\n@dataclass(frozen=True, slots=True)\nclass ReasoningStep:\n    id: int\n    thought: str | None\n    action: str | None\n    action_input: dict[str, Any] | None\n    observation: str | None\n    status: str  # \"draft\" | \"validated\" | \"executed\"\n    timestamp: datetime\n</code></pre> <p>Type checking:</p> <pre><code>mypy --strict src/arkhon-rheo/\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#24-error-handling-patterns","title":"2.4 Error Handling Patterns","text":"<p>Custom exception hierarchy:</p> <pre><code>class ReActEngineError(Exception):\n    \"\"\"Base exception for all ReActEngine errors.\"\"\"\n\nclass StateTransitionError(ReActEngineError):\n    \"\"\"Illegal state transition attempted.\"\"\"\n\nclass ToolExecutionError(ReActEngineError):\n    \"\"\"Tool execution failed.\"\"\"\n\nclass RuleViolationError(ReActEngineError):\n    \"\"\"Governance rule violated.\"\"\"\n</code></pre> <p>Error handling guidelines:</p> <ol> <li>Fail Fast: Raise exceptions for invariant violations</li> <li>Context Preservation: Use <code>raise ... from e</code> to preserve traceback</li> <li>Structured Logging: Log errors with context before raising</li> <li>Recovery: Implement retry logic for transient failures</li> </ol> <pre><code>import structlog\n\nlogger = structlog.get_logger()\n\ndef execute_tool(tool: Tool, args: dict) -&gt; ToolResult:\n    try:\n        result = tool.execute(**args)\n    except KeyError as e:\n        logger.error(\"tool_missing_param\", tool=tool.name, error=str(e))\n        raise ToolExecutionError(f\"Missing parameter: {e}\") from e\n    except Exception as e:\n        logger.exception(\"tool_execution_failed\", tool=tool.name)\n        raise ToolExecutionError(f\"Tool '{tool.name}' failed\") from e\n    else:\n        logger.info(\"tool_executed\", tool=tool.name, success=True)\n        return result\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#3-phase-2-multi-agent-architecture","title":"3. Phase 2: Multi-Agent Architecture","text":""},{"location":"vers0.1.0/SPECIFICATION/#31-agent-graph-topology","title":"3.1 Agent Graph Topology","text":"<p>Hierarchical multi-agent structure:</p> <pre><code>graph TD\n    Coordinator[Coordinator Agent]\n    Coordinator --&gt; Planner[Planning Agent]\n    Coordinator --&gt; Coder[Coding Agent]\n    Coordinator --&gt; Reviewer[Review Agent]\n\n    Planner --&gt;|task breakdown| SharedState[(Shared State)]\n    Coder --&gt;|code changes| SharedState\n    Reviewer --&gt;|approval| SharedState\n\n    SharedState --&gt;|context| Planner\n    SharedState --&gt;|context| Coder\n    SharedState --&gt;|context| Reviewer\n</code></pre> <p>Roles:</p> Agent Responsibility Input Output Coordinator Task routing &amp; aggregation User request Subtask assignments Planning Agent Decompose tasks into steps High-level goal Task plan (JSON) Coding Agent Implement code changes Task spec Code diffs Review Agent Validate code quality Code changes Approval/rejection"},{"location":"vers0.1.0/SPECIFICATION/#32-inter-agent-communication-protocol","title":"3.2 Inter-Agent Communication Protocol","text":"<p>Message passing via shared state:</p> <pre><code>@dataclass\nclass AgentMessage:\n    sender: str  # Agent ID\n    receiver: str  # Target agent ID or \"broadcast\"\n    message_type: str  # \"request\" | \"response\" | \"notification\"\n    payload: dict[str, Any]\n    timestamp: datetime\n    correlation_id: str  # For request-response tracking\n\n@dataclass\nclass SharedAgentState:\n    messages: list[AgentMessage]\n    context: dict[str, Any]\n    locks: dict[str, str]  # Resource locks {resource_id: agent_id}\n</code></pre> <p>Communication example:</p> <pre><code># Coordinator sends task to Coding Agent\ncoordinator.send_message(AgentMessage(\n    sender=\"coordinator\",\n    receiver=\"coder\",\n    message_type=\"request\",\n    payload={\n        \"task\": \"implement_login_validation\",\n        \"spec\": {...}\n    },\n    timestamp=datetime.now(),\n    correlation_id=uuid.uuid4().hex\n))\n\n# Coding Agent responds\ncoder.send_message(AgentMessage(\n    sender=\"coder\",\n    receiver=\"coordinator\",\n    message_type=\"response\",\n    payload={\n        \"status\": \"completed\",\n        \"diff\": \"...\",\n        \"tests_pass\": True\n    },\n    correlation_id=original_message.correlation_id,\n    timestamp=datetime.now()\n))\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#33-subgraph-nesting-mechanism","title":"3.3 Subgraph Nesting Mechanism","text":"<p>Nested execution graphs:</p> <pre><code>class SubGraph:\n    \"\"\"A graph that can be embedded as a node in a parent graph.\"\"\"\n\n    def __init__(self, name: str):\n        self.name = name\n        self.graph = StateGraph()\n\n    def as_node(self) -&gt; BaseNode:\n        \"\"\"Convert this subgraph into a node executable by parent graph.\"\"\"\n        return SubGraphNode(subgraph=self)\n\n# Usage\nmain_graph = StateGraph()\nauth_subgraph = SubGraph(\"authentication\")\nauth_subgraph.graph.add_node(\"validate\", ValidateCredentialsNode())\nauth_subgraph.graph.add_node(\"generate_token\", GenerateTokenNode())\nauth_subgraph.graph.add_edge(\"validate\", \"generate_token\")\n\nmain_graph.add_node(\"auth\", auth_subgraph.as_node())\nmain_graph.add_node(\"process\", ProcessRequestNode())\nmain_graph.add_edge(\"auth\", \"process\")\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#34-agent-lifecycle-management","title":"3.4 Agent Lifecycle Management","text":"<p>State transitions:</p> <pre><code>[Idle] --spawn--&gt; [Initializing] --ready--&gt; [Active] --task--&gt; [Executing]\n                                                 ^                  |\n                                                 |--complete--------|\n                                                 |\n[Active] --shutdown--&gt; [Terminating] --cleanup--&gt; [Terminated]\n</code></pre> <p>Implementation:</p> <pre><code>class AgentLifecycle:\n    async def spawn(self, agent_id: str, config: AgentConfig) -&gt; Agent:\n        \"\"\"Initialize and activate a new agent instance.\"\"\"\n        agent = Agent(id=agent_id, config=config)\n        await agent.initialize()\n        self.active_agents[agent_id] = agent\n        return agent\n\n    async def shutdown(self, agent_id: str) -&gt; None:\n        \"\"\"Gracefully terminate an agent.\"\"\"\n        agent = self.active_agents.get(agent_id)\n        if agent:\n            await agent.cleanup()\n            del self.active_agents[agent_id]\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#4-phase-3-memory-storage","title":"4. Phase 3: Memory &amp; Storage","text":""},{"location":"vers0.1.0/SPECIFICATION/#41-short-term-memory-context-window","title":"4.1 Short-term Memory (Context Window)","text":"<p>Sliding window implementation:</p> <pre><code>class ContextWindow:\n    \"\"\"Manages recent conversation history within token limits.\"\"\"\n\n    def __init__(self, max_tokens: int = 8000):\n        self.max_tokens = max_tokens\n        self.messages: list[dict] = []\n\n    def add(self, message: dict) -&gt; None:\n        \"\"\"Add message and evict oldest if exceeding limit.\"\"\"\n        self.messages.append(message)\n        while self._token_count() &gt; self.max_tokens:\n            self.messages.pop(0)\n\n    def _token_count(self) -&gt; int:\n        # Approximate token count\n        return sum(len(m[\"content\"]) // 4 for m in self.messages)\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#42-long-term-memory-vector-store-integration","title":"4.2 Long-term Memory (Vector Store Integration)","text":"<p>Pluggable vector store backends:</p> <pre><code>from abc import ABC, abstractmethod\n\nclass VectorStore(ABC):\n    @abstractmethod\n    async def upsert(self, id: str, vector: list[float], metadata: dict) -&gt; None:\n        \"\"\"Insert or update a vector.\"\"\"\n\n    @abstractmethod\n    async def query(self, vector: list[float], top_k: int = 5) -&gt; list[dict]:\n        \"\"\"Retrieve top-k similar vectors.\"\"\"\n\n# Implementations\nclass PineconeStore(VectorStore):\n    def __init__(self, api_key: str, index_name: str):\n        import pinecone\n        self.index = pinecone.Index(index_name)\n\nclass WeaviateStore(VectorStore):\n    def __init__(self, url: str):\n        import weaviate\n        self.client = weaviate.Client(url)\n</code></pre> <p>YAML configuration:</p> <pre><code>memory:\n  short_term:\n    type: sliding_window\n    max_tokens: 8000\n\n  long_term:\n    type: pinecone\n    api_key: ${PINECONE_API_KEY}\n    index: agent-memory\n    embedding_model: text-embedding-3-small\n\n  retrieval:\n    strategy: hybrid  # keyword + semantic\n    top_k: 5\n    min_score: 0.7\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#43-checkpointing-state-persistence","title":"4.3 Checkpointing &amp; State Persistence","text":"<p>SQLite-backed checkpointing:</p> <pre><code>import sqlite3\nimport json\n\nclass CheckpointManager:\n    def __init__(self, db_path: str = \".checkpoints.db\"):\n        self.conn = sqlite3.connect(db_path)\n        self._init_schema()\n\n    def _init_schema(self):\n        self.conn.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS checkpoints (\n                trace_id TEXT PRIMARY KEY,\n                state BLOB,\n                timestamp REAL\n            )\n        \"\"\")\n\n    def save(self, state: ReActState) -&gt; None:\n        \"\"\"Save state to checkpoint.\"\"\"\n        serialized = json.dumps(asdict(state))\n        self.conn.execute(\n            \"INSERT OR REPLACE INTO checkpoints VALUES (?, ?, ?)\",\n            (state.trace_id, serialized, time.time())\n        )\n        self.conn.commit()\n\n    def load(self, trace_id: str) -&gt; ReActState | None:\n        \"\"\"Restore state from checkpoint.\"\"\"\n        row = self.conn.execute(\n            \"SELECT state FROM checkpoints WHERE trace_id = ?\",\n            (trace_id,)\n        ).fetchone()\n        return ReActState(**json.loads(row[0])) if row else None\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#44-rollback-mechanism","title":"4.4 Rollback Mechanism","text":"<p>Temporal rollback to any previous step:</p> <pre><code>def rollback_to_step(state: ReActState, step_id: int) -&gt; ReActState:\n    \"\"\"Rollback state to a specific reasoning step.\"\"\"\n    if step_id &gt;= len(state.steps):\n        raise ValueError(f\"Invalid step_id: {step_id}\")\n\n    return replace(\n        state,\n        steps=state.steps[:step_id + 1],\n        current_node=\"thought\"  # Reset to thought node\n    )\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#5-phase-4-framework-packaging","title":"5. Phase 4: Framework Packaging","text":""},{"location":"vers0.1.0/SPECIFICATION/#51-package-structure","title":"5.1 Package Structure","text":"<pre><code>arkhon-rheo/\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 arkhon_rheo/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 core/\n\u2502       \u251c\u2500\u2500 nodes/\n\u2502       \u251c\u2500\u2500 tools/\n\u2502       \u251c\u2500\u2500 rules/\n\u2502       \u251c\u2500\u2500 config/\n\u2502       \u251c\u2500\u2500 runtime/\n\u2502       \u2514\u2500\u2500 cli/\n\u251c\u2500\u2500 tests/\n\u251c\u2500\u2500 examples/\n\u2514\u2500\u2500 docs/\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#52-pyprojecttoml-configuration","title":"5.2 <code>pyproject.toml</code> Configuration","text":"<pre><code>[project]\nname = \"arkhon-rheo\"\nversion = \"0.1.0\"\ndescription = \"Production-grade autonomous agent system with ReActEngine\"\nrequires-python = \"&gt;=3.12\"\ndependencies = [\n    \"pydantic&gt;=2.0\",\n    \"pyyaml&gt;=6.0\",\n    \"structlog&gt;=23.0\",\n]\n\n[project.optional-dependencies]\ndev = [\"pytest\", \"ruff\", \"mypy\"]\nvectorstore = [\"pinecone-client\", \"weaviate-client\"]\n\n[project.scripts]\narkhon-rheo = \"arkhon_rheo.cli:main\"\n\n[build-system]\nrequires = [\"hatchling\"]\nbuild-backend = \"hatchling.build\"\n\n[tool.ruff]\nline-length = 100\ntarget-version = \"py312\"\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#53-distribution-strategy","title":"5.3 Distribution Strategy","text":"<p>PyPI publishing workflow:</p> <pre><code># Build\npython -m build\n\n# Test upload to TestPyPI\ntwine upload --repository testpypi dist/*\n\n# Production upload\ntwine upload dist/*\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#54-cli-scaffolding-tool","title":"5.4 CLI Scaffolding Tool","text":"<p>Generate new agent projects:</p> <pre><code># Create new project\narkhon-rheo init my-agent --template basic\n\n# Generated structure\nmy-agent/\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 default.yaml\n\u251c\u2500\u2500 tools/\n\u2502   \u2514\u2500\u2500 custom_tool.py\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#6-api-reference","title":"6. API Reference","text":""},{"location":"vers0.1.0/SPECIFICATION/#61-core-classes","title":"6.1 Core Classes","text":""},{"location":"vers0.1.0/SPECIFICATION/#reactstate","title":"<code>ReActState</code>","text":"<pre><code>@dataclass\nclass ReActState:\n    \"\"\"Immutable state container for agent execution.\"\"\"\n\n    trace_id: str  # Unique execution identifier\n    steps: list[ReasoningStep]  # Append-only event log\n    current_node: str  # Current state machine node\n    metadata: dict[str, Any]  # Arbitrary metadata\n    terminated: bool = False  # Execution complete flag\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#basenode","title":"<code>BaseNode</code>","text":"<pre><code>class BaseNode(ABC):\n    \"\"\"Abstract base for all graph nodes.\"\"\"\n\n    @abstractmethod\n    def run(self, state: ReActState) -&gt; ReActState:\n        \"\"\"Execute node logic and return updated state.\"\"\"\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#stategraph","title":"<code>StateGraph</code>","text":"<pre><code>class StateGraph:\n    \"\"\"Directed graph of nodes with conditional edges.\"\"\"\n\n    def __init__(self):\n        self.nodes: dict[str, BaseNode] = {}\n        self.edges: dict[str, str | Callable] = {}\n\n    def add_node(self, name: str, node: BaseNode) -&gt; None:\n        \"\"\"Register a node.\"\"\"\n\n    def add_edge(self, source: str, target: str) -&gt; None:\n        \"\"\"Add unconditional edge.\"\"\"\n\n    def add_conditional_edge(\n        self, \n        source: str, \n        condition: Callable[[ReActState], str]\n    ) -&gt; None:\n        \"\"\"Add conditional edge with routing function.\"\"\"\n\n    def run(self, initial_state: ReActState) -&gt; ReActState:\n        \"\"\"Execute graph until termination.\"\"\"\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#62-tool-registry-api","title":"6.2 Tool Registry API","text":"<pre><code>class ToolRegistry:\n    \"\"\"Central registry for agent tools.\"\"\"\n\n    def register(self, tool: Tool) -&gt; None:\n        \"\"\"Register a tool by name.\"\"\"\n\n    def get(self, name: str) -&gt; Tool:\n        \"\"\"Retrieve a registered tool.\"\"\"\n\n    def list_tools(self) -&gt; list[ToolSchema]:\n        \"\"\"Get JSON Schema for all tools.\"\"\"\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#63-rule-engine-api","title":"6.3 Rule Engine API","text":"<pre><code>class RuleEngine:\n    \"\"\"Validates reasoning steps against governance rules.\"\"\"\n\n    def add_rule(self, rule: Rule) -&gt; None:\n        \"\"\"Register a validation rule.\"\"\"\n\n    def validate(self, step: ReasoningStep) -&gt; None:\n        \"\"\"Run all rules against a step. Raises RuleViolationError if invalid.\"\"\"\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#7-langgraph-equivalence-mapping","title":"7. LangGraph Equivalence Mapping","text":"Arkhon-Rheo LangGraph Notes <code>ReActState</code> <code>State</code> Type-safe dataclass vs dict <code>BaseNode</code> <code>Node</code> Abstract class vs function <code>StateGraph</code> <code>StateGraph</code> Identical concept <code>add_edge</code> <code>add_edge</code> 1:1 mapping <code>add_conditional_edge</code> <code>add_conditional_edges</code> Same semantics <code>run()</code> <code>invoke()</code> Synchronous execution <code>CheckpointManager</code> <code>checkpointer</code> SQLite vs MemorySaver <code>RuleEngine</code> (middleware) Built-in vs custom <p>Migration from LangGraph:</p> <pre><code># LangGraph\nfrom langgraph.graph import StateGraph\n\ngraph = StateGraph(MyState)\ngraph.add_node(\"process\", process_func)\ngraph.add_edge(\"process\", \"end\")\nresult = graph.compile().invoke(initial)\n\n# Arkhon-Rheo equivalent\nfrom arkhon_rheo import StateGraph, FunctionNode\n\ngraph = StateGraph()\ngraph.add_node(\"process\", FunctionNode(process_func))\ngraph.add_edge(\"process\", \"__end__\")\nresult = graph.run(initial)\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#8-configuration-schema-yaml","title":"8. Configuration Schema (YAML)","text":"<p>Complete example:</p> <pre><code>engine:\n  max_steps: 20  # Maximum reasoning iterations\n  checkpoint: true\n  interruptible: true  # Allow human intervention\n\nllm:\n  provider: openai\n  model: gpt-4o-mini\n  temperature: 0.0\n\ntools:\n  - name: search\n    module: arkhon_rheo.tools.builtin.search\n    enabled: true\n  - name: calculator\n    module: arkhon_rheo.tools.builtin.calculator\n    enabled: true\n\nrules:\n  - type: max_depth\n    value: 10\n  - type: forbid_guessing\n    enabled: true\n  - type: cost_limit\n    value: 0.50  # Max $0.50 per execution\n\nmemory:\n  short_term:\n    max_tokens: 8000\n  long_term:\n    type: pinecone\n    index: agent-memory\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#9-testing-requirements","title":"9. Testing Requirements","text":""},{"location":"vers0.1.0/SPECIFICATION/#91-unit-test-coverage","title":"9.1 Unit Test Coverage","text":"<ul> <li>Target: 90%+ line coverage</li> <li>Framework: pytest</li> <li>Fixtures: Shared test data in <code>tests/conftest.py</code></li> </ul>"},{"location":"vers0.1.0/SPECIFICATION/#92-integration-testing","title":"9.2 Integration Testing","text":"<ul> <li>Test multi-agent workflows end-to-end</li> <li>Validate checkpoint/restore cycles</li> <li>Test tool execution with mocked LLMs</li> </ul>"},{"location":"vers0.1.0/SPECIFICATION/#93-type-checking","title":"9.3 Type Checking","text":"<pre><code>mypy --strict src/arkhon-rheo/\n</code></pre>"},{"location":"vers0.1.0/SPECIFICATION/#10-security-considerations","title":"10. Security Considerations","text":"<ol> <li>Input Validation: All tool inputs validated against JSON Schema</li> <li>Sandboxing: Tools execute in restricted environments</li> <li>Secrets Management: API keys via environment variables only</li> <li>Audit Logging: All state transitions logged immutably</li> </ol>"},{"location":"vers0.1.0/SPECIFICATION/#appendix-a-glossary","title":"Appendix A: Glossary","text":"<ul> <li>ReActState: Immutable state container</li> <li>ReasoningStep: Single thought-action-observation cycle</li> <li>StateGraph: Directed graph of nodes</li> <li>Tool: External API wrapped in JSON Schema</li> <li>Rule: Governance constraint enforced by RuleEngine</li> <li>Checkpoint: Serialized state snapshot</li> </ul>"},{"location":"vers0.1.0/SPECIFICATION/#end-end-of-specification","title":"End End of Specification","text":""},{"location":"vers0.1.0/STATE_MACHINE/","title":"Arkhon-Rheo + ReActEngine State Machine Design","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/STATE_MACHINE/#1-state-machine-overview","title":"1. State Machine Overview","text":""},{"location":"vers0.1.0/STATE_MACHINE/#11-purpose","title":"1.1 Purpose","text":"<p>The Arkhon-Rheo agent system is fundamentally a Finite State Machine (FSM) where:</p> <ul> <li>States = Nodes in the graph (Thought, Validate, Action, Observation, Commit)</li> <li>Transitions = Edges between nodes</li> <li>Events = Reasoning steps (immutable, append-only log)</li> </ul>"},{"location":"vers0.1.0/STATE_MACHINE/#12-state-machine-properties","title":"1.2 State Machine Properties","text":"Property Value Significance Deterministic Yes Same initial state + same inputs \u2192 same final state Acyclic No Loops allowed (thought\u2192action\u2192thought) Bounded Yes Max steps enforced via rules Resumable Yes Via checkpointing"},{"location":"vers0.1.0/STATE_MACHINE/#2-core-state-machine","title":"2. Core State Machine","text":""},{"location":"vers0.1.0/STATE_MACHINE/#21-state-diagram","title":"2.1 State Diagram","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Thought: Initialize\n\n    Thought --&gt; Validate: Thought generated\n    Validate --&gt; Thought: Validation failed (retry)\n    Validate --&gt; Action: Validation passed\n\n    Action --&gt; Observation: Tool executed\n    Observation --&gt; Commit: Observation recorded\n\n    Commit --&gt; Thought: Continue cycle\n    Commit --&gt; [*]: Goal achieved\n\n    state Thought {\n        [*] --&gt; GeneratePrompt\n        GeneratePrompt --&gt; CallLLM\n        CallLLM --&gt; ParseResponse\n        ParseResponse --&gt; [*]\n    }\n\n    state Action {\n        [*] --&gt; SelectTool\n        SelectTool --&gt; ExecuteTool\n        ExecuteTool --&gt; HandleResult\n        HandleResult --&gt; [*]\n    }\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#22-state-transitions","title":"2.2 State Transitions","text":"From To Condition Type Thought Validate Always Unconditional Validate Action Rules pass Unconditional Validate Thought Rules fail Retry Action Observation Always Unconditional Observation Commit Always Unconditional Commit Thought Not terminated Conditional Commit END Terminated Conditional"},{"location":"vers0.1.0/STATE_MACHINE/#3-node-state-machines","title":"3. Node State Machines","text":""},{"location":"vers0.1.0/STATE_MACHINE/#31-thoughtnode-fsm","title":"3.1 ThoughtNode FSM","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; BuildPrompt\n    BuildPrompt --&gt; CheckCache: Prompt ready\n    CheckCache --&gt; ReturnCached: Cache hit\n    CheckCache --&gt; CallLLM: Cache miss\n    CallLLM --&gt; ParseThought: Response received\n    ParseThought --&gt; ValidateFormat: Parsed\n    ValidateFormat --&gt; CreateStep: Format valid\n    ValidateFormat --&gt; CallLLM: Format invalid (retry)\n    CreateStep --&gt; [*]: Step created\n    ReturnCached --&gt; CreateStep\n</code></pre> <p>Implementation:</p> <pre><code>class ThoughtNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        # State: BuildPrompt\n        prompt = self._build_prompt(state)\n\n        # State: CheckCache\n        if cached := self.cache.get(prompt):\n            thought = cached\n        else:\n            # State: CallLLM\n            thought = self.llm.generate(prompt)\n            self.cache.set(prompt, thought)\n\n        # State: ParseThought\n        parsed = self._parse_thought(thought)\n\n        # State: ValidateFormat\n        if not self._is_valid_format(parsed):\n            raise InvalidFormatError(\\\"Retry\\\")\n\n        # State: CreateStep\n        step = ReasoningStep(thought=parsed, ...)\n        return replace(state, steps=[*state.steps, step])\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#32-actionnode-fsm","title":"3.2 ActionNode FSM","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; ExtractAction\n    ExtractAction --&gt; ValidateToolExists: Action extracted\n    ValidateToolExists --&gt; RetrieveTool: Tool exists\n    ValidateToolExists --&gt; ErrorState: Tool not found\n    RetrieveTool --&gt; ValidateArgs: Tool retrieved\n    ValidateArgs --&gt; ExecuteTool: Args valid\n    ValidateArgs --&gt; ErrorState: Args invalid\n    ExecuteTool --&gt; HandleSuccess: Success\n    ExecuteTool --&gt; HandleRetry: Transient failure\n    ExecuteTool --&gt; ErrorState: Permanent failure\n    HandleRetry --&gt; ExecuteTool: Backoff complete\n    HandleSuccess --&gt; [*]: Result recorded\n    ErrorState --&gt; [*]: Error observation\n</code></pre> <p>Implementation with Retry Logic:</p> <pre><code>class ActionNode(BaseNode):\n    MAX_RETRIES = 3\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        step = state.steps[-1]\n\n        # State: ExtractAction\n        action, args = self._extract_action(step.thought)\n\n        # State: ValidateToolExists\n        if not self.tool_registry.has(action):\n            return self._create_error_step(state, f\\\"Unknown tool: {action}\\\")\n\n        # State: RetrieveTool\n        tool = self.tool_registry.get(action)\n\n        # State: ValidateArgs\n        try:\n            validated_args = tool.validate_args(args)\n        except ValidationError as e:\n            return self._create_error_step(state, str(e))\n\n        # State: ExecuteTool with retry\n        observation = self._execute_with_retry(tool, validated_args)\n\n        # State: HandleSuccess\n        return self._create_success_step(state, action, args, observation)\n\n    def _execute_with_retry(self, tool: Tool, args: dict) -&gt; str:\n        for attempt in range(self.MAX_RETRIES):\n            try:\n                result = tool.execute(**args)\n                return result.output\n            except TransientError as e:\n                if attempt == self.MAX_RETRIES - 1:\n                    return f\\\"Error after {self.MAX_RETRIES} attempts: {e}\\\"\n                time.sleep(2 ** attempt)  # Exponential backoff\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#4-conditional-edges","title":"4. Conditional Edges","text":""},{"location":"vers0.1.0/STATE_MACHINE/#41-termination-condition","title":"4.1 Termination Condition","text":"<pre><code>graph LR\n    Commit --&gt; CheckTermination{Terminated?}\n    CheckTermination --&gt;|Yes: goal achieved| END[END]\n    CheckTermination --&gt;|Yes: max steps| END\n    CheckTermination --&gt;|Yes: rule violation| END\n    CheckTermination --&gt;|No| Thought\n</code></pre> <p>Implementation:</p> <pre><code>def should_terminate(state: ReActState) -&gt; bool:\n    \\\"\\\"\\\"Check if execution should terminate.\\\"\\\"\\\"\n    # Goal achieved (LLM outputs final answer)\n    if state.steps and \\\"FINAL ANSWER\\\" in state.steps[-1].thought:\n        return True\n\n    # Max steps reached\n    if len(state.steps) &gt;= MAX_STEPS:\n        logger.warning(\\\"max_steps_reached\\\", steps=len(state.steps))\n        return True\n\n    # Explicit termination flag\n    if state.terminated:\n        return True\n\n    return False\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#42-retry-vs-proceed","title":"4.2 Retry vs. Proceed","text":"<pre><code>graph TD\n    Validate --&gt; CheckRules{Rules pass?}\n    CheckRules --&gt;|Pass| Action\n    CheckRules --&gt;|Fail: retryable| Thought\n    CheckRules --&gt;|Fail: terminal| END[Terminate]\n</code></pre> <p>Implementation:</p> <pre><code>class ValidateNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        step = state.steps[-1]\n\n        try:\n            self.rule_engine.validate(step)\n            # Rules passed \u2192 proceed to Action\n            return replace(state, current_node=\\\"action\\\")\n        except RetryableRuleViolation as e:\n            # Retryable \u2192 back to Thought\n            logger.info(\\\"retrying_thought\\\", reason=str(e))\n            return replace(\n                state,\n                current_node=\\\"thought\\\",\n                metadata={**state.metadata, \\\"retry_reason\\\": str(e)}\n            )\n        except TerminalRuleViolation as e:\n            # Terminal \u2192 end execution\n            logger.error(\\\"terminal_violation\\\", rule=e.rule_name)\n            return replace(state, terminated=True, current_node=\\\"__end__\\\")\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#5-extended-state-context-variables","title":"5. Extended State (Context Variables)","text":""},{"location":"vers0.1.0/STATE_MACHINE/#51-metadata-as-extended-state","title":"5.1 Metadata as Extended State","text":"<p>While the primary state is the <code>current_node</code>, the FSM also maintains extended state in <code>ReActState.metadata</code>:</p> <pre><code>@dataclass\nclass ReActState:\n    trace_id: str\n    steps: list[ReasoningStep]\n    current_node: str  # Primary FSM state\n    metadata: dict[str, Any]  # Extended state\n    terminated: bool\n</code></pre> <p>Metadata Examples:</p> <pre><code>state.metadata = {\n    \\\"goal\\\": \\\"Research topic X\\\",  # User intent\n    \\\"retry_count\\\": 2,  # Retry tracking\n    \\\"total_cost\\\": 0.05,  # Cost tracking\n    \\\"tool_history\\\": [\\\"search\\\", \\\"calculator\\\"],  # Tool usage\n    \\\"summary\\\": \\\"...\\\",  # Periodic summaries\n    \\\"user_feedback\\\": {\\\"step_3\\\": \\\"approved\\\"}  # HITL inputs\n}\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#52-using-extended-state-in-transitions","title":"5.2 Using Extended State in Transitions","text":"<pre><code>def compute_next_node(state: ReActState) -&gt; str:\n    \\\"\\\"\\\"Compute next node based on extended state.\\\"\\\"\\\"\n\n    # If cost limit exceeded \u2192 terminate\n    if state.metadata.get(\\\"total_cost\\\", 0) &gt; COST_LIMIT:\n        return \\\"__end__\\\"\n\n    # If retry count too high \u2192 escalate to human\n    if state.metadata.get(\\\"retry_count\\\", 0) &gt; 3:\n        return \\\"human_approval\\\"\n\n    # Normal flow\n    return \\\"thought\\\"\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#6-hierarchical-state-machines-subgraphs","title":"6. Hierarchical State Machines (Subgraphs)","text":""},{"location":"vers0.1.0/STATE_MACHINE/#61-subgraph-as-composite-state","title":"6.1 Subgraph as Composite State","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; MainFlow\n\n    state MainFlow {\n        [*] --&gt; Thought\n        Thought --&gt; AuthSubgraph\n        AuthSubgraph --&gt; Process\n        Process --&gt; [*]\n    }\n\n    state AuthSubgraph {\n        [*] --&gt; ValidateCredentials\n        ValidateCredentials --&gt; GenerateToken\n        GenerateToken --&gt; [*]\n    }\n</code></pre> <p>Implementation:</p> <pre><code>class SubGraph:\n    def __init__(self, name: str):\n        self.name = name\n        self.graph = StateGraph()\n\n    def as_node(self) -&gt; BaseNode:\n        \\\"\\\"\\\"Convert subgraph to node that can be embedded in parent.\\\"\\\"\\\"\n        return SubGraphNode(subgraph=self)\n\nclass SubGraphNode(BaseNode):\n    def __init__(self, subgraph: SubGraph):\n        self.subgraph = subgraph\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        # Execute subgraph to completion\n        subgraph_result = self.subgraph.graph.run(state)\n\n        # Merge results back to parent state\n        return replace(\n            state,\n            metadata={\n                **state.metadata,\n                **subgraph_result.metadata\n            }\n        )\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#7-state-persistence","title":"7. State Persistence","text":""},{"location":"vers0.1.0/STATE_MACHINE/#71-checkpointing-state","title":"7.1 Checkpointing State","text":"<pre><code>class CheckpointManager:\n    def save(self, state: ReActState) -&gt; None:\n        \\\"\\\"\\\"Save state to SQLite.\\\"\\\"\\\"\n        serialized = json.dumps(asdict(state))\n        self.conn.execute(\n            \\\"INSERT OR REPLACE INTO checkpoints VALUES (?, ?, ?)\\\",\n            (state.trace_id, serialized, time.time())\n        )\n        self.conn.commit()\n\n    def load(self, trace_id: str) -&gt; ReActState:\n        \\\"\\\"\\\"Restore state from checkpoint.\\\"\\\"\\\"\n        row = self.conn.execute(\n            \\\"SELECT state FROM checkpoints WHERE trace_id = ?\\\",\n            (trace_id,)\n        ).fetchone()\n\n        return ReActState(**json.loads(row[0])) if row else None\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#72-state-rollback","title":"7.2 State Rollback","text":"<pre><code>graph LR\n    S0[State @ Step 0] --&gt; S1[State @ Step 1]\n    S1 --&gt; S2[State @ Step 2]\n    S2 --&gt; S3[State @ Step 3]\n    S3 --&gt; S4[State @ Step 4]\n\n    S4 -.Rollback to Step 2.-&gt; S2\n    S2 --&gt; S5[State @ Step 2 + new path]\n</code></pre> <p>Implementation:</p> <pre><code>def rollback_to_step(state: ReActState, step_id: int) -&gt; ReActState:\n    \\\"\\\"\\\"Rollback state to specific step, discarding all subsequent steps.\\\"\\\"\\\"\n    if step_id &gt;= len(state.steps):\n        raise ValueError(f\\\"Invalid step_id: {step_id}\\\")\n\n    return replace(\n        state,\n        steps=state.steps[:step_id + 1],\n        current_node=\\\"thought\\\",  # Reset to beginning of cycle\n        metadata={\n            **state.metadata,\n            \\\"rolled_back_from\\\": len(state.steps),\n            \\\"rolled_back_to\\\": step_id\n        }\n    )\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#8-interrupt-handling-human-in-the-loop","title":"8. Interrupt Handling (Human-in-the-Loop)","text":""},{"location":"vers0.1.0/STATE_MACHINE/#81-interrupt-points","title":"8.1 Interrupt Points","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Thought\n    Thought --&gt; InterruptGate: Every N steps\n    InterruptGate --&gt; AwaitUser{User decision}\n    AwaitUser --&gt; Thought: Resume\n    AwaitUser --&gt; [*]: Abort\n    AwaitUser --&gt; Rollback: Rollback N steps\n    Rollback --&gt; Thought\n</code></pre> <p>Implementation:</p> <pre><code>class RuntimeExecutor:\n    def run(\n        self, \n        initial_state: ReActState,\n        interrupt_fn: Callable[[ReActState], bool] | None = None\n    ) -&gt; ReActState:\n        state = initial_state\n\n        for step_num in range(MAX_STEPS):\n            # Interrupt gate\n            if interrupt_fn and interrupt_fn(state):\n                decision = self._await_user_decision(state)\n\n                if decision[\\\"action\\\"] == \\\"abort\\\":\n                    return replace(state, terminated=True)\n                elif decision[\\\"action\\\"] == \\\"rollback\\\":\n                    state = rollback_to_step(state, decision[\\\"target_step\\\"])\n                # else: resume (continue loop)\n\n            # Execute next transition\n            state = self.graph.step(state)\n\n            if state.terminated:\n                break\n\n        return state\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#9-error-states","title":"9. Error States","text":""},{"location":"vers0.1.0/STATE_MACHINE/#91-error-handling-fsm","title":"9.1 Error Handling FSM","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; ExecuteNode\n    ExecuteNode --&gt; Success: No error\n    ExecuteNode --&gt; ErrorHandler: Exception caught\n\n    ErrorHandler --&gt; Classify{Error type?}\n    Classify --&gt; Retry: Transient\n    Classify --&gt; RecordObservation: Recoverable\n    Classify --&gt; Terminate: Fatal\n\n    Retry --&gt; ExecuteNode: After backoff\n    RecordObservation --&gt; NextNode\n    Terminate --&gt; [*]\n    Success --&gt; NextNode\n    NextNode --&gt; [*]\n</code></pre> <p>Implementation:</p> <pre><code>class ErrorHandlingNode(BaseNode):\n    def run(self, state: ReActState) -&gt; ReActState:\n        try:\n            return self._inner_run(state)\n        except TransientError as e:\n            # Retry with backoff\n            return self._schedule_retry(state, e)\n        except RecoverableError as e:\n            # Record error as observation, continue\n            return self._record_error_observation(state, e)\n        except FatalError as e:\n            # Terminate execution\n            return replace(\n                state,\n                terminated=True,\n                metadata={**state.metadata, \\\"fatal_error\\\": str(e)}\n            )\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#10-determinism-reproducibility","title":"10. Determinism &amp; Reproducibility","text":""},{"location":"vers0.1.0/STATE_MACHINE/#101-ensuring-determinism","title":"10.1 Ensuring Determinism","text":"<p>Sources of Non-determinism:</p> <ol> <li>LLM temperature &gt; 0</li> <li>Random tool selection</li> <li>Concurrent execution</li> <li>External API changes</li> </ol> <p>Mitigation:</p> <pre><code># 1. Set temperature to 0\nllm_config = {\\\"temperature\\\": 0.0}\n\n# 2. Seed RNG\nimport random\nrandom.seed(42)\n\n# 3. Sequential execution (no parallelism)\ngraph.run(state, parallel=False)\n\n# 4. Cache external API responses\n@lru_cache(maxsize=1000)\ndef fetch_external_data(query: str) -&gt; str:\n    return api.get(query)\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#102-replay-from-checkpoint","title":"10.2 Replay from Checkpoint","text":"<pre><code>def replay_execution(trace_id: str, up_to_step: int) -&gt; ReActState:\n    \\\"\\\"\\\"Replay execution deterministically from checkpoint.\\\"\\\"\\\"\n    checkpoint = CheckpointManager().load(trace_id)\n\n    # Restore state at target step\n    state = rollback_to_step(checkpoint, up_to_step)\n\n    # Re-execute from that point (should be deterministic)\n    return graph.run(state)\n</code></pre>"},{"location":"vers0.1.0/STATE_MACHINE/#end-of-state-machine-design","title":"End of State Machine Design","text":""},{"location":"vers0.1.0/TDD/","title":"Arkhon-Rheo + ReActEngine Test-Driven Development Strategy","text":"<p>Version: 1.0.0 Status: Draft Last Updated: 2026-02-14 Code Path: <code>src/arkhon-rheo/</code></p>"},{"location":"vers0.1.0/TDD/#1-tdd-principles-for-agent-systems","title":"1. TDD Principles for Agent Systems","text":""},{"location":"vers0.1.0/TDD/#11-why-tdd-for-agents","title":"1.1 Why TDD for Agents?","text":"<p>Challenges:</p> <ul> <li>Non-deterministic LLM outputs</li> <li>Complex state transitions</li> <li>External API dependencies</li> <li>Long execution loops</li> </ul> <p>Benefits:</p> <ul> <li>Catch edge cases early</li> <li>Document expected behavior</li> <li>Enable safe refactoring</li> <li>Build confidence in system reliability</li> </ul>"},{"location":"vers0.1.0/TDD/#12-core-philosophy","title":"1.2 Core Philosophy","text":"<pre><code>RED \u2192 GREEN \u2192 REFACTOR\n\n1. Write failing test (RED)\n2. Write minimal code to pass (GREEN)\n3. Improve code quality (REFACTOR)\n</code></pre> <p>Modified for Agents:</p> <pre><code>RED \u2192 MOCK \u2192 GREEN \u2192 VERIFY\n\n1. Write failing test with expected behavior\n2. Mock non-deterministic components (LLM, tools)\n3. Implement until test passes\n4. Verify with integration tests\n</code></pre>"},{"location":"vers0.1.0/TDD/#2-test-pyramid","title":"2. Test Pyramid","text":"<pre><code>     /\\\\\n    /E2E\\\\       5 tests  (Full agent workflows)\n   /------\\\\\n  /Integ  \\\\    30 tests (Multi-component integration)\n /----------\\\\\n/   Unit    \\\\  150 tests (Individual components)\n--------------\n</code></pre> <p>Distribution:</p> <ul> <li>70% Unit tests (fast, isolated)</li> <li>20% Integration tests (multi-component)</li> <li>10% E2E tests (full workflows)</li> </ul>"},{"location":"vers0.1.0/TDD/#3-unit-testing-strategy","title":"3. Unit Testing Strategy","text":""},{"location":"vers0.1.0/TDD/#31-testing-state-management","title":"3.1 Testing State Management","text":"<p>Test: State immutability</p> <pre><code># tests/unit/core/test_state.py\nimport pytest\nfrom dataclasses import FrozenInstanceError\nfrom arkhon_rheo.core.state import ReActState\n\ndef test_state_is_frozen():\n    \\\"\\\"\\\"States must be immutable to ensure event sourcing integrity.\\\"\\\"\\\"\n    state = ReActState(trace_id=\\\"test\\\", steps=[], current_node=\\\"thought\\\")\n\n    with pytest.raises(FrozenInstanceError):\n        state.trace_id = \\\"modified\\\"\n\ndef test_state_equality():\n    \\\"\\\"\\\"States with same data should be equal.\\\"\\\"\\\"\n    state1 = ReActState(trace_id=\\\"test\\\", steps=[], current_node=\\\"thought\\\")\n    state2 = ReActState(trace_id=\\\"test\\\", steps=[], current_node=\\\"thought\\\")\n\n    assert state1 == state2\n</code></pre>"},{"location":"vers0.1.0/TDD/#32-testing-nodes","title":"3.2 Testing Nodes","text":"<p>Test: ThoughtNode with mocked LLM</p> <pre><code># tests/unit/nodes/test_thought_node.py\nimport pytest\nfrom arkhon_rheo.nodes.thought_node import ThoughtNode\n\nclass MockLLM:\n    def generate(self, prompt: str, **kwargs) -&gt; str:\n        return \\\"I should search for information about X\\\"\n\ndef test_thought_node_creates_reasoning_step():\n    \\\"\\\"\\\"ThoughtNode should append new reasoning step with LLM output.\\\"\\\"\\\"\n    # Arrange\n    node = ThoughtNode(llm=MockLLM())\n    state = ReActState(trace_id=\\\"test\\\", steps=[], current_node=\\\"thought\\\")\n\n    # Act\n    new_state = node.run(state)\n\n    # Assert\n    assert len(new_state.steps) == 1\n    assert new_state.steps[0].thought == \\\"I should search for information about X\\\"\n    assert new_state.steps[0].status == \\\"draft\\\"\n    assert new_state.current_node == \\\"validate\\\"  # Transitions to next node\n</code></pre>"},{"location":"vers0.1.0/TDD/#33-testing-rules","title":"3.3 Testing Rules","text":"<p>Test: MaxDepthRule</p> <pre><code># tests/unit/rules/test_max_depth_rule.py\nfrom arkhon_rheo.rules.builtin import MaxDepthRule\nfrom arkhon_rheo.core.state import ReActState, ReasoningStep\n\ndef test_max_depth_rule_passes_when_under_limit():\n    \\\"\\\"\\\"Rule should pass when step count is below threshold.\\\"\\\"\\\"\n    rule = MaxDepthRule(max_depth=10)\n\n    state = ReActState(\n        trace_id=\\\"test\\\",\n        steps=[ReasoningStep(...) for _ in range(5)],  # 5 steps\n        current_node=\\\"thought\\\"\n    )\n\n    # Should not raise\n    rule.validate(state)\n\ndef test_max_depth_rule_fails_when_over_limit():\n    \\\"\\\"\\\"Rule should raise RuleViolationError when limit exceeded.\\\"\\\"\\\"\n    rule = MaxDepthRule(max_depth=10)\n\n    state = ReActState(\n        trace_id=\\\"test\\\",\n        steps=[ReasoningStep(...) for _ in range(15)],  # 15 steps (over limit)\n        current_node=\\\"thought\\\"\n    )\n\n    with pytest.raises(RuleViolationError) as exc_info:\n        rule.validate(state)\n\n    assert \\\"max_depth\\\" in str(exc_info.value)\n</code></pre>"},{"location":"vers0.1.0/TDD/#34-testing-tools","title":"3.4 Testing Tools","text":"<p>Test: Calculator tool</p> <pre><code># tests/unit/tools/test_calculator.py\nfrom arkhon_rheo.tools.builtin.calculator import CalculatorTool\n\ndef test_calculator_basic_arithmetic():\n    \\\"\\\"\\\"Calculator should evaluate simple expressions.\\\"\\\"\\\"\n    tool = CalculatorTool()\n\n    result = tool.execute(expression=\\\"2 + 2\\\")\n\n    assert result.success is True\n    assert result.output == \\\"4\\\"\n\ndef test_calculator_rejects_dangerous_input():\n    \\\"\\\"\\\"Calculator should reject eval/exec attempts.\\\"\\\"\\\"\n    tool = CalculatorTool()\n\n    with pytest.raises(SecurityError):\n        tool.execute(expression=\\\"__import__('os').system('ls')\\\")\n</code></pre>"},{"location":"vers0.1.0/TDD/#4-integration-testing-strategy","title":"4. Integration Testing Strategy","text":""},{"location":"vers0.1.0/TDD/#41-testing-graph-execution","title":"4.1 Testing Graph Execution","text":"<p>Test: Complete ReAct cycle</p> <pre><code># tests/integration/test_react_cycle.py\ndef test_full_react_cycle():\n    \\\"\\\"\\\"Test complete thought\u2192validate\u2192action\u2192observe\u2192commit cycle.\\\"\\\"\\\"\n    # Arrange\n    mock_llm = MockLLM()\n    mock_tools = MockToolRegistry()\n\n    graph = StateGraph()\n    graph.add_node(\\\"thought\\\", ThoughtNode(mock_llm))\n    graph.add_node(\\\"validate\\\", ValidateNode(RuleEngine()))\n    graph.add_node(\\\"action\\\", ActionNode(mock_tools))\n    graph.add_node(\\\"observe\\\", ObservationNode())\n    graph.add_node(\\\"commit\\\", CommitNode())\n\n    graph.add_edge(\\\"thought\\\", \\\"validate\\\")\n    graph.add_edge(\\\"validate\\\", \\\"action\\\")\n    graph.add_edge(\\\"action\\\", \\\"observe\\\")\n    graph.add_edge(\\\"observe\\\", \\\"commit\\\")\n    graph.add_edge(\\\"commit\\\", \\\"__end__\\\")\n\n    initial_state = ReActState(\n        trace_id=\\\"test\\\",\n        steps=[],\n        current_node=\\\"thought\\\"\n    )\n\n    # Act\n    result = graph.run(initial_state, max_steps=5)\n\n    # Assert\n    assert len(result.steps) &gt;= 1\n    assert result.steps[0].thought is not None\n    assert result.steps[0].action is not None\n    assert result.steps[0].observation is not None\n    assert result.steps[0].status == \\\"committed\\\"\n    assert result.terminated is True\n</code></pre>"},{"location":"vers0.1.0/TDD/#42-testing-multi-agent-coordination","title":"4.2 Testing Multi-Agent Coordination","text":"<p>Test: Coordinator delegating to specialists</p> <pre><code># tests/integration/test_multi_agent.py\ndef test_coordinator_delegates_to_specialists():\n    \\\"\\\"\\\"Coordinator should route tasks to appropriate specialist agents.\\\"\\\"\\\"\n    # Arrange\n    coordinator = CoordinatorAgent()\n    planner = PlanningAgent()\n    coder = CodingAgent()\n\n    task = \\\"Implement login validation\\\"\n\n    # Act\n    coordinator.assign_task(task)\n    plan = coordinator.await_response_from(planner)\n    code = coordinator.await_response_from(coder)\n\n    # Assert\n    assert plan is not None\n    assert \\\"steps\\\" in plan\n    assert code is not None\n    assert \\\"diff\\\" in code\n</code></pre>"},{"location":"vers0.1.0/TDD/#43-testing-checkpointrestore","title":"4.3 Testing Checkpoint/Restore","text":"<p>Test: Rollback to previous step</p> <pre><code># tests/integration/test_checkpointing.py\ndef test_rollback_restores_previous_state(tmp_path):\n    \\\"\\\"\\\"Checkpointing should allow rollback to any previous step.\\\"\\\"\\\"\n    # Arrange\n    checkpoint_mgr = CheckpointManager(tmp_path / \\\"test.db\\\")\n    graph = create_test_graph()\n\n    initial_state = ReActState(...)\n\n    # Act - Execute 5 steps\n    state_after_step_3 = None\n    for i in range(5):\n        state = graph.step(state)\n        checkpoint_mgr.save(state)\n        if i == 2:\n            state_after_step_3 = state\n\n    # Rollback to step 3\n    restored_state = checkpoint_mgr.load(state_after_step_3.trace_id)\n\n    # Assert\n    assert restored_state == state_after_step_3\n    assert len(restored_state.steps) == 3\n</code></pre>"},{"location":"vers0.1.0/TDD/#5-end-to-end-testing-strategy","title":"5. End-to-End Testing Strategy","text":""},{"location":"vers0.1.0/TDD/#51-real-world-scenarios","title":"5.1 Real-World Scenarios","text":"<p>Test: Research and summarize topic</p> <pre><code># tests/e2e/test_research_workflow.py\n@pytest.mark.e2e\n@pytest.mark.slow\ndef test_agent_researches_and_summarizes_topic():\n    \\\"\\\"\\\"Agent should search, gather info, and produce summary.\\\"\\\"\\\"\n    # This uses REAL LLM and tools (marked as slow test)\n\n    config = Config.from_yaml(\\\"config/test.yaml\\\")\n    graph = build_production_graph(config)\n\n    initial_state = ReActState(\n        trace_id=str(uuid.uuid4()),\n        steps=[],\n        current_node=\\\"thought\\\",\n        metadata={\\\"goal\\\": \\\"Research quantum computing basics\\\"}\n    )\n\n    # Run with 30s timeout\n    with timeout(30):\n        result = graph.run(initial_state, max_steps=20)\n\n    # Verify\n    assert result.terminated\n    assert len(result.steps) &gt;= 3  # At least search, read, summarize\n\n    # Check that search tool was used\n    actions = [s.action for s in result.steps if s.action]\n    assert \\\"search\\\" in actions\n\n    # Check summary quality (basic heuristic)\n    final_thought = result.steps[-1].thought\n    assert len(final_thought) &gt; 100  # Non-trivial summary\n    assert \\\"quantum\\\" in final_thought.lower()\n</code></pre>"},{"location":"vers0.1.0/TDD/#52-failure-recovery","title":"5.2 Failure Recovery","text":"<p>Test: Agent recovers from tool failure</p> <pre><code>@pytest.mark.e2e\ndef test_agent_recovers_from_tool_failure():\n    \\\"\\\"\\\"Agent should retry or use alternative when tool fails.\\\"\\\"\\\"\n    graph = build_test_graph_with_flaky_tool()\n\n    initial_state = ReActState(...)\n\n    result = graph.run(initial_state, max_steps=10)\n\n    # Verify retry or alternative action taken\n    failed_steps = [s for s in result.steps if s.status == \\\"failed\\\"]\n    assert len(failed_steps) &gt;= 1  # Tool failed at least once\n\n    successful_steps = [s for s in result.steps if s.status == \\\"committed\\\"]\n    assert len(successful_steps) &gt;= 1  # Eventually succeeded\n</code></pre>"},{"location":"vers0.1.0/TDD/#6-tdd-workflow-example","title":"6. TDD Workflow Example","text":""},{"location":"vers0.1.0/TDD/#61-implementing-a-new-node-red-green-refactor","title":"6.1 Implementing a New Node (RED \u2192 GREEN \u2192 REFACTOR)","text":""},{"location":"vers0.1.0/TDD/#step-1-red-write-failing-test","title":"Step 1: RED - Write failing test","text":"<pre><code># tests/unit/nodes/test_summarize_node.py\ndef test_summarize_node_condenses_previous_steps():\n    \\\"\\\"\\\"SummarizeNode should create concise summary of previous steps.\\\"\\\"\\\"\n    # Arrange\n    node = SummarizeNode(llm=MockLLM())\n    state = ReActState(\n        steps=[\n            ReasoningStep(thought=\\\"Step 1\\\", ...),\n            ReasoningStep(thought=\\\"Step 2\\\", ...),\n            ReasoningStep(thought=\\\"Step 3\\\", ...)\n        ]\n    )\n\n    # Act\n    new_state = node.run(state)\n\n    # Assert\n    assert \\\"summary\\\" in new_state.metadata\n    assert len(new_state.metadata[\\\"summary\\\"]) &lt; sum(len(s.thought) for s in state.steps)\n</code></pre> <p>Run: <code>pytest tests/unit/nodes/test_summarize_node.py</code></p> <p>Result: \u274c FAIL (SummarizeNode doesn't exist)</p>"},{"location":"vers0.1.0/TDD/#step-2-green-implement-minimal-code","title":"Step 2: GREEN - Implement minimal code","text":"<pre><code># arkhon_rheo/nodes/summarize_node.py\nfrom arkhon_rheo.nodes.base import BaseNode\n\nclass SummarizeNode(BaseNode):\n    def __init__(self, llm):\n        self.llm = llm\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        # Minimal implementation\n        all_thoughts = \\\" \\\".join(s.thought for s in state.steps)\n        summary = self.llm.generate(f\\\"Summarize: {all_thoughts}\\\")\n\n        return replace(state, metadata={\n            **state.metadata,\n            \\\"summary\\\": summary\n        })\n</code></pre> <p>Run: <code>pytest tests/unit/nodes/test_summarize_node.py</code></p> <p>Result: \u2705 PASS</p>"},{"location":"vers0.1.0/TDD/#step-3-refactor-improve-code-quality","title":"Step 3: REFACTOR - Improve code quality","text":"<pre><code>class SummarizeNode(BaseNode):\n    \\\"\\\"\\\"Node that condenses previous reasoning steps into a concise summary.\\\"\\\"\\\"\n\n    MAX_CONTEXT_LENGTH = 2000  # Characters\n\n    def __init__(self, llm: LLMClient):\n        self.llm = llm\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        context = self._build_context(state.steps)\n        summary = self._generate_summary(context)\n\n        logger.info(\n            \\\"summary_generated\\\",\n            original_length=len(context),\n            summary_length=len(summary)\n        )\n\n        return replace(state, metadata={\n            **state.metadata,\n            \\\"summary\\\": summary\n        })\n\n    def _build_context(self, steps: list[ReasoningStep]) -&gt; str:\n        \\\"\\\"\\\"Build context from reasoning steps, truncating if needed.\\\"\\\"\\\"\n        context = \\\"\\\\n\\\".join(\n            f\\\"Step {s.id}: {s.thought}\\\" for s in steps\n        )\n\n        if len(context) &gt; self.MAX_CONTEXT_LENGTH:\n            context = context[:self.MAX_CONTEXT_LENGTH] + \\\"...\\\"\n\n        return context\n\n    def _generate_summary(self, context: str) -&gt; str:\n        \\\"\\\"\\\"Generate LLM summary with retry logic.\\\"\\\"\\\"\n        prompt = f\\\"Provide a concise summary of the following reasoning:\\\\n{context}\\\"\n\n        for attempt in range(3):\n            try:\n                return self.llm.generate(prompt, max_tokens=200)\n            except Exception as e:\n                if attempt == 2:\n                    raise\n                time.sleep(2 ** attempt)\n</code></pre> <p>Run: <code>pytest tests/unit/nodes/test_summarize_node.py</code></p> <p>Result: \u2705 PASS (with improved code quality)</p>"},{"location":"vers0.1.0/TDD/#7-test-fixtures","title":"7. Test Fixtures","text":""},{"location":"vers0.1.0/TDD/#71-common-fixtures","title":"7.1 Common Fixtures","text":"<pre><code># tests/conftest.py\nimport pytest\nfrom arkhon_rheo.core.state import ReActState, ReasoningStep\n\n@pytest.fixture\ndef mock_llm():\n    class MockLLM:\n        def generate(self, prompt: str, **kwargs) -&gt; str:\n            if \\\"search\\\" in prompt.lower():\n                return \\\"I should search for information\\\"\n            elif \\\"summarize\\\" in prompt.lower():\n                return \\\"Summary: ...\\\"\n            return \\\"Default response\\\"\n    return MockLLM()\n\n@pytest.fixture\ndef sample_state():\n    return ReActState(\n        trace_id=\\\"test-123\\\",\n        steps=[],\n        current_node=\\\"thought\\\",\n        metadata={},\n        terminated=False\n    )\n\n@pytest.fixture\ndef sample_state_with_steps():\n    return ReActState(\n        trace_id=\\\"test-456\\\",\n        steps=[\n            ReasoningStep(id=0, thought=\\\"Thought 1\\\", status=\\\"committed\\\"),\n            ReasoningStep(id=1, thought=\\\"Thought 2\\\", status=\\\"committed\\\"),\n        ],\n        current_node=\\\"action\\\"\n    )\n\n@pytest.fixture\ndef tool_registry():\n    from arkhon_rheo.tools.registry import ToolRegistry\n    registry = ToolRegistry()\n    # Register mock tools\n    return registry\n\n@pytest.fixture\ndef checkpoint_db(tmp_path):\n    return CheckpointManager(tmp_path / \\\"test.db\\\")\n</code></pre>"},{"location":"vers0.1.0/TDD/#8-mocking-strategies","title":"8. Mocking Strategies","text":""},{"location":"vers0.1.0/TDD/#81-mocking-llm-responses","title":"8.1 Mocking LLM Responses","text":"<pre><code>class PredictableLLM:\n    \\\"\\\"\\\"LLM that returns deterministic responses based on prompt keywords.\\\"\\\"\\\"\n\n    def __init__(self, response_map: dict[str, str]):\n        self.response_map = response_map\n\n    def generate(self, prompt: str, **kwargs) -&gt; str:\n        for keyword, response in self.response_map.items():\n            if keyword in prompt.lower():\n                return response\n        return \\\"Default response\\\"\n\n# Usage in test\nllm = PredictableLLM({\n    \\\"search for\\\": \\\"I should use the search tool\\\",\n    \\\"calculate\\\": \\\"I should use the calculator tool\\\"\n})\n</code></pre>"},{"location":"vers0.1.0/TDD/#82-mocking-tools","title":"8.2 Mocking Tools","text":"<pre><code>class MockTool(Tool):\n    name = \\\"mock_tool\\\"\n    description = \\\"Mock tool for testing\\\"\n\n    def __init__(self, return_value: str = \\\"Mock result\\\"):\n        self._return_value = return_value\n\n    def execute(self, **kwargs) -&gt; ToolResult:\n        return ToolResult(\n            success=True,\n            output=self._return_value,\n            metadata={\\\"mock\\\": True}\n        )\n</code></pre>"},{"location":"vers0.1.0/TDD/#9-code-coverage","title":"9. Code Coverage","text":""},{"location":"vers0.1.0/TDD/#91-coverage-goals","title":"9.1 Coverage Goals","text":"Component Target Coverage Current core/ 95% TBD nodes/ 90% TBD tools/ 85% TBD rules/ 95% TBD Overall 90% TBD"},{"location":"vers0.1.0/TDD/#92-generate-coverage-report","title":"9.2 Generate Coverage Report","text":"<pre><code># Run tests with coverage\npytest --cov=arkhon_rheo --cov-report=html\n\n# View report\nopen htmlcov/index.html\n</code></pre>"},{"location":"vers0.1.0/TDD/#93-coverage-in-ci","title":"9.3 Coverage in CI","text":"<pre><code># .github/workflows/test.yml\n- name: Run tests with coverage\n  run: |\n    pytest --cov=arkhon_rheo --cov-report=xml\n\n- name: Upload coverage\n  uses: codecov/codecov-action@v3\n  with:\n    file: ./coverage.xml\n    fail_ci_if_error: true\n</code></pre>"},{"location":"vers0.1.0/TDD/#10-test-organization","title":"10. Test Organization","text":"<pre><code>tests/\n\u251c\u2500\u2500 unit/\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 test_state.py\n\u2502   \u2502   \u251c\u2500\u2500 test_graph.py\n\u2502   \u2502   \u2514\u2500\u2500 test_step.py\n\u2502   \u251c\u2500\u2500 nodes/\n\u2502   \u2502   \u251c\u2500\u2500 test_thought_node.py\n\u2502   \u2502   \u251c\u2500\u2500 test_action_node.py\n\u2502   \u2502   \u2514\u2500\u2500 test_validate_node.py\n\u2502   \u251c\u2500\u2500 tools/\n\u2502   \u2502   \u251c\u2500\u2500 test_registry.py\n\u2502   \u2502   \u2514\u2500\u2500 builtin/\n\u2502   \u2502       \u251c\u2500\u2500 test_search.py\n\u2502   \u2502       \u2514\u2500\u2500 test_calculator.py\n\u2502   \u2514\u2500\u2500 rules/\n\u2502       \u251c\u2500\u2500 test_rule_engine.py\n\u2502       \u2514\u2500\u2500 test_builtin_rules.py\n\u251c\u2500\u2500 integration/\n\u2502   \u251c\u2500\u2500 test_react_cycle.py\n\u2502   \u251c\u2500\u2500 test_multi_agent.py\n\u2502   \u2514\u2500\u2500 test_checkpointing.py\n\u251c\u2500\u2500 e2e/\n\u2502   \u251c\u2500\u2500 test_research_workflow.py\n\u2502   \u2514\u2500\u2500 test_coding_workflow.py\n\u2514\u2500\u2500 conftest.py\n</code></pre>"},{"location":"vers0.1.0/TDD/#end-of-tdd-strategy-document","title":"End of TDD Strategy Document","text":""},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/","title":"\u5efa\u69cbAI\u4ee3\u7406\u4eba\u7cfb\u7d71 [AI-Agentic System]","text":"<p>\u6839\u64da\u63d0\u4f9b\u7684\u8cc7\u6e90\uff0c\u5efa\u69cb\u4e00\u500b\u7a69\u5065\u4e14\u751f\u7522\u7d1a\u7684\u4ee3\u7406\u4eba\u7cfb\u7d71\uff08Agent System\uff09\u4e26\u975e\u55ae\u4e00\u6280\u80fd\u53ef\u4ee5\u5b8c\u6210\uff0c\u800c\u662f\u9700\u8981\u7d50\u5408\u67b6\u69cb\u8a2d\u8a08\u3001\u6838\u5fc3\u7d44\u4ef6\u69cb\u5efa\u3001\u5de5\u4f5c\u6d41\u7a0b\u7de8\u6392\u4ee5\u53ca\u8a55\u4f30\u6e2c\u8a66\u7b49\u591a\u500b\u7dad\u5ea6\u7684\u6280\u80fd\u3002</p> <p>\u4ee5\u4e0b\u662f\u6839\u64da\u300cAntigravity Agentic Skills Directory\u300d\u6574\u7406\u51fa\u6700\u9069\u5408\u5efa\u69cb\u4ee3\u7406\u4eba\u7cfb\u7d71\u7684\u6280\u80fd\u7d44\u5408\u5efa\u8b70\uff1a</p>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#1-the-brain-blueprint","title":"1. \u6838\u5fc3\u67b6\u69cb\u8207\u8a2d\u8a08 (The Brain &amp; Blueprint)","text":"<p>\u9019\u90e8\u5206\u6c7a\u5b9a\u4e86\u4ee3\u7406\u4eba\u5982\u4f55\u601d\u8003\u3001\u898f\u5283\u4ee5\u53ca\u7cfb\u7d71\u7684\u6574\u9ad4\u85cd\u5716\u3002</p> <ul> <li><code>ai-agents-architect</code>\uff1a\u9019\u662f\u6700\u6838\u5fc3\u7684\u6280\u80fd\u3002\u8ca0\u8cac\u81ea\u4e3b\u4ee3\u7406\u7684\u7e3d\u9ad4\u8a2d\u8a08\uff0c\u7cbe\u901a\u5de5\u5177\u4f7f\u7528\u3001\u8a18\u61b6\u9ad4\u7cfb\u7d71\u3001\u898f\u5283\u7b56\u7565\u4ee5\u53ca\u591a\u4ee3\u7406\u7de8\u6392\u3002</li> <li><code>autonomous-agents</code>\uff1a\u5c08\u6ce8\u65bc\u4ee3\u7406\u7684\u5167\u90e8\u5faa\u74b0\uff08\u5982 ReAct\u3001Plan-Execute \u5faa\u74b0\uff09\u548c\u76ee\u6a19\u5206\u89e3\u3002\u6b64\u6280\u80fd\u5f37\u8abf\u300c\u53ef\u9760\u6027\u300d\uff0c\u89e3\u6c7a\u932f\u8aa4\u7d2f\u7a4d\u6703\u5c0e\u81f4\u4ee3\u7406\u5931\u6557\u7684\u554f\u984c\u3002</li> <li><code>multi-agent-patterns</code>\uff1a\u5982\u679c\u60a8\u7684\u7cfb\u7d71\u6d89\u53ca\u591a\u500b\u4ee3\u7406\u5354\u4f5c\uff0c\u6b64\u6280\u80fd\u6db5\u84cb\u4e3b\u7de8\u6392\u5668 (Master Orchestrator)\u3001\u9ede\u5c0d\u9ede (P2P) \u548c\u5206\u5c64\u67b6\u69cb\u7684\u8a2d\u8a08\u6a21\u5f0f\u3002</li> </ul>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#2-the-skeleton","title":"2. \u958b\u767c\u6846\u67b6\u8207\u5be6\u4f5c (The Skeleton)","text":"<p>\u9078\u64c7\u6b63\u78ba\u7684\u6846\u67b6\u4f86\u843d\u5be6\u8a2d\u8a08\u3002</p> <ul> <li><code>langgraph</code>\uff1a\u76ee\u524d\u88ab\u63a8\u85a6\u70ba\u5efa\u69cb\u300c\u6709\u72c0\u614b\u300d\uff08Stateful\uff09\u3001\u591a\u53c3\u8207\u8005 AI \u61c9\u7528\u7684\u751f\u7522\u7d1a\u6846\u67b6\u3002\u5b83\u652f\u63f4\u5faa\u74b0\uff08Loops\uff09\u3001\u5206\u652f\u548c\u6301\u4e45\u5316\uff0c\u662f\u5c07\u4ee3\u7406\u5f9e\u7c21\u55ae\u8173\u672c\u8f49\u5316\u70ba\u8907\u96dc\u61c9\u7528\u7684\u95dc\u9375\u3002</li> <li><code>langchain-architecture</code>\uff1a\u7528\u65bc\u8a2d\u8a08\u4ee3\u7406\u67b6\u69cb\u7684\u901a\u7528\u6a21\u5f0f\uff0c\u6574\u5408\u4ee3\u7406\u3001\u8a18\u61b6\u9ad4\u548c\u5de5\u5177\u3002</li> <li><code>ai-engineer</code>\uff1a\u8ca0\u8cac\u5c07\u9019\u4e9b\u8a2d\u8a08\u8f49\u5316\u70ba\u751f\u7522\u7d1a\u4ee3\u78bc\uff0c\u6574\u5408\u5411\u91cf\u641c\u5c0b\u548c\u591a\u6a21\u614b\u80fd\u529b\u3002</li> </ul>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#3-the-memory","title":"3. \u8a18\u61b6\u8207\u4e0a\u4e0b\u6587\u7ba1\u7406 (The Memory)","text":"<p>\u6c92\u6709\u8a18\u61b6\u7684\u4ee3\u7406\u6bcf\u6b21\u4e92\u52d5\u90fd\u6703\u6b78\u96f6\uff0c\u7121\u6cd5\u8655\u7406\u8907\u96dc\u4efb\u52d9\u3002</p> <ul> <li><code>agent-memory-systems</code>\uff1a\u9019\u662f\u667a\u6167\u9ad4\u7684\u57fa\u77f3\u3002\u6db5\u84cb\u77ed\u671f\u8a18\u61b6\uff08\u4e0a\u4e0b\u6587\u8996\u7a97\uff09\u8207\u9577\u671f\u8a18\u61b6\uff08\u5411\u91cf\u5132\u5b58\uff09\u7684\u67b6\u69cb\uff0c\u4ee5\u53ca\u6c7a\u5b9a\u4ee3\u7406\u300c\u8a18\u4f4f\u6216\u907a\u5fd8\u300d\u7684\u6aa2\u7d22\u7b56\u7565\u3002</li> <li><code>context-manager</code>\uff1a\u8ca0\u8cac\u52d5\u614b\u7ba1\u7406\u4e0a\u4e0b\u6587\uff0c\u78ba\u4fdd\u5728\u591a\u4ee3\u7406\u5de5\u4f5c\u6d41\u7a0b\u548c\u9577\u671f\u5c08\u6848\u4e2d\uff0c\u8cc7\u8a0a\u6d41\u4e0d\u6703\u4e2d\u65b7\u6216\u300c\u8150\u721b\u300d\u3002</li> <li><code>context-window-management</code>\uff1a\u5c08\u9580\u8655\u7406 LLM \u4e0a\u4e0b\u6587\u8996\u7a97\u7684\u9650\u5236\uff0c\u900f\u904e\u6458\u8981\u548c\u4fee\u526a\u7b56\u7565\u4f86\u512a\u5316 Token \u4f7f\u7528\u6548\u7387\u3002</li> </ul>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#4-the-hands","title":"4. \u5de5\u5177\u8207\u4e92\u52d5\u80fd\u529b (The Hands)","text":"<p>\u4ee3\u7406\u9700\u8981\u5de5\u5177\u624d\u80fd\u8207\u5916\u90e8\u4e16\u754c\u4e92\u52d5\u3002</p> <ul> <li><code>agent-tool-builder</code>\uff1a\u6975\u70ba\u95dc\u9375\u7684\u6280\u80fd\u3002\u91cd\u9ede\u5728\u65bc\u8a2d\u8a08\u9ad8\u54c1\u8cea\u7684\u5de5\u5177\u63cf\u8ff0\uff08\u5982 JSON Schema\uff09\uff0c\u56e0\u70ba\u300c\u5de5\u5177\u63cf\u8ff0\u6bd4\u5de5\u5177\u5be6\u4f5c\u66f4\u91cd\u8981\u300d\uff0c\u8a2d\u8a08\u4e0d\u826f\u7684\u5de5\u5177\u6703\u5c0e\u81f4\u4ee3\u7406\u7522\u751f\u5e7b\u89ba\u6216\u5931\u6557\u3002</li> <li><code>mcp-builder</code>\uff1a\u5efa\u7acb\u7b26\u5408\u6a21\u578b\u4e0a\u4e0b\u6587\u5354\u5b9a\uff08MCP\uff09\u7684\u4f3a\u670d\u5668\uff0c\u9019\u662f\u8b93 LLM \u9023\u63a5\u5916\u90e8\u670d\u52d9\u548c\u8cc7\u6599\u7684\u65b0\u8208\u6a19\u6e96\u4ecb\u9762\u3002</li> <li><code>context7-auto-research</code>\uff1a\u900f\u904e Context7 API \u81ea\u52d5\u53d6\u5f97\u8981\u8abf\u67e5\u7684\u6700\u65b0\u5eab/\u6846\u67b6\u6587\u6a94 (id/lib/doc)</li> </ul>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#5-the-nervous-system","title":"5. \u7a69\u5b9a\u6027\u8207\u5de5\u4f5c\u6d41\u7a0b (The Nervous System)","text":"<p>\u78ba\u4fdd\u4ee3\u7406\u5728\u9047\u5230\u932f\u8aa4\u6216\u7db2\u8def\u554f\u984c\u6642\u80fd\u6062\u5fa9\uff0c\u800c\u4e0d\u662f\u5d29\u6f70\u3002</p> <ul> <li><code>workflow-automation</code>\uff1a\u4ee3\u7406\u53ef\u9760\u6027\u7684\u57fa\u790e\u8a2d\u65bd\u3002\u4f7f\u7528\u5982 Temporal \u6216 n8n \u7b49\u5de5\u5177\uff0c\u78ba\u4fdd\u9577\u6d41\u7a0b\uff08\u5982 10 \u6b65\u9a5f\u7684\u4efb\u52d9\uff09\u5177\u6709\u6301\u4e45\u57f7\u884c\u80fd\u529b\uff0c\u767c\u751f\u6545\u969c\u6642\u53ef\u5f9e\u65b7\u9ede\u6062\u5fa9\u3002</li> <li><code>agent-orchestration-multi-agent-optimize</code>\uff1a\u900f\u904e\u6210\u672c\u611f\u77e5\u7de8\u6392\u548c\u5de5\u4f5c\u8ca0\u8f09\u5206\u914d\uff0c\u512a\u5316\u591a\u4ee3\u7406\u7cfb\u7d71\u7684\u541e\u5410\u91cf\u8207\u7a69\u5b9a\u6027\u3002</li> </ul>"},{"location":"vers0.1.0/workflows_ai-agentic-system-builder/#6-the-quality-control","title":"6. \u8a55\u4f30\u8207\u76e3\u63a7 (The Quality Control)","text":"<p>\u4ee3\u7406\u7cfb\u7d71\u5f80\u5f80\u4e0d\u53ef\u9810\u6e2c\uff0c\u9700\u8981\u56b4\u683c\u7684\u6e2c\u8a66\u3002</p> <ul> <li><code>agent-evaluation</code>\uff1a\u5c0d\u4ee3\u7406\u9032\u884c\u884c\u70ba\u6e2c\u8a66\u3001\u80fd\u529b\u8a55\u4f30\u548c\u57fa\u6e96\u6e2c\u8a66\u3002\u8cc7\u6e90\u6307\u51fa\uff0c\u5373\u4f7f\u662f\u9802\u5c16\u4ee3\u7406\u5728\u771f\u5be6\u4e16\u754c\u57fa\u6e96\u6e2c\u8a66\u4e2d\u4e5f\u5e38\u9054\u4e0d\u5230 50% \u7684\u6210\u529f\u7387\uff0c\u56e0\u6b64\u6b64\u6280\u80fd\u4e0d\u53ef\u6216\u7f3a\u3002</li> <li><code>langfuse</code>\uff1a\u63d0\u4f9b LLM \u7684\u53ef\u89c0\u6e2c\u6027\uff08Observability\uff09\uff0c\u5305\u62ec\u8ffd\u8e64\uff08Tracing\uff09\u3001\u63d0\u793a\u7ba1\u7406\u548c\u8a55\u4f30\uff0c\u5e6b\u52a9\u958b\u767c\u8005\u770b\u898b\u4ee3\u7406\u5167\u90e8\u7684\u601d\u8003\u904e\u7a0b\u3002</li> <li><code>agent-orchestration-improve-agent</code>\uff1a\u900f\u904e\u6027\u80fd\u5206\u6790\u548c\u6301\u7e8c\u8fed\u4ee3\uff0c\u7cfb\u7d71\u5316\u5730\u6539\u9032\u73fe\u6709\u4ee3\u7406\u7684\u8868\u73fe\u3002</li> </ul> <p>\u7e3d\u7d50\u5efa\u8b70\uff1a \u82e5\u8981\u7d44\u5efa\u4e00\u500b\u6700\u5c0f\u53ef\u884c\u6027\uff08MVP\uff09\u7684\u4ee3\u7406\u4eba\u958b\u767c\u5718\u968a\uff0c\u5efa\u8b70\u81f3\u5c11\u9700\u8981\u638c\u63e1</p> <ol> <li><code>ai-agents-architect</code>\uff08\u67b6\u69cb\uff09</li> <li><code>langgraph</code>\uff08\u5be6\u4f5c\uff09</li> <li><code>agent-tool-builder</code>\uff08\u5de5\u5177\uff09</li> <li><code>agent-memory-systems</code>\uff08\u8a18\u61b6\uff09</li> <li><code>agent-evaluation</code>\uff08\u6e2c\u8a66\uff09</li> </ol> <p>\u4ee5\u4e0a\u9019\u4e94\u9805\u6838\u5fc3\u6280\u80fd\u3002</p>"},{"location":"vers0.1.0/oop/","title":"Arkhon-Rheo OOP Architecture Design","text":"<p>\u672c\u76ee\u9304\u5305\u542b\u4e86 Arkhon-Rheo \u6846\u67b6\u7684\u5b8c\u6574\u7269\u4ef6\u5c0e\u5411\u8a2d\u8a08 (OOP) \u67b6\u69cb\u3002\u8a72\u8a2d\u8a08\u6db5\u84cb\u4e86\u5f9e\u57fa\u790e\u5f15\u64ce\u5230\u591a\u4ee3\u7406\u5354\u4f5c\u3001\u8a18\u61b6\u7cfb\u7d71\u4ee5\u53ca\u6700\u7d42\u767c\u4f48\u7684\u6240\u6709\u968e\u6bb5\u3002</p>"},{"location":"vers0.1.0/oop/#_1","title":"\ud83c\udfaf \u8a2d\u8a08\u76ee\u6a19","text":"<p>\u5efa\u7acb\u4e00\u500b\u4f01\u696d\u7d1a\u3001\u751f\u7522\u5c31\u7dd2\u4e14\u9ad8\u5ea6\u53ef\u64f4\u5c55\u7684 Python AI \u6846\u67b6\u3002</p> <ul> <li>\u9ad8\u5ea6\u89e3\u8026: \u57fa\u65bc SOLID \u539f\u5247\uff0c\u5404\u6a21\u7d44\u8077\u8cac\u660e\u78ba\u3002</li> <li>\u985e\u578b\u5b89\u5168: \u5168\u9762\u63a1\u7528 Python 3.12+ \u985e\u578b\u6a19\u8a3b\u8207 <code>mypy</code> \u56b4\u683c\u6aa2\u67e5\u3002</li> <li>\u53ef\u6e2c\u8a66\u6027: \u900f\u904e\u4f9d\u8cf4\u6ce8\u5165\u8207\u62bd\u8c61\u57fa\u985e\u78ba\u4fdd\u6838\u5fc3\u908f\u8f2f\u6613\u65bc\u55ae\u5143\u6e2c\u8a66\u3002</li> <li>\u4e8b\u4ef6\u9a45\u52d5: \u6838\u5fc3\u72c0\u614b\u63a1\u7528\u4e0d\u53ef\u8b8a\u5c0d\u8c61\u8207\u4e8b\u4ef6\u6eaf\u6e90 (Event Sourcing) \u6a21\u5f0f\u3002</li> </ul>"},{"location":"vers0.1.0/oop/#_2","title":"\ud83d\udcda \u6587\u4ef6\u6e05\u55ae\u8207\u5c0e\u89bd","text":"<p>\u6211\u5011\u63d0\u4f9b\u4e86\u591a\u500b\u7dad\u5ea6\u7684\u6587\u6a94\u4f86\u5354\u52a9\u958b\u767c\u8005\u7406\u89e3\u8207\u5be6\u4f5c\uff1a</p> \u9806\u5e8f \u6587\u4ef6\u540d\u7a31 \u63cf\u8ff0 \u6838\u5fc3\u5167\u5bb9 01 Walkthrough \u8a2d\u8a08\u7e3d\u7d50 (\u63a8\u85a6\u9996\u8b80) \u6574\u9ad4\u67b6\u69cb\u4eae\u9ede\u3001\u7d71\u8a08\u6578\u64da\u8207\u5be6\u4f5c\u6b65\u9a5f\u3002 02 Class Inventory \u985e\u5225\u6e05\u55ae 55 \u500b\u985e\u5225\u7684\u8077\u8cac\u3001\u6240\u5c6c\u6a21\u7d44\u8207\u8a2d\u8a08\u6a21\u5f0f\u3002 03 Methods &amp; Properties API \u53c3\u8003 142 \u500b\u65b9\u6cd5\u8207 99 \u500b\u5c6c\u6027\u7684\u8a73\u7d30\u7c3d\u540d\u8207\u8aaa\u660e\u3002 04 Class Diagram UML \u985e\u5716 \u4f7f\u7528 Mermaid \u8996\u89ba\u5316\u5c55\u793a\u985e\u5225\u9593\u7684\u7e7c\u627f\u8207\u7d44\u5408\u95dc\u4fc2\u3002 05 CRC Cards \u8077\u8cac\u5361\u7247 12 \u500b\u6838\u5fc3\u985e\u5225\u7684\u8a73\u7d30\u8077\u8cac (Responsibility) \u8207\u5354\u4f5c\u8005 (Collaborator)\u3002 06 Typing Guide \u958b\u767c\u898f\u7bc4 \u95dc\u65bc Type Hints \u8207 Google Style Docstrings \u7684\u6700\u4f73\u5be6\u8e10\u3002 07 Task Tracking \u4efb\u52d9\u72c0\u614b \u67b6\u69cb\u8a2d\u8a08\u968e\u6bb5\u7684\u4efb\u52d9\u5b8c\u6210\u9032\u5ea6\u8ffd\u8e64\u3002"},{"location":"vers0.1.0/oop/#_3","title":"\ud83c\udfd7\ufe0f \u67b6\u69cb\u6458\u8981","text":""},{"location":"vers0.1.0/oop/#_4","title":"\u8a2d\u8a08\u6a21\u5f0f\u61c9\u7528","text":"<ul> <li>Template Method: \u7528\u65bc <code>BaseNode</code> \u5b9a\u7fa9\u7b97\u6cd5\u9aa8\u67b6\u3002</li> <li>Strategy: \u7528\u65bc <code>Tool</code> \u8207 <code>VectorStore</code> \u7684\u591a\u6a23\u5316\u5be6\u73fe\u3002</li> <li>Mediator: <code>Coordinator</code> \u8ca0\u8cac\u591a\u4ee3\u7406\u9593\u7684\u8a0a\u606f\u8abf\u5ea6\u3002</li> <li>Memento: <code>CheckpointManager</code> \u8ca0\u8cac\u72c0\u614b\u5099\u4efd\u8207\u56de\u6efe\u3002</li> </ul>"},{"location":"vers0.1.0/oop/#_5","title":"\u5206\u5c64\u7d50\u69cb","text":"<pre><code>graph TD\n    CLI[PHASE 4: CLI/Framework] --&gt; Memory[PHASE 3: Memory Systems]\n    Memory --&gt; Agents[PHASE 2: Multi-Agent Architecture]\n    Agents --&gt; Core[PHASE 1: Foundation/Engine]\n    Core --&gt; Config[Config &amp; Rules]\n</code></pre>"},{"location":"vers0.1.0/oop/#phase-1","title":"\ud83d\ude80 \u5feb\u901f\u5be6\u4f5c\u6307\u5357 (Phase 1)","text":"<p>\u5c0d\u65bc\u6e96\u5099\u958b\u59cb\u7de8\u5beb\u7a0b\u5f0f\u78bc\u7684\u958b\u767c\u8005\uff0c\u8acb\u9996\u5148\u95b1\u8b80 Implementation Flow\u3002</p> <p>\u5efa\u8b70\u9075\u5faa\u4ee5\u4e0b\u9806\u5e8f\uff1a</p> <ol> <li>\u5b9a\u7fa9\u5143\u6578\u64da: \u5be6\u4f5c <code>ReasoningStep</code> \u8207\u4e0d\u53ef\u8b8a\u7684 <code>ReActState</code>\u3002</li> <li>\u5efa\u7acb\u57f7\u884c\u5716: \u5be6\u4f5c <code>StateGraph</code> \u7684\u7bc0\u9ede\u7ba1\u7406\u8207\u908a\u7de3\u8df3\u8f49\u908f\u8f2f\u3002</li> <li>\u62bd\u8c61\u57fa\u985e: \u5b9a\u7fa9 <code>BaseNode</code> \u8207 <code>Tool</code> \u7684\u5354\u8b70 (Protocol)\u3002</li> <li>\u898f\u5247\u9a57\u8b49: \u5be6\u4f5c <code>RuleEngine</code> \u4ee5\u78ba\u4fdd\u63a8\u7406\u904e\u7a0b\u7b26\u5408\u7d04\u675f\u3002</li> </ol> <p>\u8a73\u7d30\u5be6\u4f5c\u7d30\u7bc0\u8acb\u53c3\u8003 Typing Guide \u4e2d\u7684\u4ee3\u78bc\u7bc4\u4f8b\u3002</p> <p>\u72c0\u614b: \u2705 \u8a2d\u8a08\u5b8c\u6210 | \u7248\u672c: 1.0.0</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/","title":"Arkhon-Rheo Phase 1 Implementation Flow","text":"<p>Status: Active Phase: 1 (Foundation) Goal: Build the immutable state machine engine.</p> <p>This document bridges the high-level ROADMAP.md with the detailed Class Inventory. It provides the daily execution guide for developers.</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#sprint-11-core-state-machine-week-1","title":"\ud83d\udcc5 Sprint 1.1: Core State Machine (Week 1)","text":"<p>Focus: Immutable State &amp; Graph Execution Engine</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#objective","title":"\ud83c\udfaf Objective","text":"<p>Implement the core <code>ReActState</code> container and the <code>StateGraph</code> capability to define and execute workflows.</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#classes-to-implement","title":"\ud83e\udde9 Classes to Implement","text":"Class Module Priority Role <code>ReasoningStep</code> <code>core/state.py</code> P0 Immutable event log unit. <code>ReActState</code> <code>core/state.py</code> P0 Main state container (frozen dataclass). <code>ContextManager</code> <code>core/context.py</code> P1 Thread-local storage for Trace IDs. <code>StateGraph</code> <code>core/graph.py</code> P1 Graph topology and execution loop."},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#relevant-skills","title":"\ud83e\udde0 Relevant Skills","text":"<ul> <li><code>context-fundamentals</code>: For implementing <code>ContextManager</code>.</li> <li><code>python-pro</code>: For <code>dataclasses</code> and type safety.</li> <li><code>tdd-workflow</code>: Apply Red-Green-Refactor cycle.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#success-criteria-tdd","title":"\u2705 Success Criteria (TDD)","text":"<ul> <li>[ ] <code>test_state_immutability</code>: Verify state cannot be mutated directly.</li> <li>[ ] <code>test_step_creation</code>: Verify step generation and serialization.</li> <li>[ ] <code>test_context_isolation</code>: Verify context is isolated per thread/task.</li> <li>[ ] <code>test_graph_topology</code>: Verify nodes and edges can be added.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#sprint-12-node-implementations-week-2","title":"\ud83d\udcc5 Sprint 1.2: Node Implementations (Week 2)","text":"<p>Focus: The ReAct Components</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#objective_1","title":"\ud83c\udfaf Objective","text":"<p>Implement the diverse node types that form the ReAct loop.</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#classes-to-implement_1","title":"\ud83e\udde9 Classes to Implement","text":"Class Module Priority Role <code>BaseNode</code> <code>nodes/base.py</code> P0 Abstract base class with template method. <code>ThoughtNode</code> <code>nodes/thought_node.py</code> P0 LLM interaction handler. <code>ActionNode</code> <code>nodes/action_node.py</code> P0 Tool dispatcher. <code>ObservationNode</code> <code>nodes/observation_node.py</code> P1 Output formatter. <code>ValidateNode</code> <code>nodes/validate_node.py</code> P2 Rule checker. <code>CommitNode</code> <code>nodes/commit_node.py</code> P2 State persistence."},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#relevant-skills_1","title":"\ud83e\udde0 Relevant Skills","text":"<ul> <li><code>context-window-management</code>: For <code>ThoughtNode</code> token tracking.</li> <li><code>software-architecture</code>: For Template Method pattern in <code>BaseNode</code>.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#success-criteria-tdd_1","title":"\u2705 Success Criteria (TDD)","text":"<ul> <li>[ ] <code>test_node_inheritance</code>: All nodes must inherit from BaseNode.</li> <li>[ ] <code>test_thought_generation</code>: Mock LLM returns expected thought.</li> <li>[ ] <code>test_action_dispatch</code>: Mock tool execution.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#sprint-13-tool-integration-week-3","title":"\ud83d\udcc5 Sprint 1.3: Tool Integration (Week 3)","text":"<p>Focus: Capability Expansion</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#objective_2","title":"\ud83c\udfaf Objective","text":"<p>Build the plugin system for tools and implement standard capabilities.</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#classes-to-implement_2","title":"\ud83e\udde9 Classes to Implement","text":"Class Module Priority Role <code>Tool</code> <code>tools/base.py</code> P0 Abstract tool interface. <code>ToolRegistry</code> <code>tools/registry.py</code> P0 Plugin discovery/registration. <code>SearchTool</code> <code>tools/builtin/search.py</code> P1 Web search implementation. <code>FileOpsTool</code> <code>tools/builtin/file_ops.py</code> P1 Filesystem operations. <code>CalculatorTool</code> <code>tools/builtin/calculator.py</code> P2 Math operations."},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#relevant-skills_2","title":"\ud83e\udde0 Relevant Skills","text":"<ul> <li><code>agent-tool-builder</code>: Best practices for tool interfaces.</li> <li><code>context-manager</code>: Passing context to tools.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#success-criteria-tdd_2","title":"\u2705 Success Criteria (TDD)","text":"<ul> <li>[ ] <code>test_tool_registry</code>: Operations (register, get, list).</li> <li>[ ] <code>test_schema_generation</code>: Pydantic to JSON Schema conversion.</li> <li>[ ] <code>test_safe_calculator</code>: Prevent code injection in math tool.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#sprint-14-configuration-rules-week-4","title":"\ud83d\udcc5 Sprint 1.4: Configuration &amp; Rules (Week 4)","text":"<p>Focus: Governance &amp; Control</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#objective_3","title":"\ud83c\udfaf Objective","text":"<p>Externalize configuration and enforce execution boundaries.</p>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#classes-to-implement_3","title":"\ud83e\udde9 Classes to Implement","text":"Class Module Priority Role <code>EngineConfig</code> <code>config/schema.py</code> P0 Main config model. <code>ConfigLoader</code> <code>config/loader.py</code> P1 YAML loader with env override. <code>RuleEngine</code> <code>rules/rule_engine.py</code> P0 Chain of responsibility runner. <code>MaxDepthRule</code> <code>rules/builtin.py</code> P1 Loop prevention."},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#relevant-skills_3","title":"\ud83e\udde0 Relevant Skills","text":"<ul> <li><code>context-management-context-restore</code>: Resuming from config.</li> <li><code>security-auditor</code>: Reviewing rule implementations.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#success-criteria-tdd_3","title":"\u2705 Success Criteria (TDD)","text":"<ul> <li>[ ] <code>test_config_loading</code>: Load valid YAML, fail invalid.</li> <li>[ ] <code>test_rule_enforcement</code>: Max depth triggers stop.</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#reference","title":"\ud83d\udd17 Reference","text":"<ul> <li>Class Inventory</li> <li>Methods &amp; Properties</li> <li>Project Roadmap</li> </ul>"},{"location":"vers0.1.0/oop/IMPLEMENTATION_FLOW/#definition-of-done-phase-completion","title":"\u2705 Definition of Done (Phase Completion)","text":"<p>Upon completing all sprints in a Phase:</p> <ol> <li>Verify Tests: All tests must pass (<code>uv run pytest</code>).</li> <li>Linting: Code must be linted (<code>ruff check</code>, <code>ty</code>).</li> <li>Commit: Commit all changes to the working branch.</li> <li>Merge: Merge the working branch into <code>main</code>.</li> <li>Push: Push <code>main</code> to the remote repository.</li> </ol>"},{"location":"vers0.1.0/oop/class_diagram/","title":"Arkhon-Rheo UML Class Diagram","text":"<p>\u5b8c\u6574\u7684\u985e\u5225\u95dc\u4fc2\u5716\uff0c\u4f7f\u7528 Mermaid \u7e6a\u88fd</p>"},{"location":"vers0.1.0/oop/class_diagram/#complete-class-diagram-all-phases","title":"Complete Class Diagram (All Phases)","text":"<pre><code>classDiagram\n    %% ============================================\n    %% PHASE 1: Foundation\n    %% ============================================\n\n    %% Core Module\n    class ReActState {\n        &lt;&lt;frozen dataclass&gt;&gt;\n        +list~ReasoningStep~ steps\n        +dict metadata\n        +str trace_id\n        +Literal status\n        +add_step(step) Self\n        +validate() bool\n        +get_latest_step() ReasoningStep|None\n        +to_dict() dict\n    }\n\n    class ReasoningStep {\n        &lt;&lt;frozen dataclass&gt;&gt;\n        +str step_id\n        +Literal type\n        +str content\n        +str|None tool_name\n        +dict|None tool_input\n        +Any|None tool_output\n        +datetime timestamp\n        +dict metadata\n        +to_event() dict\n        +is_action() bool\n        +is_thought() bool\n    }\n\n    class StateGraph {\n        +dict~str,BaseNode~ nodes\n        +dict~str,list~ edges\n        +str|None entry_point\n        +ReActState state\n        +add_node(name, node) Self\n        +add_edge(from, to) Self\n        +set_entry_point(name) Self\n        +compile() CompiledGraph\n        +invoke(input) ReActState\n        +stream(input) Iterator\n        +validate_graph() bool\n    }\n\n    class ContextManager {\n        -ContextVar _context\n        +get(key, default) T|None\n        +set(key, value) None\n        +generate_trace_id()$ str\n        +__enter__() Self\n        +__exit__() None\n    }\n\n    %% Nodes Module\n    class BaseNode {\n        &lt;&lt;abstract&gt;&gt;\n        +str name\n        +run(state)* ReActState\n        +before_run(state) None\n        +after_run(state) None\n        +__call__(state) ReActState\n    }\n\n    class ThoughtNode {\n        +LLMClient llm_client\n        +PromptTemplate prompt_template\n        +TokenTracker token_tracker\n        +run(state) ReActState\n        +format_prompt(state) str\n        +parse_response(response) str\n    }\n\n    class ActionNode {\n        +ToolRegistry tool_registry\n        +int max_retries\n        +run(state) ReActState\n        +select_tool(thought) Tool|None\n        +execute_tool(tool, input) ToolResult\n        +handle_error(error) ToolResult\n    }\n\n    class ObservationNode {\n        +int max_length\n        +Callable formatter\n        +run(state) ReActState\n        +truncate(text) str\n        +format_result(result) str\n    }\n\n    class ValidateNode {\n        +RuleEngine rule_engine\n        +bool auto_retry\n        +run(state) ReActState\n        +collect_violations(state) list\n        +format_error_report(violations) str\n    }\n\n    class CommitNode {\n        +CheckpointManager|None checkpoint_manager\n        +run(state) ReActState\n        +persist_state(state) None\n        +transition(state) ReActState\n    }\n\n    %% Tools Module\n    class Tool {\n        &lt;&lt;abstract&gt;&gt;\n        +str name\n        +str description\n        +run(**kwargs)* ToolResult\n        +get_schema() dict\n        +validate_input(input) bool\n    }\n\n    class ToolResult {\n        &lt;&lt;dataclass&gt;&gt;\n        +bool success\n        +Any output\n        +str|None error\n        +dict metadata\n    }\n\n    class ToolRegistry {\n        &lt;&lt;singleton&gt;&gt;\n        -dict~str,Tool~ _tools\n        -ToolRegistry|None _instance\n        +register(tool) None\n        +get(name) Tool|None\n        +list_tools() list\n        +discover(package)$ None\n    }\n\n    class SearchTool {\n        +run(**kwargs) ToolResult\n    }\n\n    class CalculatorTool {\n        +run(**kwargs) ToolResult\n    }\n\n    class FileOpsTool {\n        +run(**kwargs) ToolResult\n    }\n\n    %% Config Module\n    class EngineConfig {\n        &lt;&lt;Pydantic&gt;&gt;\n        +int max_iterations\n        +LLMConfig llm\n        +list~ToolConfig~ tools\n        +list~RuleConfig~ rules\n        +bool debug\n        +validate_llm_config(v) LLMConfig\n        +to_yaml() str\n    }\n\n    class LLMConfig {\n        &lt;&lt;Pydantic&gt;&gt;\n        +Literal provider\n        +str model\n        +SecretStr api_key\n        +float temperature\n        +int max_tokens\n    }\n\n    class ToolConfig {\n        &lt;&lt;Pydantic&gt;&gt;\n        +str name\n        +dict settings\n    }\n\n    class RuleConfig {\n        &lt;&lt;Pydantic&gt;&gt;\n        +str name\n        +dict params\n    }\n\n    class ConfigLoader {\n        +load_yaml(path)$ dict\n        +merge_configs(*configs)$ dict\n        +expand_env_vars(config)$ dict\n        +load(path)$ EngineConfig\n    }\n\n    %% Rules Module\n    class Rule {\n        &lt;&lt;abstract&gt;&gt;\n        +evaluate(state)* RuleViolation|None\n        +name() str\n    }\n\n    class RuleEngine {\n        +list~Rule~ rules\n        +add_rule(rule) Self\n        +execute(state) list\n        +execute_until_violation(state) RuleViolation|None\n    }\n\n    class RuleViolation {\n        &lt;&lt;dataclass&gt;&gt;\n        +str rule_name\n        +str message\n        +Literal severity\n        +str|None step_id\n    }\n\n    class MaxDepthRule {\n        +evaluate(state) RuleViolation|None\n    }\n\n    class ForbidGuessingRule {\n        +evaluate(state) RuleViolation|None\n    }\n\n    class CostLimitRule {\n        +evaluate(state) RuleViolation|None\n    }\n\n    %% ============================================\n    %% PHASE 2: Multi-Agent System\n    %% ============================================\n\n    class Agent {\n        +str agent_id\n        +str role\n        +StateGraph graph\n        +Queue message_queue\n        +send_message(to, msg) None\n        +receive_message(timeout) AgentMessage|None\n        +process_message(msg) AgentMessage\n        +run(input) ReActState\n    }\n\n    class AgentMessage {\n        &lt;&lt;dataclass&gt;&gt;\n        +str message_id\n        +str from_agent\n        +str to_agent\n        +Literal type\n        +dict payload\n        +str|None correlation_id\n        +datetime timestamp\n    }\n\n    class SharedAgentState {\n        -dict _state\n        -dict~str,Lock~ _locks\n        +get(key) Any|None\n        +set(key, value) None\n        +acquire_lock(resource) Lock\n        +release_lock(resource) None\n    }\n\n    class SubGraph {\n        +StateGraph graph\n        +str name\n        +as_node() BaseNode\n        +invoke(state) ReActState\n        +propagate_context(parent_state) ReActState\n    }\n\n    class Coordinator {\n        +decompose_task(task) list\n        +select_agent(task) str\n        +aggregate_results(results) Any\n        +coordinate(task) dict\n    }\n\n    class PlanningSpecialist {\n        +execute_specialty(input) dict\n    }\n\n    class CodingSpecialist {\n        +execute_specialty(input) dict\n    }\n\n    class ReviewSpecialist {\n        +execute_specialty(input) dict\n    }\n\n    class Scheduler {\n        +PriorityQueue task_queue\n        +dict~str,Agent~ agents\n        +schedule(task) None\n        +resolve_dependencies(tasks) ExecutionPlan\n        +execute_parallel(plan) list\n    }\n\n    class Task {\n        &lt;&lt;dataclass&gt;&gt;\n        +str task_id\n        +str description\n        +str agent_role\n        +list dependencies\n        +int priority\n    }\n\n    %% ============================================\n    %% PHASE 3: Memory Systems\n    %% ============================================\n\n    class ContextWindow {\n        +int max_tokens\n        +deque messages\n        +add_message(step) None\n        +evict_oldest() ReasoningStep|None\n        +count_tokens() int\n        +get_messages() list\n    }\n\n    class Summarization {\n        +LLMClient llm_client\n        +float compression_ratio\n        +summarize(steps) str\n        +preserve_critical_info(steps) list\n    }\n\n    class VectorStore {\n        &lt;&lt;abstract&gt;&gt;\n        +upsert(id, vector, metadata)* None\n        +query(vector, top_k)* list\n        +delete(id)* None\n    }\n\n    class PineconeStore {\n        +Pinecone client\n        +str index_name\n        +upsert(id, vector, metadata) None\n        +query(vector, top_k) list\n        +delete(id) None\n    }\n\n    class WeaviateStore {\n        +WeaviateClient client\n        +str index_name\n        +upsert(id, vector, metadata) None\n        +query(vector, top_k) list\n        +delete(id) None\n    }\n\n    class EmbeddingsClient {\n        +Literal provider\n        +int batch_size\n        +dict cache\n        +embed(text) list\n        +embed_batch(texts) list\n    }\n\n    class CheckpointManager {\n        +Path db_path\n        +int checkpoint_interval\n        +save(state) str\n        +load(checkpoint_id) ReActState\n        +list_checkpoints() list\n        +cleanup_old(keep_n) None\n    }\n\n    class RollbackManager {\n        +CheckpointManager checkpoint_manager\n        +rollback_to_step(step_id) ReActState\n        +rollback_to_checkpoint(checkpoint_id) ReActState\n        +validate_rollback(state) bool\n    }\n\n    %% ============================================\n    %% PHASE 4: CLI &amp; Framework\n    %% ============================================\n\n    class CLI {\n        +main(args)$ int\n        +parse_args(args)$ Namespace\n        +dispatch_command(command)$ Command\n    }\n\n    class InitCommand {\n        +execute(args) int\n        +scaffold_project(path, template) None\n    }\n\n    class RunCommand {\n        +execute(args) int\n        +load_graph(config) StateGraph\n    }\n\n    class MigrateCommand {\n        +execute(args) int\n        +analyze_langgraph(path) MigrationPlan\n        +generate_diff(plan) str\n        +apply_migration(plan) None\n    }\n\n    class ProjectScaffolder {\n        +create_structure(path, template) None\n        +render_template(template, context) str\n    }\n\n    %% ============================================\n    %% Relationships\n    %% ============================================\n\n    %% Core relationships\n    StateGraph *-- BaseNode : contains\n    StateGraph o-- ReActState : manages\n    ReActState *-- ReasoningStep : contains\n    ContextManager ..&gt; ReActState : manages\n\n    %% Node inheritance\n    BaseNode &lt;|-- ThoughtNode\n    BaseNode &lt;|-- ActionNode\n    BaseNode &lt;|-- ObservationNode\n    BaseNode &lt;|-- ValidateNode\n    BaseNode &lt;|-- CommitNode\n\n    %% Node dependencies\n    ThoughtNode ..&gt; LLMClient : uses\n    ActionNode ..&gt; ToolRegistry : uses\n    ActionNode ..&gt; Tool : executes\n    Tool ..&gt; ToolResult : returns\n    ValidateNode ..&gt; RuleEngine : uses\n    CommitNode ..&gt; CheckpointManager : uses\n\n    %% Tool system\n    Tool &lt;|-- SearchTool\n    Tool &lt;|-- CalculatorTool\n    Tool &lt;|-- FileOpsTool\n    ToolRegistry o-- Tool : registers\n\n    %% Config system\n    EngineConfig *-- LLMConfig : contains\n    EngineConfig *-- ToolConfig : contains\n    EngineConfig *-- RuleConfig : contains\n    ConfigLoader ..&gt; EngineConfig : creates\n\n    %% Rule system\n    Rule &lt;|-- MaxDepthRule\n    Rule &lt;|-- ForbidGuessingRule\n    Rule &lt;|-- CostLimitRule\n    RuleEngine o-- Rule : contains\n    RuleEngine ..&gt; RuleViolation : produces\n\n    %% Multi-Agent relationships\n    Agent o-- StateGraph : executes\n    Agent *-- AgentMessage : sends/receives\n    Agent ..&gt; SharedAgentState : accesses\n    Agent &lt;|-- Coordinator\n    Agent &lt;|-- PlanningSpecialist\n    Agent &lt;|-- CodingSpecialist\n    Agent &lt;|-- ReviewSpecialist\n    Coordinator ..&gt; Agent : coordinates\n    Scheduler o-- Agent : schedules\n    Scheduler o-- Task : manages\n    SubGraph *-- StateGraph : wraps\n    SubGraph ..&gt; BaseNode : converts to\n\n    %% Memory relationships\n    ContextWindow *-- ReasoningStep : stores\n    Summarization ..&gt; LLMClient : uses\n    VectorStore &lt;|-- PineconeStore\n    VectorStore &lt;|-- WeaviateStore\n    EmbeddingsClient ..&gt; VectorStore : provides vectors\n    CheckpointManager ..&gt; ReActState : saves/loads\n    RollbackManager ..&gt; CheckpointManager : uses\n\n    %% CLI relationships\n    CLI ..&gt; InitCommand : dispatches\n    CLI ..&gt; RunCommand : dispatches\n    CLI ..&gt; MigrateCommand : dispatches\n    InitCommand ..&gt; ProjectScaffolder : uses\n    RunCommand ..&gt; StateGraph : creates\n    RunCommand ..&gt; ConfigLoader : uses\n</code></pre>"},{"location":"vers0.1.0/oop/class_diagram/#simplified-view-by-phase","title":"Simplified View by Phase","text":""},{"location":"vers0.1.0/oop/class_diagram/#phase-1-core-architecture","title":"PHASE 1: Core Architecture","text":"<pre><code>classDiagram\n    class StateGraph {\n        +invoke(input) ReActState\n    }\n\n    class BaseNode {\n        &lt;&lt;abstract&gt;&gt;\n        +run(state) ReActState\n    }\n\n    class Tool {\n        &lt;&lt;abstract&gt;&gt;\n        +run(**kwargs) ToolResult\n    }\n\n    class EngineConfig {\n        &lt;&lt;Pydantic&gt;&gt;\n        +max_iterations\n        +llm\n        +tools\n    }\n\n    class RuleEngine {\n        +execute(state) list\n    }\n\n    StateGraph *-- BaseNode\n    BaseNode &lt;|-- ThoughtNode\n    BaseNode &lt;|-- ActionNode\n    Tool &lt;|-- SearchTool\n    RuleEngine o-- Rule\n</code></pre>"},{"location":"vers0.1.0/oop/class_diagram/#phase-2-multi-agent-layer","title":"PHASE 2: Multi-Agent Layer","text":"<pre><code>classDiagram\n    class Agent {\n        +run(input) ReActState\n        +send_message(to, msg)\n    }\n\n    class Coordinator {\n        +decompose_task(task) list\n        +coordinate(task) dict\n    }\n\n    class Scheduler {\n        +execute_parallel(plan) list\n    }\n\n    Agent &lt;|-- Coordinator\n    Agent &lt;|-- Specialist\n    Coordinator ..&gt; Scheduler\n    Agent *-- AgentMessage\n</code></pre>"},{"location":"vers0.1.0/oop/class_diagram/#phase-3-memory-layer","title":"PHASE 3: Memory Layer","text":"<pre><code>classDiagram\n    class ContextWindow {\n        +add_message(step)\n        +evict_oldest()\n    }\n\n    class VectorStore {\n        &lt;&lt;abstract&gt;&gt;\n        +query(vector, top_k) list\n    }\n\n    class CheckpointManager {\n        +save(state) str\n        +load(checkpoint_id) ReActState\n    }\n\n    VectorStore &lt;|-- PineconeStore\n    VectorStore &lt;|-- WeaviateStore\n    CheckpointManager ..&gt; ReActState\n</code></pre>"},{"location":"vers0.1.0/oop/class_diagram/#phase-4-cli-layer","title":"PHASE 4: CLI Layer","text":"<pre><code>classDiagram\n    class CLI {\n        +main(args) int\n    }\n\n    class Command {\n        &lt;&lt;abstract&gt;&gt;\n        +execute(args) int\n    }\n\n    CLI ..&gt; Command\n    Command &lt;|-- InitCommand\n    Command &lt;|-- RunCommand\n    Command &lt;|-- MigrateCommand\n</code></pre>"},{"location":"vers0.1.0/oop/class_diagram/#design-pattern-annotations","title":"Design Pattern Annotations","text":"\u8a2d\u8a08\u6a21\u5f0f \u61c9\u7528\u4f4d\u7f6e Mermaid \u8868\u793a Template Method BaseNode \u2192 \u5b50\u985e \u7e7c\u627f <code>&lt;|--</code> Strategy Tool, VectorStore \u7e7c\u627f <code>&lt;|--</code> Registry ToolRegistry \u7d44\u5408 <code>o--</code> Singleton ToolRegistry <code>&lt;&lt;singleton&gt;&gt;</code> Immutable Object ReActState, ReasoningStep <code>&lt;&lt;frozen dataclass&gt;&gt;</code> Chain of Responsibility RuleEngine \u7d44\u5408 <code>o--</code> Rule Mediator Coordinator \u4f9d\u8cf4 <code>..&gt;</code> Agent Composite SubGraph \u7d44\u5408 <code>*--</code> StateGraph Memento CheckpointManager \u4f9d\u8cf4 <code>..&gt;</code> ReActState Command CLI Commands \u7e7c\u627f <code>&lt;|--</code> Command Observer Agent messaging \u95dc\u806f <code>*--</code> AgentMessage Abstract Factory VectorStore \u7e7c\u627f <code>&lt;|--</code>"},{"location":"vers0.1.0/oop/class_diagram/#relationship-legend","title":"Relationship Legend","text":"<pre><code>classDiagram\n    class Example1\n    class Example2\n    class Example3\n    class Example4\n    class Example5\n    class Example6\n\n    Example1 &lt;|-- Example2 : Inheritance (is-a)\n    Example3 *-- Example4 : Composition (owns)\n    Example5 o-- Example6 : Aggregation (has)\n    Example1 ..&gt; Example3 : Dependency (uses)\n    Example2 --&gt; Example5 : Association (knows)\n</code></pre> \u95dc\u4fc2\u985e\u578b Mermaid \u8a9e\u6cd5 \u8aaa\u660e \u7e7c\u627f <code>&lt;\\|--</code> \u5b50\u985e\u7e7c\u627f\u7236\u985e (is-a) \u7d44\u5408 <code>*--</code> \u5f37\u64c1\u6709\u95dc\u4fc2\uff0c\u90e8\u5206\u4e0d\u80fd\u7368\u7acb\u5b58\u5728 \u805a\u5408 <code>o--</code> \u5f31\u64c1\u6709\u95dc\u4fc2\uff0c\u90e8\u5206\u53ef\u4ee5\u7368\u7acb\u5b58\u5728 \u4f9d\u8cf4 <code>..&gt;</code> \u4f7f\u7528\u95dc\u4fc2\uff0c\u901a\u5e38\u662f\u65b9\u6cd5\u53c3\u6578 \u95dc\u806f <code>--&gt;</code> \u77e5\u9053\u95dc\u4fc2\uff0c\u901a\u5e38\u662f\u5c6c\u6027\u5f15\u7528 <p>\u4e0b\u4e00\u6b65: \u67e5\u770b <code>crc_cards.md</code> \u4e86\u89e3\u6bcf\u500b\u985e\u5225\u7684 CRC \u5361\u7247\u8a2d\u8a08</p>"},{"location":"vers0.1.0/oop/class_inventory/","title":"Arkhon-Rheo Class Inventory","text":"<p>\u5b8c\u6574\u7684\u985e\u5225\u6e05\u55ae\uff0c\u6db5\u84cb PHASE 1-4 \u6240\u6709\u6a21\u7d44</p>"},{"location":"vers0.1.0/oop/class_inventory/#phase-1-foundation-classes-25","title":"PHASE 1: Foundation Classes (25 \u500b\u985e\u5225)","text":""},{"location":"vers0.1.0/oop/class_inventory/#core-module-arkhon_rheocore","title":"Core Module (<code>arkhon_rheo/core/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>ReActState</code> <code>@dataclass(frozen=True)</code> \u4fdd\u5b58\u4e0d\u53ef\u8b8a\u7684 ReAct \u57f7\u884c\u72c0\u614b Immutable Object ReasoningStep, StateGraph <code>ReasoningStep</code> <code>@dataclass(frozen=True)</code> \u8868\u793a\u55ae\u500b\u63a8\u7406\u6b65\u9a5f\u7684\u4e8b\u4ef6\u65e5\u8a8c Event Sourcing ReActState <code>StateGraph</code> - \u7ba1\u7406\u5716\u7d50\u69cb\u548c\u57f7\u884c\u6d41\u7a0b State Pattern, Graph BaseNode, ReActState <code>ContextManager</code> Context Manager Protocol \u7ba1\u7406\u7dda\u7a0b\u672c\u5730\u72c0\u614b\u548c\u8ffd\u8e64 ID Context Manager ReActState"},{"location":"vers0.1.0/oop/class_inventory/#nodes-module-arkhon_rheonodes","title":"Nodes Module (<code>arkhon_rheo/nodes/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>BaseNode</code> <code>ABC</code> \u5b9a\u7fa9\u7bc0\u9ede\u57f7\u884c\u6846\u67b6 Template Method StateGraph <code>ThoughtNode</code> <code>BaseNode</code> \u4f7f\u7528 LLM \u751f\u6210\u601d\u7dad\u6b65\u9a5f Strategy LLMClient, PromptTemplate <code>ActionNode</code> <code>BaseNode</code> \u9078\u64c7\u548c\u57f7\u884c\u5de5\u5177 Strategy ToolRegistry, Tool <code>ObservationNode</code> <code>BaseNode</code> \u683c\u5f0f\u5316\u548c\u622a\u65b7\u89c0\u5bdf\u7d50\u679c Strategy ReasoningStep <code>ValidateNode</code> <code>BaseNode</code> \u57f7\u884c\u898f\u5247\u9a57\u8b49\u908f\u8f2f Strategy, Chain of Resp. RuleEngine <code>CommitNode</code> <code>BaseNode</code> \u6301\u4e45\u5316\u72c0\u614b\u4e26\u8f49\u63db\u5faa\u74b0 Strategy ReActState"},{"location":"vers0.1.0/oop/class_inventory/#tools-module-arkhon_rheotools","title":"Tools Module (<code>arkhon_rheo/tools/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>Tool</code> <code>ABC</code> \u5b9a\u7fa9\u5de5\u5177\u63a5\u53e3 Strategy ToolRegistry <code>ToolResult</code> <code>@dataclass</code> \u5c01\u88dd\u5de5\u5177\u57f7\u884c\u7d50\u679c Value Object Tool <code>ToolRegistry</code> Singleton \u7ba1\u7406\u5de5\u5177\u8a3b\u518a\u548c\u767c\u73fe Registry, Singleton Tool <code>SearchTool</code> <code>Tool</code> Web \u641c\u7d22\u529f\u80fd Strategy External API <code>CalculatorTool</code> <code>Tool</code> \u5b89\u5168\u6578\u5b78\u8a08\u7b97 Strategy - <code>FileOpsTool</code> <code>Tool</code> \u6587\u4ef6\u8b80\u5beb\u64cd\u4f5c Strategy Filesystem"},{"location":"vers0.1.0/oop/class_inventory/#config-module-arkhon_rheoconfig","title":"Config Module (<code>arkhon_rheo/config/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>EngineConfig</code> <code>BaseModel</code> (Pydantic) \u5f15\u64ce\u914d\u7f6e\u9a57\u8b49 Builder ConfigLoader <code>LLMConfig</code> <code>BaseModel</code> LLM \u63d0\u4f9b\u5546\u914d\u7f6e Builder ThoughtNode <code>ToolConfig</code> <code>BaseModel</code> \u5de5\u5177\u914d\u7f6e\u9a57\u8b49 Builder ToolRegistry <code>RuleConfig</code> <code>BaseModel</code> \u898f\u5247\u5f15\u64ce\u914d\u7f6e Builder RuleEngine <code>ConfigLoader</code> - \u8f09\u5165\u548c\u5408\u4f75 YAML \u914d\u7f6e Builder, Template Method All Config Classes"},{"location":"vers0.1.0/oop/class_inventory/#rules-module-arkhon_rheorules","title":"Rules Module (<code>arkhon_rheo/rules/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>Rule</code> <code>ABC</code> \u5b9a\u7fa9\u898f\u5247\u63a5\u53e3 Strategy RuleEngine <code>RuleEngine</code> - \u9806\u5e8f\u57f7\u884c\u898f\u5247\u96c6\u5408 Chain of Responsibility Rule, ValidateNode <code>MaxDepthRule</code> <code>Rule</code> \u9632\u6b62\u7121\u9650\u5faa\u74b0 Strategy ReActState <code>ForbidGuessingRule</code> <code>Rule</code> \u8981\u6c42\u7f6e\u4fe1\u5ea6\u95be\u503c Strategy ReasoningStep <code>CostLimitRule</code> <code>Rule</code> \u9650\u5236 LLM token \u82b1\u8cbb Strategy LLMClient"},{"location":"vers0.1.0/oop/class_inventory/#phase-2-multi-agent-classes-12","title":"PHASE 2: Multi-Agent Classes (12 \u500b\u985e\u5225)","text":""},{"location":"vers0.1.0/oop/class_inventory/#core-module-extensions-arkhon_rheocore","title":"Core Module Extensions (<code>arkhon_rheo/core/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>Agent</code> - \u8868\u793a\u55ae\u500b\u4ee3\u7406\u5be6\u9ad4 Agent Pattern AgentMessage, StateGraph <code>AgentMessage</code> <code>@dataclass</code> \u4ee3\u7406\u9593\u8a0a\u606f\u50b3\u905e Message Agent <code>SharedAgentState</code> - \u7dda\u7a0b\u5b89\u5168\u7684\u5171\u4eab\u72c0\u614b Shared State, Monitor Agent, Lock <code>SubGraph</code> - \u652f\u6301\u5716\u5d4c\u5957 Composite StateGraph, BaseNode"},{"location":"vers0.1.0/oop/class_inventory/#agents-module-arkhon_rheoagents","title":"Agents Module (<code>arkhon_rheo/agents/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>Coordinator</code> <code>Agent</code> \u4efb\u52d9\u5206\u89e3\u548c\u7d50\u679c\u805a\u5408 Mediator Specialist, Scheduler <code>PlanningSpecialist</code> <code>Agent</code> \u898f\u5283\u5c08\u5bb6\u4ee3\u7406 Strategy Coordinator <code>CodingSpecialist</code> <code>Agent</code> \u7de8\u78bc\u5c08\u5bb6\u4ee3\u7406 Strategy Coordinator <code>ReviewSpecialist</code> <code>Agent</code> \u5be9\u67e5\u5c08\u5bb6\u4ee3\u7406 Strategy Coordinator"},{"location":"vers0.1.0/oop/class_inventory/#runtime-module-arkhon_rheoruntime","title":"Runtime Module (<code>arkhon_rheo/runtime/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>Scheduler</code> - \u4ee3\u7406\u4efb\u52d9\u8abf\u5ea6 Scheduler Agent, Task <code>Task</code> <code>@dataclass</code> \u4efb\u52d9\u5b9a\u7fa9\u548c\u4f9d\u8cf4 Value Object Scheduler <code>ExecutionPlan</code> - \u4e26\u884c\u57f7\u884c\u8a08\u5283 Strategy Scheduler"},{"location":"vers0.1.0/oop/class_inventory/#phase-3-memory-system-classes-11","title":"PHASE 3: Memory System Classes (11 \u500b\u985e\u5225)","text":""},{"location":"vers0.1.0/oop/class_inventory/#memory-module-arkhon_rheomemory","title":"Memory Module (<code>arkhon_rheo/memory/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>ContextWindow</code> - \u6ed1\u52d5\u7a97\u53e3\u8a18\u61b6\u7ba1\u7406 Sliding Window ReasoningStep, TokenCounter <code>Summarization</code> - LLM \u9a45\u52d5\u7684\u4e0a\u4e0b\u6587\u58d3\u7e2e Strategy LLMClient, ContextWindow <code>VectorStore</code> <code>ABC</code> \u5411\u91cf\u5b58\u5132\u62bd\u8c61\u63a5\u53e3 Abstract Factory EmbeddingsClient <code>PineconeStore</code> <code>VectorStore</code> Pinecone \u5be6\u4f5c Strategy External API <code>WeaviateStore</code> <code>VectorStore</code> Weaviate \u5be6\u4f5c Strategy External API <code>EmbeddingsClient</code> - \u751f\u6210\u6587\u672c\u5d4c\u5165 Strategy VectorStore <code>RetrievalStrategy</code> <code>ABC</code> \u6aa2\u7d22\u7b56\u7565\u63a5\u53e3 Strategy VectorStore <code>SemanticSearch</code> <code>RetrievalStrategy</code> \u8a9e\u7fa9\u641c\u7d22 Strategy VectorStore <code>HybridSearch</code> <code>RetrievalStrategy</code> \u6df7\u5408\u641c\u7d22 Strategy VectorStore, KeywordSearch"},{"location":"vers0.1.0/oop/class_inventory/#runtime-module-extensions-arkhon_rheoruntime","title":"Runtime Module Extensions (<code>arkhon_rheo/runtime/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>CheckpointManager</code> - \u7ba1\u7406\u72c0\u614b\u6aa2\u67e5\u9ede Memento ReActState, SQLite <code>RollbackManager</code> - \u72c0\u614b\u56de\u6efe\u6a5f\u5236 Memento, Command CheckpointManager, ReActState"},{"location":"vers0.1.0/oop/class_inventory/#phase-4-framework-release-classes-7","title":"PHASE 4: Framework Release Classes (7 \u500b\u985e\u5225)","text":""},{"location":"vers0.1.0/oop/class_inventory/#cli-module-arkhon_rheocli","title":"CLI Module (<code>arkhon_rheo/cli/</code>)","text":"\u985e\u5225\u540d\u7a31 \u57fa\u985e/\u5354\u8b70 \u4e3b\u8981\u8cac\u4efb \u8a2d\u8a08\u6a21\u5f0f \u5354\u4f5c\u8005 <code>CLI</code> - \u547d\u4ee4\u884c\u63a5\u53e3\u4e3b\u985e Command All Commands <code>InitCommand</code> <code>Command</code> \u521d\u59cb\u5316\u9805\u76ee Command ProjectScaffolder <code>RunCommand</code> <code>Command</code> \u57f7\u884c ReAct \u5faa\u74b0 Command StateGraph, ConfigLoader <code>MigrateCommand</code> <code>Command</code> \u9077\u79fb LangGraph \u9805\u76ee Command MigrationTool <code>ProjectScaffolder</code> - \u751f\u6210\u9805\u76ee\u6a21\u677f Template Method TemplateRenderer <code>ConfigValidator</code> - \u9a57\u8b49\u914d\u7f6e\u6587\u4ef6 Strategy EngineConfig <code>MigrationTool</code> - AST \u8f49\u63db\u5de5\u5177 Visitor ASTTransformer"},{"location":"vers0.1.0/oop/class_inventory/#_1","title":"\u7d71\u8a08\u6458\u8981","text":"Phase \u6a21\u7d44\u6578 \u985e\u5225\u6578 \u4e3b\u8981\u8a2d\u8a08\u6a21\u5f0f PHASE 1 5 25 Template Method, Strategy, Registry, Chain of Resp. PHASE 2 3 12 Mediator, Composite, Agent, Observer PHASE 3 2 11 Abstract Factory, Memento, Sliding Window PHASE 4 1 7 Command, Template Method, Visitor \u7e3d\u8a08 11 55 15+ \u7a2e\u8a2d\u8a08\u6a21\u5f0f"},{"location":"vers0.1.0/oop/class_inventory/#_2","title":"\u985e\u5225\u4f9d\u8cf4\u95dc\u4fc2\u5c64\u7d1a","text":"<pre><code>Layer 5 (CLI)\n    \u251c\u2500\u2500 CLI\n    \u2514\u2500\u2500 Commands\n\nLayer 4 (Memory)\n    \u251c\u2500\u2500 VectorStores\n    \u251c\u2500\u2500 Checkpointing\n    \u2514\u2500\u2500 Context Management\n\nLayer 3 (Agents)\n    \u251c\u2500\u2500 Multi-Agent System\n    \u2514\u2500\u2500 Scheduler\n\nLayer 2 (Execution)\n    \u251c\u2500\u2500 Nodes\n    \u251c\u2500\u2500 Tools\n    \u2514\u2500\u2500 Rules\n\nLayer 1 (Core)\n    \u251c\u2500\u2500 State\n    \u251c\u2500\u2500 Graph\n    \u2514\u2500\u2500 Context\n\nLayer 0 (Config)\n    \u2514\u2500\u2500 Configuration Models\n</code></pre> <p>\u4e0b\u4e00\u6b65: \u67e5\u770b <code>methods_properties.md</code> \u4e86\u89e3\u6bcf\u500b\u985e\u5225\u7684\u65b9\u6cd5\u548c\u5c6c\u6027\u8a73\u60c5</p>"},{"location":"vers0.1.0/oop/crc_cards/","title":"Arkhon-Rheo CRC Cards","text":"<p>Class-Responsibility-Collaborator \u5361\u7247\u8a2d\u8a08</p>"},{"location":"vers0.1.0/oop/crc_cards/#crc","title":"\u4ec0\u9ebc\u662f CRC \u5361\u7247?","text":"<p>CRC (Class-Responsibility-Collaborator) \u5361\u7247\u662f\u4e00\u7a2e\u9762\u5411\u5c0d\u8c61\u8a2d\u8a08\u5de5\u5177\uff0c\u7528\u65bc\uff1a</p> <ul> <li>Class: \u985e\u5225\u540d\u7a31</li> <li>Responsibilities: \u8a72\u985e\u5225\u7684\u8077\u8cac\uff08\u5b83\u77e5\u9053\u4ec0\u9ebc\uff0c\u5b83\u505a\u4ec0\u9ebc\uff09</li> <li>Collaborators: \u8207\u8a72\u985e\u5225\u5354\u4f5c\u7684\u5176\u4ed6\u985e\u5225</li> </ul>"},{"location":"vers0.1.0/oop/crc_cards/#phase-1-foundation-classes","title":"PHASE 1: Foundation Classes","text":""},{"location":"vers0.1.0/oop/crc_cards/#1-reactstate","title":"1. <code>ReActState</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: ReActState                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u4fdd\u5b58\u4e0d\u53ef\u8b8a\u7684\u63a8\u7406\u57f7\u884c\u72c0\u614b                                  \u2502\n\u2502 \u2022 \u7dad\u8b77\u63a8\u7406\u6b65\u9a5f\u7684\u5b8c\u6574\u6b77\u53f2                                   \u2502\n\u2502 \u2022 \u8ffd\u8e64\u57f7\u884c\u5143\u6578\u64da\u548c\u72c0\u614b\u8f49\u63db                                  \u2502\n\u2502 \u2022 \u63d0\u4f9b\u72c0\u614b\u9a57\u8b49\u548c\u5e8f\u5217\u5316\u529f\u80fd                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 ReasoningStep  - \u7d44\u6210\u72c0\u614b\u7684\u4e8b\u4ef6                         \u2502\n\u2502 \u2022 StateGraph     - \u7ba1\u7406\u548c\u8f49\u63db\u72c0\u614b                         \u2502\n\u2502 \u2022 ContextManager - \u63d0\u4f9b\u8ffd\u8e64 ID                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u5275\u5efa\u521d\u59cb\u72c0\u614b\nstate = ReActState(trace_id=ContextManager.generate_trace_id())\n\n# \u6dfb\u52a0\u601d\u7dad\u6b65\u9a5f (\u4e0d\u53ef\u8b8a)\nnew_state = state.add_step(\n    ReasoningStep(\n        step_id=\"step-1\",\n        type=\"thought\",\n        content=\"I need to search for information\"\n    )\n)\n\n# \u9a57\u8b49\u72c0\u614b\nassert new_state.validate() == True\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#2-stategraph","title":"2. <code>StateGraph</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: StateGraph                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u7ba1\u7406\u57f7\u884c\u5716\u7684\u7bc0\u9ede\u548c\u908a                                     \u2502\n\u2502 \u2022 \u5354\u8abf\u7bc0\u9ede\u9593\u7684\u57f7\u884c\u6d41\u7a0b                                     \u2502\n\u2502 \u2022 \u9a57\u8b49\u5716\u7d50\u69cb\u7684\u5408\u6cd5\u6027                                       \u2502\n\u2502 \u2022 \u63d0\u4f9b\u540c\u6b65\u548c\u6d41\u5f0f\u57f7\u884c\u63a5\u53e3                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 BaseNode      - \u57f7\u884c\u7684\u7bc0\u9ede                             \u2502\n\u2502 \u2022 ReActState    - \u50b3\u905e\u7684\u72c0\u614b                             \u2502\n\u2502 \u2022 ContextManager - \u4e0a\u4e0b\u6587\u7ba1\u7406                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u69cb\u5efa\u57f7\u884c\u5716\ngraph = (\n    StateGraph()\n    .add_node(\"thought\", ThoughtNode(llm_client))\n    .add_node(\"validate\", ValidateNode(rule_engine))\n    .add_node(\"action\", ActionNode(tool_registry))\n    .add_edge(\"thought\", \"validate\")\n    .add_edge(\"validate\", \"action\")\n    .set_entry_point(\"thought\")\n)\n\n# \u7de8\u8b6f\u4e26\u57f7\u884c\ncompiled = graph.compile()\nresult = compiled.invoke({\"query\": \"What is 2+2?\"})\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#3-basenode","title":"3. <code>BaseNode</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: BaseNode (ABC)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u5b9a\u7fa9\u7bc0\u9ede\u57f7\u884c\u7684\u901a\u7528\u6846\u67b6 (\u6a21\u7248\u65b9\u6cd5)                         \u2502\n\u2502 \u2022 \u63d0\u4f9b\u524d\u7f6e\u548c\u5f8c\u7f6e\u57f7\u884c\u9264\u5b50                                   \u2502\n\u2502 \u2022 \u5f37\u5236\u5b50\u985e\u5be6\u73fe run() \u65b9\u6cd5                                 \u2502\n\u2502 \u2022 \u6a19\u6e96\u5316\u7bc0\u9ede\u53ef\u8abf\u7528\u63a5\u53e3                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 ReActState  - \u8f38\u5165\u548c\u8f38\u51fa                               \u2502\n\u2502 \u2022 StateGraph  - \u88ab\u6dfb\u52a0\u5230\u5716\u4e2d                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code>class CustomNode(BaseNode):\n    name = \"custom\"\n\n    def run(self, state: ReActState) -&gt; ReActState:\n        # \u5be6\u73fe\u81ea\u5b9a\u7fa9\u908f\u8f2f\n        return state.add_step(...)\n\n    def before_run(self, state: ReActState) -&gt; None:\n        logger.info(f\"Starting {self.name}\")\n\n    def after_run(self, state: ReActState) -&gt; None:\n        logger.info(f\"Completed {self.name}\")\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#4-toolregistry","title":"4. <code>ToolRegistry</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: ToolRegistry (Singleton)                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u8a3b\u518a\u548c\u7ba1\u7406\u6240\u6709\u53ef\u7528\u5de5\u5177                                   \u2502\n\u2502 \u2022 \u63d0\u4f9b\u5de5\u5177\u767c\u73fe\u548c\u67e5\u8a62\u529f\u80fd                                   \u2502\n\u2502 \u2022 \u52d5\u614b\u8f09\u5165\u5de5\u5177\u5305                                          \u2502\n\u2502 \u2022 \u78ba\u4fdd\u5de5\u5177\u540d\u7a31\u552f\u4e00\u6027                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 Tool        - \u88ab\u8a3b\u518a\u7684\u5de5\u5177                             \u2502\n\u2502 \u2022 ActionNode  - \u67e5\u8a62\u548c\u4f7f\u7528\u5de5\u5177                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u8a3b\u518a\u5de5\u5177\nregistry = ToolRegistry()\nregistry.register(SearchTool())\nregistry.register(CalculatorTool())\n\n# \u52d5\u614b\u767c\u73fe\u5de5\u5177\nToolRegistry.discover(\"arkhon_rheo.tools.builtin\")\n\n# \u7372\u53d6\u5de5\u5177\ntool = registry.get(\"search\")\nresult = tool.run(query=\"Python async\")\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#5-ruleengine","title":"5. <code>RuleEngine</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: RuleEngine                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u9806\u5e8f\u57f7\u884c\u898f\u5247\u96c6\u5408 (\u8cac\u4efb\u93c8)                                \u2502\n\u2502 \u2022 \u6536\u96c6\u6240\u6709\u898f\u5247\u9055\u898f                                         \u2502\n\u2502 \u2022 \u63d0\u4f9b\u63d0\u524d\u7d42\u6b62\u9078\u9805                                         \u2502\n\u2502 \u2022 \u7ba1\u7406\u898f\u5247\u8a3b\u518a                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 Rule           - \u88ab\u57f7\u884c\u7684\u898f\u5247                          \u2502\n\u2502 \u2022 RuleViolation  - \u9055\u898f\u5831\u544a                             \u2502\n\u2502 \u2022 ValidateNode   - \u4f7f\u7528\u5f15\u64ce\u9a57\u8b49\u72c0\u614b                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u914d\u7f6e\u898f\u5247\u5f15\u64ce\nengine = (\n    RuleEngine()\n    .add_rule(MaxDepthRule(max_depth=10))\n    .add_rule(ForbidGuessingRule(min_confidence=0.8))\n    .add_rule(CostLimitRule(max_cost_usd=1.0))\n)\n\n# \u57f7\u884c\u9a57\u8b49\nviolations = engine.execute(state)\nif violations:\n    for v in violations:\n        logger.warning(f\"{v.rule_name}: {v.message}\")\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#phase-2-multi-agent-classes","title":"PHASE 2: Multi-Agent Classes","text":""},{"location":"vers0.1.0/oop/crc_cards/#6-agent","title":"6. <code>Agent</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: Agent                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u8868\u793a\u7368\u7acb\u7684 AI \u4ee3\u7406\u5be6\u9ad4                                  \u2502\n\u2502 \u2022 \u7ba1\u7406\u4ee3\u7406\u9593\u8a0a\u606f\u50b3\u905e                                       \u2502\n\u2502 \u2022 \u57f7\u884c\u81ea\u5df1\u7684 ReAct \u63a8\u7406\u5faa\u74b0                               \u2502\n\u2502 \u2022 \u8655\u7406\u540c\u6b65\u548c\u7570\u6b65\u901a\u8a0a                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 StateGraph       - \u4ee3\u7406\u7684\u57f7\u884c\u908f\u8f2f                      \u2502\n\u2502 \u2022 AgentMessage     - \u8a0a\u606f\u50b3\u905e                            \u2502\n\u2502 \u2022 SharedAgentState - \u5171\u4eab\u72c0\u614b\u8a2a\u554f                        \u2502\n\u2502 \u2022 Scheduler        - \u88ab\u8abf\u5ea6\u57f7\u884c                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u5275\u5efa\u5c08\u5bb6\u4ee3\u7406\nagent = Agent(\n    agent_id=\"planner-01\",\n    role=\"planning\",\n    graph=planning_graph\n)\n\n# \u767c\u9001\u4efb\u52d9\u8acb\u6c42\nagent.send_message(\n    to=\"coder-01\",\n    msg=AgentMessage(\n        type=\"request\",\n        payload={\"task\": \"Implement feature X\"}\n    )\n)\n\n# \u8655\u7406\u97ff\u61c9\nresponse = agent.receive_message(timeout=10.0)\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#7-coordinator","title":"7. <code>Coordinator</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: Coordinator (extends Agent)                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u5206\u89e3\u8907\u96dc\u4efb\u52d9\u70ba\u5b50\u4efb\u52d9                                     \u2502\n\u2502 \u2022 \u9078\u64c7\u5408\u9069\u7684\u5c08\u5bb6\u4ee3\u7406                                       \u2502\n\u2502 \u2022 \u805a\u5408\u5c08\u5bb6\u7d50\u679c                                            \u2502\n\u2502 \u2022 \u5354\u8abf\u591a\u4ee3\u7406\u5de5\u4f5c\u6d41\u7a0b                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 PlanningSpecialist - \u898f\u5283\u5c08\u5bb6                          \u2502\n\u2502 \u2022 CodingSpecialist   - \u7de8\u78bc\u5c08\u5bb6                          \u2502\n\u2502 \u2022 ReviewSpecialist   - \u5be9\u67e5\u5c08\u5bb6                          \u2502\n\u2502 \u2022 Scheduler          - \u4efb\u52d9\u8abf\u5ea6                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u5354\u8abf\u591a\u4ee3\u7406\ncoordinator = Coordinator(agent_id=\"coordinator\")\n\nresult = coordinator.coordinate(\n\"Build a REST API with auth\"\n)\n# \u5185\u90e8\u6d41\u7a0b:\n# 1. decompose_task() -&gt; [plan, code, review]\n# 2. select_agent() for each task\n# 3. Wait for specialists\n# 4. aggregate_results()\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#8-scheduler","title":"8. <code>Scheduler</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: Scheduler                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u7ba1\u7406\u4ee3\u7406\u4efb\u52d9\u968a\u5217                                         \u2502\n\u2502 \u2022 \u89e3\u6790\u4efb\u52d9\u4f9d\u8cf4\u95dc\u4fc2                                         \u2502\n\u2502 \u2022 \u4e26\u884c\u57f7\u884c\u7368\u7acb\u4efb\u52d9                                         \u2502\n\u2502 \u2022 \u512a\u5148\u7d1a\u8abf\u5ea6                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 Agent - \u88ab\u8abf\u5ea6\u7684\u4ee3\u7406                                   \u2502\n\u2502 \u2022 Task  - \u4efb\u52d9\u5b9a\u7fa9                                       \u2502\n\u2502 \u2022 ExecutionPlan - \u57f7\u884c\u8a08\u5283                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u5275\u5efa\u4efb\u52d9\ntasks = [\n    Task(id=\"t1\", agent_role=\"planning\", dependencies=[]),\n    Task(id=\"t2\", agent_role=\"coding\", dependencies=[\"t1\"]),\n    Task(id=\"t3\", agent_role=\"testing\", dependencies=[\"t2\"]),\n]\n\n# \u8abf\u5ea6\u57f7\u884c\nscheduler = Scheduler(agents={...})\nplan = scheduler.resolve_dependencies(tasks)\nresults = scheduler.execute_parallel(plan)  # t1 \u2192 (t2 || t3)\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#phase-3-memory-system-classes","title":"PHASE 3: Memory System Classes","text":""},{"location":"vers0.1.0/oop/crc_cards/#9-contextwindow","title":"9. <code>ContextWindow</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: ContextWindow                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u5be6\u73fe\u6ed1\u52d5\u7a97\u53e3\u8a18\u61b6\u7ba1\u7406                                     \u2502\n\u2502 \u2022 \u81ea\u52d5\u9a45\u9010\u6700\u820a\u6d88\u606f                                         \u2502\n\u2502 \u2022 Token \u8a08\u6578\u548c\u9650\u5236                                        \u2502\n\u2502 \u2022 FIFO \u6d88\u606f\u968a\u5217                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 ReasoningStep  - \u88ab\u5b58\u5132\u7684\u6d88\u606f                          \u2502\n\u2502 \u2022 TokenTracker   - Token \u8a08\u6578                           \u2502\n\u2502 \u2022 Summarization  - \u89f8\u767c\u58d3\u7e2e                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u914d\u7f6e context window\nwindow = ContextWindow(max_tokens=4000)\n\n# \u6dfb\u52a0\u6b65\u9a5f\nfor step in reasoning_steps:\n    window.add_message(step)\n    # \u81ea\u52d5\u9a45\u9010\u8d85\u51fa\u9650\u5236\u7684\u6d88\u606f\n\n# \u7372\u53d6\u7576\u524d\u4e0a\u4e0b\u6587\ncurrent_context = window.get_messages()\nassert window.count_tokens() &lt;= 4000\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#10-vectorstore","title":"10. <code>VectorStore</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: VectorStore (ABC)                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u5b9a\u7fa9\u5411\u91cf\u5b58\u5132\u63a5\u53e3                                         \u2502\n\u2502 \u2022 \u62bd\u8c61\u4e0d\u540c\u5411\u91cf\u6578\u64da\u5eab\u7684\u5dee\u7570                                  \u2502\n\u2502 \u2022 \u63d0\u4f9b upsert/query/delete \u64cd\u4f5c                          \u2502\n\u2502 \u2022 \u652f\u6301\u8a9e\u7fa9\u641c\u7d22                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 EmbeddingsClient    - \u751f\u6210\u5d4c\u5165                         \u2502\n\u2502 \u2022 RetrievalStrategy   - \u6aa2\u7d22\u7b56\u7565                         \u2502\n\u2502 \u2022 PineconeStore/...   - \u5177\u9ad4\u5be6\u73fe                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u62bd\u8c61\u5de5\u5ee0\u6a21\u5f0f\ndef create_vector_store(provider: str) -&gt; VectorStore:\n    if provider == \"pinecone\":\n        return PineconeStore(index_name=\"memory\")\n    elif provider == \"weaviate\":\n        return WeaviateStore(index_name=\"memory\")\n\n# \u4f7f\u7528\nstore = create_vector_store(\"pinecone\")\nstore.upsert(id=\"doc1\", vector=embedding, metadata={...})\n\n# \u8a9e\u7fa9\u641c\u7d22\nresults = store.query(query_vector, top_k=5)\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#11-checkpointmanager","title":"11. <code>CheckpointManager</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: CheckpointManager                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u4fdd\u5b58\u57f7\u884c\u72c0\u614b\u5feb\u7167 (Memento)                             \u2502\n\u2502 \u2022 \u7ba1\u7406 SQLite \u6301\u4e45\u5316\u5b58\u5132                                  \u2502\n\u2502 \u2022 \u81ea\u52d5\u589e\u91cf\u6aa2\u67e5\u9ede                                          \u2502\n\u2502 \u2022 \u6e05\u7406\u820a\u6aa2\u67e5\u9ede                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 ReActState       - \u88ab\u4fdd\u5b58\u7684\u72c0\u614b                        \u2502\n\u2502 \u2022 RollbackManager  - \u56de\u6efe\u64cd\u4f5c                            \u2502\n\u2502 \u2022 CommitNode       - \u89f8\u767c\u4fdd\u5b58                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u914d\u7f6e\u6aa2\u67e5\u9ede\nmanager = CheckpointManager(\n    db_path=Path(\".arkhon/checkpoints.db\"),\n    checkpoint_interval=5  # \u6bcf5\u6b65\u4e00\u6b21\n)\n\n# \u4fdd\u5b58\u6aa2\u67e5\u9ede\ncheckpoint_id = manager.save(current_state)\n\n# \u5217\u51fa\u6aa2\u67e5\u9ede\ncheckpoints = manager.list_checkpoints()\n\n# \u6e05\u7406\nmanager.cleanup_old(keep_n=10)\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#phase-4-cli-classes","title":"PHASE 4: CLI Classes","text":""},{"location":"vers0.1.0/oop/crc_cards/#12-cli","title":"12. <code>CLI</code>","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Class: CLI                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Responsibilities:                                       \u2502\n\u2502 \u2022 \u63d0\u4f9b\u547d\u4ee4\u884c\u63a5\u53e3\u5165\u53e3                                       \u2502\n\u2502 \u2022 \u89e3\u6790\u547d\u4ee4\u884c\u53c3\u6578                                          \u2502\n\u2502 \u2022 \u5206\u767c\u5230\u5177\u9ad4\u547d\u4ee4                                          \u2502\n\u2502 \u2022 \u932f\u8aa4\u8655\u7406\u548c\u5e6b\u52a9\u4fe1\u606f                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Collaborators:                                          \u2502\n\u2502 \u2022 InitCommand    - init \u547d\u4ee4                            \u2502\n\u2502 \u2022 RunCommand     - run \u547d\u4ee4                             \u2502\n\u2502 \u2022 MigrateCommand - migrate \u547d\u4ee4                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u4f7f\u7528\u5834\u666f:</p> <pre><code># \u521d\u59cb\u5316\u9805\u76ee\narkhon-rheo init my-agent --template=basic\n\n# \u904b\u884c\u4ee3\u7406\narkhon-rheo run --config=config.yaml --debug\n\n# \u9077\u79fb LangGraph \u9805\u76ee\narkhon-rheo migrate ./langgraph-project --output=./arkhon-project\n</code></pre>"},{"location":"vers0.1.0/oop/crc_cards/#crc_1","title":"CRC \u8a2d\u8a08\u539f\u5247","text":""},{"location":"vers0.1.0/oop/crc_cards/#1-srp","title":"1. \u55ae\u4e00\u8077\u8cac\u539f\u5247 (SRP)","text":"<p>\u6bcf\u500b\u985e\u5225\u53ea\u6709\u4e00\u500b\u660e\u78ba\u7684\u8077\u8cac\uff0c\u4f8b\u5982\uff1a</p> <ul> <li><code>ReActState</code> \u53ea\u7ba1\u7406\u72c0\u614b</li> <li><code>ToolRegistry</code> \u53ea\u7ba1\u7406\u5de5\u5177\u8a3b\u518a</li> <li><code>RuleEngine</code> \u53ea\u57f7\u884c\u898f\u5247</li> </ul>"},{"location":"vers0.1.0/oop/crc_cards/#2","title":"2. \u5354\u4f5c\u8005\u6700\u5c0f\u5316","text":"<p>\u9650\u5236\u6bcf\u500b\u985e\u5225\u7684\u5354\u4f5c\u8005\u6578\u91cf\uff0c\u964d\u4f4e\u8026\u5408\uff1a</p> <ul> <li><code>ReasoningStep</code> \u53ea\u5354\u4f5c <code>ReActState</code></li> <li><code>BaseNode</code> \u4e3b\u8981\u5354\u4f5c <code>ReActState</code> \u548c <code>StateGraph</code></li> </ul>"},{"location":"vers0.1.0/oop/crc_cards/#3","title":"3. \u62bd\u8c61\u7a69\u5b9a","text":"<p>\u62bd\u8c61\u985e(ABC) \u7684\u5354\u4f5c\u8005\u61c9\u8a72\u662f\u7a69\u5b9a\u7684\uff1a</p> <ul> <li><code>BaseNode</code> \u2192 <code>ReActState</code> (\u7a69\u5b9a)</li> <li><code>Tool</code> \u2192 <code>ToolResult</code> (\u7a69\u5b9a)</li> <li><code>VectorStore</code> \u2192 <code>EmbeddingsClient</code> (\u7a69\u5b9a)</li> </ul>"},{"location":"vers0.1.0/oop/crc_cards/#4","title":"4. \u4f9d\u8cf4\u5012\u7f6e","text":"<p>\u9ad8\u5c64\u6a21\u7d44\u4e0d\u4f9d\u8cf4\u4f4e\u5c64\u6a21\u7d44\uff0c\u90fd\u4f9d\u8cf4\u62bd\u8c61\uff1a</p> <ul> <li><code>ActionNode</code> \u2192 <code>Tool</code> (\u62bd\u8c61)</li> <li><code>ThoughtNode</code> \u2192 <code>LLMClient</code> (\u62bd\u8c61)</li> <li><code>ValidateNode</code> \u2192 <code>Rule</code> (\u62bd\u8c61)</li> </ul> <p>\u4e0b\u4e00\u6b65: \u67e5\u770b <code>typing_guide.md</code> \u4e86\u89e3\u5b8c\u6574\u7684 Typing Hints \u548c Docstrings \u898f\u7bc4</p>"},{"location":"vers0.1.0/oop/methods_properties/","title":"Arkhon-Rheo Methods &amp; Properties Reference","text":"<p>\u5b8c\u6574\u7684\u65b9\u6cd5\u3001\u5c6c\u6027\u548c\u51fd\u6578\u6e05\u55ae\uff0c\u542b\u985e\u578b\u7c3d\u540d</p>"},{"location":"vers0.1.0/oop/methods_properties/#phase-1-foundation","title":"PHASE 1: Foundation","text":""},{"location":"vers0.1.0/oop/methods_properties/#core-module","title":"Core Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#reactstate-dataclass","title":"<code>ReActState</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e \u9810\u8a2d\u503c <code>steps</code> <code>list[ReasoningStep]</code> \u63a8\u7406\u6b65\u9a5f\u6b77\u53f2 <code>field(default_factory=list)</code> <code>metadata</code> <code>dict[str, Any]</code> \u5143\u6578\u64da\u5b57\u5178 <code>field(default_factory=dict)</code> <code>trace_id</code> <code>str</code> \u8ffd\u8e64 ID \u81ea\u52d5\u751f\u6210 UUID <code>status</code> <code>Literal[\"running\", \"completed\", \"failed\"]</code> \u57f7\u884c\u72c0\u614b <code>\"running\"</code> <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>add_step</code> <code>(self, step: ReasoningStep)</code> <code>Self</code> \u6dfb\u52a0\u6b65\u9a5f\u4e26\u8fd4\u56de\u65b0\u72c0\u614b <code>validate</code> <code>(self)</code> <code>bool</code> \u9a57\u8b49\u72c0\u614b\u4e00\u81f4\u6027 <code>get_latest_step</code> <code>(self)</code> <code>ReasoningStep \\| None</code> \u7372\u53d6\u6700\u65b0\u6b65\u9a5f <code>to_dict</code> <code>(self)</code> <code>dict[str, Any]</code> \u5e8f\u5217\u5316\u70ba\u5b57\u5178"},{"location":"vers0.1.0/oop/methods_properties/#reasoningstep-dataclass","title":"<code>ReasoningStep</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>step_id</code> <code>str</code> \u6b65\u9a5f\u552f\u4e00 ID <code>type</code> <code>Literal[\"thought\", \"action\", \"observation\"]</code> \u6b65\u9a5f\u985e\u578b <code>content</code> <code>str</code> \u6b65\u9a5f\u5167\u5bb9 <code>tool_name</code> <code>str \\| None</code> \u4f7f\u7528\u7684\u5de5\u5177\u540d\u7a31 <code>tool_input</code> <code>dict[str, Any] \\| None</code> \u5de5\u5177\u8f38\u5165 <code>tool_output</code> <code>Any \\| None</code> \u5de5\u5177\u8f38\u51fa <code>timestamp</code> <code>datetime</code> \u6642\u9593\u6233 <code>metadata</code> <code>dict[str, Any]</code> \u984d\u5916\u5143\u6578\u64da <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>to_event</code> <code>(self)</code> <code>dict[str, Any]</code> \u8f49\u63db\u70ba\u4e8b\u4ef6\u65e5\u8a8c\u683c\u5f0f <code>is_action</code> <code>(self)</code> <code>bool</code> \u662f\u5426\u70ba action \u6b65\u9a5f <code>is_thought</code> <code>(self)</code> <code>bool</code> \u662f\u5426\u70ba thought \u6b65\u9a5f"},{"location":"vers0.1.0/oop/methods_properties/#stategraph-class","title":"<code>StateGraph</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>nodes</code> <code>dict[str, BaseNode]</code> \u7bc0\u9ede\u6620\u5c04 <code>edges</code> <code>dict[str, list[str]]</code> \u908a\u95dc\u4fc2 <code>entry_point</code> <code>str \\| None</code> \u5165\u53e3\u7bc0\u9ede\u540d\u7a31 <code>state</code> <code>ReActState</code> \u7576\u524d\u72c0\u614b <p>\u65b9\u6cd5 (Methods)</p> <p>| \u65b9\u6cd5\u540d\u7a31 | \u7c3d\u540d | \u8fd4\u56de\u985e\u578b | \u8aaa\u660e | |:---|:---|:---|:---| <code>add_node</code> | <code>(self, name: str, node: BaseNode)</code> | <code>Self</code> | \u6dfb\u52a0\u7bc0\u9ede | | <code>add_edge</code> | <code>(self, from_node: str, to_node: str)</code> | <code>Self</code> | \u6dfb\u52a0\u908a | | <code>set_entry_point</code> | <code>(self, name: str)</code> | <code>Self</code> | \u8a2d\u7f6e\u5165\u53e3\u9ede | | <code>compile</code> | <code>(self)</code> | <code>CompiledGraph</code> | \u7de8\u8b6f\u5716\u70ba\u53ef\u57f7\u884c\u5c0d\u8c61 | | <code>invoke</code> | <code>(self, input: dict[str, Any])</code> | <code>ReActState</code> | \u540c\u6b65\u57f7\u884c\u5716 | | <code>stream</code> | <code>(self, input: dict[str, Any])</code> | <code>Iterator[ReActState]</code> | \u6d41\u5f0f\u57f7\u884c\u5716 | | <code>validate_graph</code> | <code>(self)</code> | <code>bool</code> | \u9a57\u8b49\u5716\u7d50\u69cb\u5408\u6cd5\u6027 |</p>"},{"location":"vers0.1.0/oop/methods_properties/#contextmanager-class","title":"<code>ContextManager</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>_context</code> <code>ContextVar[dict[str, Any]]</code> \u7dda\u7a0b\u672c\u5730\u4e0a\u4e0b\u6587 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>get</code> <code>(self, key: str, default: T = None)</code> <code>T \\| None</code> \u7372\u53d6\u4e0a\u4e0b\u6587\u503c <code>set</code> <code>(self, key: str, value: Any)</code> <code>None</code> \u8a2d\u7f6e\u4e0a\u4e0b\u6587\u503c <code>generate_trace_id</code> <code>()</code> <code>str</code> \u751f\u6210\u8ffd\u8e64 ID (\u975c\u614b\u65b9\u6cd5) <code>__enter__</code> <code>(self)</code> <code>Self</code> \u9032\u5165\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668 <code>__exit__</code> <code>(self, ...)</code> <code>None</code> \u9000\u51fa\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668"},{"location":"vers0.1.0/oop/methods_properties/#nodes-module","title":"Nodes Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#basenode-abc","title":"<code>BaseNode</code> (ABC)","text":"<p>\u62bd\u8c61\u5c6c\u6027 (Abstract Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>name</code> <code>str</code> \u7bc0\u9ede\u540d\u7a31 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u57f7\u884c\u7bc0\u9ede\u908f\u8f2f (\u62bd\u8c61) <code>before_run</code> <code>(self, state: ReActState)</code> <code>None</code> \u57f7\u884c\u524d\u9264\u5b50 <code>after_run</code> <code>(self, state: ReActState)</code> <code>None</code> \u57f7\u884c\u5f8c\u9264\u5b50 <code>__call__</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u53ef\u8abf\u7528\u63a5\u53e3"},{"location":"vers0.1.0/oop/methods_properties/#thoughtnode-basenode","title":"<code>ThoughtNode</code> (BaseNode)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>llm_client</code> <code>LLMClient</code> LLM \u5ba2\u6236\u7aef <code>prompt_template</code> <code>PromptTemplate</code> \u63d0\u793a\u6a21\u677f <code>token_tracker</code> <code>TokenTracker</code> Token \u8a08\u6578\u5668 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u751f\u6210\u601d\u7dad\u6b65\u9a5f <code>format_prompt</code> <code>(self, state: ReActState)</code> <code>str</code> \u683c\u5f0f\u5316\u63d0\u793a <code>parse_response</code> <code>(self, response: str)</code> <code>str</code> \u89e3\u6790 LLM \u97ff\u61c9"},{"location":"vers0.1.0/oop/methods_properties/#actionnode-basenode","title":"<code>ActionNode</code> (BaseNode)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>tool_registry</code> <code>ToolRegistry</code> \u5de5\u5177\u8a3b\u518a\u8868 <code>max_retries</code> <code>int</code> \u6700\u5927\u91cd\u8a66\u6b21\u6578 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u57f7\u884c\u5de5\u5177\u8abf\u7528 <code>select_tool</code> <code>(self, thought: str)</code> <code>Tool \\| None</code> \u9078\u64c7\u5de5\u5177 <code>execute_tool</code> <code>(self, tool: Tool, input: dict)</code> <code>ToolResult</code> \u57f7\u884c\u5de5\u5177 <code>handle_error</code> <code>(self, error: Exception)</code> <code>ToolResult</code> \u932f\u8aa4\u8655\u7406"},{"location":"vers0.1.0/oop/methods_properties/#observationnode-basenode","title":"<code>ObservationNode</code> (BaseNode)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>max_length</code> <code>int</code> \u6700\u5927\u89c0\u5bdf\u9577\u5ea6 <code>formatter</code> <code>Callable[[Any], str]</code> \u683c\u5f0f\u5316\u51fd\u6578 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u683c\u5f0f\u5316\u89c0\u5bdf <code>truncate</code> <code>(self, text: str)</code> <code>str</code> \u622a\u65b7\u6587\u672c <code>format_result</code> <code>(self, result: ToolResult)</code> <code>str</code> \u683c\u5f0f\u5316\u7d50\u679c"},{"location":"vers0.1.0/oop/methods_properties/#validatenode-basenode","title":"<code>ValidateNode</code> (BaseNode)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>rule_engine</code> <code>RuleEngine</code> \u898f\u5247\u5f15\u64ce <code>auto_retry</code> <code>bool</code> \u81ea\u52d5\u91cd\u8a66 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u57f7\u884c\u9a57\u8b49 <code>collect_violations</code> <code>(self, state: ReActState)</code> <code>list[RuleViolation]</code> \u6536\u96c6\u9055\u898f <code>format_error_report</code> <code>(self, violations: list)</code> <code>str</code> \u683c\u5f0f\u5316\u932f\u8aa4\u5831\u544a"},{"location":"vers0.1.0/oop/methods_properties/#commitnode-basenode","title":"<code>CommitNode</code> (BaseNode)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>checkpoint_manager</code> <code>CheckpointManager \\| None</code> \u6aa2\u67e5\u9ede\u7ba1\u7406\u5668 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u63d0\u4ea4\u72c0\u614b <code>persist_state</code> <code>(self, state: ReActState)</code> <code>None</code> \u6301\u4e45\u5316\u72c0\u614b <code>transition</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u72c0\u614b\u8f49\u63db"},{"location":"vers0.1.0/oop/methods_properties/#tools-module","title":"Tools Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#tool-abc","title":"<code>Tool</code> (ABC)","text":"<p>\u62bd\u8c61\u5c6c\u6027 (Abstract Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>name</code> <code>str</code> \u5de5\u5177\u540d\u7a31 <code>description</code> <code>str</code> \u5de5\u5177\u63cf\u8ff0 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>run</code> <code>(self, **kwargs: Any)</code> <code>ToolResult</code> \u57f7\u884c\u5de5\u5177 (\u62bd\u8c61) <code>get_schema</code> <code>(self)</code> <code>dict[str, Any]</code> \u7372\u53d6 JSON Schema <code>validate_input</code> <code>(self, input: dict)</code> <code>bool</code> \u9a57\u8b49\u8f38\u5165"},{"location":"vers0.1.0/oop/methods_properties/#toolresult-dataclass","title":"<code>ToolResult</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>success</code> <code>bool</code> \u662f\u5426\u6210\u529f <code>output</code> <code>Any</code> \u8f38\u51fa\u5167\u5bb9 <code>error</code> <code>str \\| None</code> \u932f\u8aa4\u4fe1\u606f <code>metadata</code> <code>dict[str, Any]</code> \u5143\u6578\u64da"},{"location":"vers0.1.0/oop/methods_properties/#toolregistry-class-singleton","title":"<code>ToolRegistry</code> (Class, Singleton)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>_tools</code> <code>dict[str, Tool]</code> \u5de5\u5177\u6620\u5c04 <code>_instance</code> <code>ToolRegistry \\| None</code> \u55ae\u4f8b\u5be6\u4f8b <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>register</code> <code>(self, tool: Tool)</code> <code>None</code> \u8a3b\u518a\u5de5\u5177 <code>get</code> <code>(self, name: str)</code> <code>Tool \\| None</code> \u7372\u53d6\u5de5\u5177 <code>list_tools</code> <code>(self)</code> <code>list[str]</code> \u5217\u51fa\u6240\u6709\u5de5\u5177 <code>discover</code> <code>(cls, package: str)</code> <code>None</code> \u52d5\u614b\u767c\u73fe\u5de5\u5177 (\u985e\u65b9\u6cd5)"},{"location":"vers0.1.0/oop/methods_properties/#config-module","title":"Config Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#engineconfig-pydantic-basemodel","title":"<code>EngineConfig</code> (Pydantic BaseModel)","text":"<p>\u5c6c\u6027 (Fields)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e \u9a57\u8b49\u5668 <code>max_iterations</code> <code>int</code> \u6700\u5927\u8fed\u4ee3\u6b21\u6578 <code>Field(gt=0, le=100)</code> <code>llm</code> <code>LLMConfig</code> LLM \u914d\u7f6e - <code>tools</code> <code>list[ToolConfig]</code> \u5de5\u5177\u914d\u7f6e\u5217\u8868 - <code>rules</code> <code>list[RuleConfig]</code> \u898f\u5247\u914d\u7f6e\u5217\u8868 - <code>debug</code> <code>bool</code> \u8abf\u8a66\u6a21\u5f0f <code>Field(default=False)</code> <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>validate_llm_config</code> <code>(cls, v: LLMConfig)</code> <code>LLMConfig</code> \u9a57\u8b49\u5668 (validator) <code>to_yaml</code> <code>(self)</code> <code>str</code> \u5e8f\u5217\u5316\u70ba YAML"},{"location":"vers0.1.0/oop/methods_properties/#llmconfig-pydantic-basemodel","title":"<code>LLMConfig</code> (Pydantic BaseModel)","text":"<p>\u5c6c\u6027 (Fields)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>provider</code> <code>Literal[\"openai\", \"anthropic\", \"google\"]</code> LLM \u63d0\u4f9b\u5546 <code>model</code> <code>str</code> \u6a21\u578b\u540d\u7a31 <code>api_key</code> <code>SecretStr</code> API \u5bc6\u9470 <code>temperature</code> <code>float</code> \u6eab\u5ea6\u53c3\u6578 <code>max_tokens</code> <code>int</code> \u6700\u5927 token \u6578"},{"location":"vers0.1.0/oop/methods_properties/#configloader-class","title":"<code>ConfigLoader</code> (Class)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>load_yaml</code> <code>(cls, path: Path)</code> <code>dict[str, Any]</code> \u8f09\u5165 YAML (\u985e\u65b9\u6cd5) <code>merge_configs</code> <code>(cls, *configs: dict)</code> <code>dict[str, Any]</code> \u5408\u4f75\u914d\u7f6e (\u985e\u65b9\u6cd5) <code>expand_env_vars</code> <code>(cls, config: dict)</code> <code>dict[str, Any]</code> \u64f4\u5c55\u74b0\u5883\u8b8a\u91cf (\u985e\u65b9\u6cd5) <code>load</code> <code>(cls, path: Path)</code> <code>EngineConfig</code> \u8f09\u5165\u4e26\u9a57\u8b49\u914d\u7f6e (\u985e\u65b9\u6cd5)"},{"location":"vers0.1.0/oop/methods_properties/#rules-module","title":"Rules Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#rule-abc","title":"<code>Rule</code> (ABC)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>evaluate</code> <code>(self, state: ReActState)</code> <code>RuleViolation \\| None</code> \u8a55\u4f30\u898f\u5247 (\u62bd\u8c61) <code>name</code> <code>(self)</code> <code>str</code> \u898f\u5247\u540d\u7a31 (\u5c6c\u6027)"},{"location":"vers0.1.0/oop/methods_properties/#ruleengine-class","title":"<code>RuleEngine</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>rules</code> <code>list[Rule]</code> \u898f\u5247\u5217\u8868 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>add_rule</code> <code>(self, rule: Rule)</code> <code>Self</code> \u6dfb\u52a0\u898f\u5247 <code>execute</code> <code>(self, state: ReActState)</code> <code>list[RuleViolation]</code> \u57f7\u884c\u6240\u6709\u898f\u5247 <code>execute_until_violation</code> <code>(self, state: ReActState)</code> <code>RuleViolation \\| None</code> \u57f7\u884c\u76f4\u5230\u9055\u898f"},{"location":"vers0.1.0/oop/methods_properties/#ruleviolation-dataclass","title":"<code>RuleViolation</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>rule_name</code> <code>str</code> \u898f\u5247\u540d\u7a31 <code>message</code> <code>str</code> \u9055\u898f\u4fe1\u606f <code>severity</code> <code>Literal[\"error\", \"warning\"]</code> \u56b4\u91cd\u7a0b\u5ea6 <code>step_id</code> <code>str \\| None</code> \u76f8\u95dc\u6b65\u9a5f ID"},{"location":"vers0.1.0/oop/methods_properties/#phase-2-multi-agent-system","title":"PHASE 2: Multi-Agent System","text":""},{"location":"vers0.1.0/oop/methods_properties/#core-module-extensions","title":"Core Module Extensions","text":""},{"location":"vers0.1.0/oop/methods_properties/#agent-class","title":"<code>Agent</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>agent_id</code> <code>str</code> \u4ee3\u7406 ID <code>role</code> <code>str</code> \u4ee3\u7406\u89d2\u8272 <code>graph</code> <code>StateGraph</code> \u4ee3\u7406\u57f7\u884c\u5716 <code>message_queue</code> <code>Queue[AgentMessage]</code> \u8a0a\u606f\u968a\u5217 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>send_message</code> <code>(self, to: str, msg: AgentMessage)</code> <code>None</code> \u767c\u9001\u8a0a\u606f <code>receive_message</code> <code>(self, timeout: float = None)</code> <code>AgentMessage \\| None</code> \u63a5\u6536\u8a0a\u606f <code>process_message</code> <code>(self, msg: AgentMessage)</code> <code>AgentMessage</code> \u8655\u7406\u8a0a\u606f <code>run</code> <code>(self, input: dict)</code> <code>ReActState</code> \u57f7\u884c\u4ee3\u7406"},{"location":"vers0.1.0/oop/methods_properties/#agentmessage-dataclass","title":"<code>AgentMessage</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>message_id</code> <code>str</code> \u8a0a\u606f ID <code>from_agent</code> <code>str</code> \u767c\u9001\u8005 ID <code>to_agent</code> <code>str</code> \u63a5\u6536\u8005 ID <code>type</code> <code>Literal[\"request\", \"response\", \"notification\"]</code> \u8a0a\u606f\u985e\u578b <code>payload</code> <code>dict[str, Any]</code> \u8a0a\u606f\u5167\u5bb9 <code>correlation_id</code> <code>str \\| None</code> \u95dc\u806f ID (\u7528\u65bc\u8acb\u6c42-\u97ff\u61c9) <code>timestamp</code> <code>datetime</code> \u6642\u9593\u6233"},{"location":"vers0.1.0/oop/methods_properties/#sharedagentstate-class","title":"<code>SharedAgentState</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>_state</code> <code>dict[str, Any]</code> \u5171\u4eab\u72c0\u614b\u5b57\u5178 <code>_locks</code> <code>dict[str, Lock]</code> \u8cc7\u6e90\u9396 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>get</code> <code>(self, key: str)</code> <code>Any \\| None</code> \u7372\u53d6\u72c0\u614b (\u7dda\u7a0b\u5b89\u5168) <code>set</code> <code>(self, key: str, value: Any)</code> <code>None</code> \u8a2d\u7f6e\u72c0\u614b (\u7dda\u7a0b\u5b89\u5168) <code>acquire_lock</code> <code>(self, resource: str)</code> <code>Lock</code> \u7372\u53d6\u8cc7\u6e90\u9396 <code>release_lock</code> <code>(self, resource: str)</code> <code>None</code> \u91cb\u653e\u8cc7\u6e90\u9396"},{"location":"vers0.1.0/oop/methods_properties/#subgraph-class","title":"<code>SubGraph</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>graph</code> <code>StateGraph</code> \u5b50\u5716\u5be6\u4f8b <code>name</code> <code>str</code> \u5b50\u5716\u540d\u7a31 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>as_node</code> <code>(self)</code> <code>BaseNode</code> \u8f49\u63db\u70ba\u7bc0\u9ede <code>invoke</code> <code>(self, state: ReActState)</code> <code>ReActState</code> \u57f7\u884c\u5b50\u5716 <code>propagate_context</code> <code>(self, parent_state: ReActState)</code> <code>ReActState</code> \u50b3\u64ad\u4e0a\u4e0b\u6587"},{"location":"vers0.1.0/oop/methods_properties/#agents-module","title":"Agents Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#coordinator-agent","title":"<code>Coordinator</code> (Agent)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>decompose_task</code> <code>(self, task: str)</code> <code>list[Task]</code> \u5206\u89e3\u4efb\u52d9 <code>select_agent</code> <code>(self, task: Task)</code> <code>str</code> \u9078\u64c7\u4ee3\u7406 <code>aggregate_results</code> <code>(self, results: list[Any])</code> <code>Any</code> \u805a\u5408\u7d50\u679c <code>coordinate</code> <code>(self, task: str)</code> <code>dict[str, Any]</code> \u5354\u8abf\u591a\u4ee3\u7406\u57f7\u884c"},{"location":"vers0.1.0/oop/methods_properties/#planningspecialist-codingspecialist-reviewspecialist-agent","title":"<code>PlanningSpecialist</code> / <code>CodingSpecialist</code> / <code>ReviewSpecialist</code> (Agent)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>execute_specialty</code> <code>(self, input: dict)</code> <code>dict[str, Any]</code> \u57f7\u884c\u5c08\u696d\u4efb\u52d9"},{"location":"vers0.1.0/oop/methods_properties/#runtime-module","title":"Runtime Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#scheduler-class","title":"<code>Scheduler</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>task_queue</code> <code>PriorityQueue[Task]</code> \u4efb\u52d9\u968a\u5217 <code>agents</code> <code>dict[str, Agent]</code> \u4ee3\u7406\u6620\u5c04 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>schedule</code> <code>(self, task: Task)</code> <code>None</code> \u8abf\u5ea6\u4efb\u52d9 <code>resolve_dependencies</code> <code>(self, tasks: list[Task])</code> <code>ExecutionPlan</code> \u89e3\u6790\u4f9d\u8cf4 <code>execute_parallel</code> <code>(self, plan: ExecutionPlan)</code> <code>list[Any]</code> \u4e26\u884c\u57f7\u884c"},{"location":"vers0.1.0/oop/methods_properties/#task-dataclass","title":"<code>Task</code> (Dataclass)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>task_id</code> <code>str</code> \u4efb\u52d9 ID <code>description</code> <code>str</code> \u4efb\u52d9\u63cf\u8ff0 <code>agent_role</code> <code>str</code> \u4ee3\u7406\u89d2\u8272 <code>dependencies</code> <code>list[str]</code> \u4f9d\u8cf4\u4efb\u52d9 ID <code>priority</code> <code>int</code> \u512a\u5148\u7d1a"},{"location":"vers0.1.0/oop/methods_properties/#phase-3-memory-systems","title":"PHASE 3: Memory Systems","text":""},{"location":"vers0.1.0/oop/methods_properties/#memory-module","title":"Memory Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#contextwindow-class","title":"<code>ContextWindow</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>max_tokens</code> <code>int</code> \u6700\u5927 token \u9650\u5236 <code>messages</code> <code>deque[ReasoningStep]</code> \u6ed1\u52d5\u7a97\u53e3\u6d88\u606f <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>add_message</code> <code>(self, step: ReasoningStep)</code> <code>None</code> \u6dfb\u52a0\u6d88\u606f <code>evict_oldest</code> <code>(self)</code> <code>ReasoningStep \\| None</code> \u9a45\u9010\u6700\u820a\u6d88\u606f <code>count_tokens</code> <code>(self)</code> <code>int</code> \u8a08\u7b97\u7576\u524d token \u6578 <code>get_messages</code> <code>(self)</code> <code>list[ReasoningStep]</code> \u7372\u53d6\u6240\u6709\u6d88\u606f"},{"location":"vers0.1.0/oop/methods_properties/#summarization-class","title":"<code>Summarization</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>llm_client</code> <code>LLMClient</code> LLM \u5ba2\u6236\u7aef <code>compression_ratio</code> <code>float</code> \u58d3\u7e2e\u6bd4\u7387 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>summarize</code> <code>(self, steps: list[ReasoningStep])</code> <code>str</code> \u6458\u8981\u751f\u6210 <code>preserve_critical_info</code> <code>(self, steps: list)</code> <code>list[ReasoningStep]</code> \u4fdd\u7559\u95dc\u9375\u4fe1\u606f"},{"location":"vers0.1.0/oop/methods_properties/#vectorstore-abc","title":"<code>VectorStore</code> (ABC)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>upsert</code> <code>(self, id: str, vector: list[float], metadata: dict)</code> <code>None</code> \u63d2\u5165/\u66f4\u65b0\u5411\u91cf (\u62bd\u8c61) <code>query</code> <code>(self, vector: list[float], top_k: int)</code> <code>list[tuple[str, float]]</code> \u67e5\u8a62\u6700\u8fd1\u9130 (\u62bd\u8c61) <code>delete</code> <code>(self, id: str)</code> <code>None</code> \u522a\u9664\u5411\u91cf (\u62bd\u8c61)"},{"location":"vers0.1.0/oop/methods_properties/#pineconestore-weaviatestore-vectorstore","title":"<code>PineconeStore</code> / <code>WeaviateStore</code> (VectorStore)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>client</code> <code>Pinecone \\| WeaviateClient</code> \u5ba2\u6236\u7aef\u5be6\u4f8b <code>index_name</code> <code>str</code> \u7d22\u5f15\u540d\u7a31 <p>\u65b9\u6cd5 (Methods)</p> <p>\u5be6\u4f5c <code>VectorStore</code> \u7684\u6240\u6709\u62bd\u8c61\u65b9\u6cd5</p>"},{"location":"vers0.1.0/oop/methods_properties/#embeddingsclient-class","title":"<code>EmbeddingsClient</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>provider</code> <code>Literal[\"openai\", \"cohere\"]</code> \u5d4c\u5165\u63d0\u4f9b\u5546 <code>batch_size</code> <code>int</code> \u6279\u8655\u7406\u5927\u5c0f <code>cache</code> <code>dict[str, list[float]]</code> \u5d4c\u5165\u7de9\u5b58 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>embed</code> <code>(self, text: str)</code> <code>list[float]</code> \u751f\u6210\u5d4c\u5165 <code>embed_batch</code> <code>(self, texts: list[str])</code> <code>list[list[float]]</code> \u6279\u91cf\u751f\u6210\u5d4c\u5165"},{"location":"vers0.1.0/oop/methods_properties/#runtime-module-extensions","title":"Runtime Module Extensions","text":""},{"location":"vers0.1.0/oop/methods_properties/#checkpointmanager-class","title":"<code>CheckpointManager</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>db_path</code> <code>Path</code> SQLite \u6578\u64da\u5eab\u8def\u5f91 <code>checkpoint_interval</code> <code>int</code> \u6aa2\u67e5\u9ede\u9593\u9694 (\u6b65\u6578) <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>save</code> <code>(self, state: ReActState)</code> <code>str</code> \u4fdd\u5b58\u6aa2\u67e5\u9ede\uff0c\u8fd4\u56de checkpoint_id <code>load</code> <code>(self, checkpoint_id: str)</code> <code>ReActState</code> \u8f09\u5165\u6aa2\u67e5\u9ede <code>list_checkpoints</code> <code>(self)</code> <code>list[str]</code> \u5217\u51fa\u6240\u6709\u6aa2\u67e5\u9ede <code>cleanup_old</code> <code>(self, keep_n: int = 10)</code> <code>None</code> \u6e05\u7406\u820a\u6aa2\u67e5\u9ede"},{"location":"vers0.1.0/oop/methods_properties/#rollbackmanager-class","title":"<code>RollbackManager</code> (Class)","text":"<p>\u5c6c\u6027 (Properties)</p> \u5c6c\u6027\u540d\u7a31 \u985e\u578b \u8aaa\u660e <code>checkpoint_manager</code> <code>CheckpointManager</code> \u6aa2\u67e5\u9ede\u7ba1\u7406\u5668 <p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>rollback_to_step</code> <code>(self, step_id: str)</code> <code>ReActState</code> \u56de\u6efe\u5230\u6307\u5b9a\u6b65\u9a5f <code>rollback_to_checkpoint</code> <code>(self, checkpoint_id: str)</code> <code>ReActState</code> \u56de\u6efe\u5230\u6aa2\u67e5\u9ede <code>validate_rollback</code> <code>(self, state: ReActState)</code> <code>bool</code> \u9a57\u8b49\u56de\u6efe\u72c0\u614b"},{"location":"vers0.1.0/oop/methods_properties/#phase-4-framework-release","title":"PHASE 4: Framework Release","text":""},{"location":"vers0.1.0/oop/methods_properties/#cli-module","title":"CLI Module","text":""},{"location":"vers0.1.0/oop/methods_properties/#cli-class","title":"<code>CLI</code> (Class)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>main</code> <code>(cls, args: list[str])</code> <code>int</code> CLI \u5165\u53e3 (\u985e\u65b9\u6cd5) <code>parse_args</code> <code>(cls, args: list[str])</code> <code>Namespace</code> \u89e3\u6790\u53c3\u6578 (\u985e\u65b9\u6cd5) <code>dispatch_command</code> <code>(cls, command: str)</code> <code>Command</code> \u5206\u767c\u547d\u4ee4 (\u985e\u65b9\u6cd5)"},{"location":"vers0.1.0/oop/methods_properties/#initcommand-command","title":"<code>InitCommand</code> (Command)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>execute</code> <code>(self, args: Namespace)</code> <code>int</code> \u57f7\u884c\u521d\u59cb\u5316\u547d\u4ee4 <code>scaffold_project</code> <code>(self, path: Path, template: str)</code> <code>None</code> \u751f\u6210\u9805\u76ee\u7d50\u69cb"},{"location":"vers0.1.0/oop/methods_properties/#runcommand-command","title":"<code>RunCommand</code> (Command)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>execute</code> <code>(self, args: Namespace)</code> <code>int</code> \u57f7\u884c ReAct \u5faa\u74b0 <code>load_graph</code> <code>(self, config: Path)</code> <code>StateGraph</code> \u8f09\u5165\u57f7\u884c\u5716"},{"location":"vers0.1.0/oop/methods_properties/#migratecommand-command","title":"<code>MigrateCommand</code> (Command)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>execute</code> <code>(self, args: Namespace)</code> <code>int</code> \u57f7\u884c\u9077\u79fb <code>analyze_langgraph</code> <code>(self, path: Path)</code> <code>MigrationPlan</code> \u5206\u6790 LangGraph \u4ee3\u78bc <code>generate_diff</code> <code>(self, plan: MigrationPlan)</code> <code>str</code> \u751f\u6210\u5dee\u7570\u9810\u89bd <code>apply_migration</code> <code>(self, plan: MigrationPlan)</code> <code>None</code> \u61c9\u7528\u9077\u79fb"},{"location":"vers0.1.0/oop/methods_properties/#projectscaffolder-class","title":"<code>ProjectScaffolder</code> (Class)","text":"<p>\u65b9\u6cd5 (Methods)</p> \u65b9\u6cd5\u540d\u7a31 \u7c3d\u540d \u8fd4\u56de\u985e\u578b \u8aaa\u660e <code>create_structure</code> <code>(self, path: Path, template: str)</code> <code>None</code> \u5275\u5efa\u9805\u76ee\u7d50\u69cb <code>render_template</code> <code>(self, template: str, context: dict)</code> <code>str</code> \u6e32\u67d3\u6a21\u677f"},{"location":"vers0.1.0/oop/methods_properties/#_1","title":"\u7d71\u8a08\u6458\u8981","text":"\u985e\u5225 \u65b9\u6cd5\u7e3d\u6578 \u5c6c\u6027\u7e3d\u6578 Core (PHASE 1) 42 28 Nodes (PHASE 1) 24 18 Tools (PHASE 1) 15 8 Config (PHASE 1) 8 12 Rules (PHASE 1) 7 5 Agents (PHASE 2) 18 12 Memory (PHASE 3) 16 10 CLI (PHASE 4) 12 6 \u7e3d\u8a08 142 99 <p>\u4e0b\u4e00\u6b65: \u67e5\u770b <code>class_diagram.md</code> \u4e86\u89e3\u5b8c\u6574\u7684 UML \u985e\u5716</p>"},{"location":"vers0.1.0/oop/task/","title":"Task: Arkhon-Rheo OOP Architecture Design","text":""},{"location":"vers0.1.0/oop/task/#_1","title":"\u76ee\u6a19","text":"<p>\u8a2d\u8a08\u5b8c\u6574\u7684 Python OOP \u67b6\u69cb\uff0c\u6db5\u84cb PHASE 1-4 \u6240\u6709\u529f\u80fd</p>"},{"location":"vers0.1.0/oop/task/#checklist","title":"Checklist","text":""},{"location":"vers0.1.0/oop/task/#phase-1","title":"Phase 1: \u67b6\u69cb\u5206\u6790\u8207\u898f\u5283","text":"<ul> <li>[x] \u4f7f\u7528 sequential thinking \u5206\u6790 ROADMAP.md \u4e2d\u7684\u6240\u6709\u985e\u5225\u9700\u6c42</li> <li>[x] \u8b58\u5225\u6838\u5fc3\u9818\u57df\u6a21\u578b\u548c\u8a2d\u8a08\u6a21\u5f0f</li> <li>[x] \u898f\u5283\u985e\u5225\u4e4b\u9593\u7684\u4f9d\u8cf4\u95dc\u4fc2</li> </ul>"},{"location":"vers0.1.0/oop/task/#phase-2","title":"Phase 2: \u985e\u5225\u8a2d\u8a08","text":"<ul> <li>[x] \u5efa\u7acb PHASE 1-4 \u6240\u6709\u985e\u5225\u7684\u6e05\u55ae\u8868\u683c</li> <li>[x] \u5b9a\u7fa9\u6bcf\u500b\u985e\u5225\u7684\u8cac\u4efb\u548c\u5354\u4f5c\u8005</li> <li>[x] \u8a2d\u8a08\u985e\u5225\u7e7c\u627f\u548c\u7d44\u5408\u95dc\u4fc2</li> </ul>"},{"location":"vers0.1.0/oop/task/#phase-3","title":"Phase 3: \u65b9\u6cd5\u8207\u5c6c\u6027\u8a2d\u8a08","text":"<ul> <li>[x] \u5217\u51fa\u6240\u6709\u65b9\u6cd5\u3001\u5c6c\u6027\u3001\u51fd\u6578\u7684\u8a73\u7d30\u8868\u683c</li> <li>[x] \u5b9a\u7fa9\u65b9\u6cd5\u7c3d\u540d\u548c\u8fd4\u56de\u985e\u578b</li> <li>[x] \u8a2d\u8a08 typing hints \u898f\u7bc4</li> </ul>"},{"location":"vers0.1.0/oop/task/#phase-4","title":"Phase 4: \u6587\u6a94\u8207\u5716\u8868","text":"<ul> <li>[x] \u7e6a\u88fd\u5b8c\u6574\u7684 UML class diagram (Mermaid)</li> <li>[x] \u5efa\u7acb CRC \u5361\u7247\uff08Class-Responsibility-Collaborator\uff09</li> <li>[x] \u64b0\u5beb\u5b8c\u6574\u7684 docstrings \u7bc4\u4f8b</li> </ul>"},{"location":"vers0.1.0/oop/task/#phase-5","title":"Phase 5: \u9a57\u8b49\u8207\u512a\u5316","text":"<ul> <li>[x] \u6aa2\u67e5 SOLID \u539f\u5247\u9075\u5faa\u60c5\u6cc1</li> <li>[x] \u9a57\u8b49\u8a2d\u8a08\u6a21\u5f0f\u7684\u6b63\u78ba\u61c9\u7528</li> <li>[x] \u78ba\u4fdd API \u7684\u4e00\u81f4\u6027\u548c\u53ef\u7528\u6027</li> </ul>"},{"location":"vers0.1.0/oop/typing_guide/","title":"Arkhon-Rheo Typing &amp; Docstring Guide","text":"<p>Python 3.12+ \u985e\u578b\u63d0\u793a\u548c\u6587\u6a94\u5b57\u7b26\u4e32\u6700\u4f73\u5be6\u8e10</p>"},{"location":"vers0.1.0/oop/typing_guide/#_1","title":"\u76ee\u9304","text":"<ol> <li>Typing Hints \u898f\u7bc4</li> <li>Docstring \u683c\u5f0f (Google Style)</li> <li>\u5b8c\u6574\u7bc4\u4f8b</li> <li>\u7279\u6b8a\u6a21\u5f0f</li> <li>mypy \u914d\u7f6e</li> </ol>"},{"location":"vers0.1.0/oop/typing_guide/#typing-hints","title":"Typing Hints \u898f\u7bc4","text":""},{"location":"vers0.1.0/oop/typing_guide/#1","title":"1. \u57fa\u672c\u985e\u578b\u6a19\u8a3b","text":"<pre><code>from typing import Any, Optional, Union, Literal\nfrom collections.abc import Callable, Iterator, Sequence\nfrom pathlib import Path\nfrom datetime import datetime\n\n# \u7c21\u55ae\u985e\u578b\nname: str = \"example\"\ncount: int = 0\nratio: float = 0.5\nis_valid: bool = True\n\n# \u96c6\u5408\u985e\u578b (Python 3.9+)\nnumbers: list[int] = [1, 2, 3]\nmapping: dict[str, Any] = {\"key\": \"value\"}\nunique_ids: set[str] = {\"id1\", \"id2\"}\ncoordinates: tuple[float, float] = (1.0, 2.0)\n\n# \u53ef\u9078\u985e\u578b (Python 3.10+)\noptional_text: str | None = None  # \u63a8\u85a6\n# \u6216\nfrom typing import Optional\noptional_text: Optional[str] = None  # \u820a\u98a8\u683c\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#2","title":"2. \u6cdb\u578b\u548c\u985e\u578b\u8b8a\u91cf","text":"<pre><code>from typing import TypeVar, Generic, Protocol\n\n# \u985e\u578b\u8b8a\u91cf\nT = TypeVar(\"T\")\nTInput = TypeVar(\"TInput\")\nTOutput = TypeVar(\"TOutput\")\n\n# \u6cdb\u578b\u985e\nclass Container(Generic[T]):\n    \"\"\"\u901a\u7528\u5bb9\u5668\u985e\u578b.\"\"\"\n\n    def __init__(self, value: T) -&gt; None:\n        self._value = value\n\n    def get(self) -&gt; T:\n        return self._value\n\n    def set(self, value: T) -&gt; None:\n        self._value = value\n\n# \u4f7f\u7528\nint_container: Container[int] = Container(42)\nstr_container: Container[str] = Container(\"hello\")\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#3-protocol-duck-typing","title":"3. Protocol \u548c Duck Typing","text":"<pre><code>from typing import Protocol, runtime_checkable\n\n@runtime_checkable\nclass Executable(Protocol):\n    \"\"\"\u53ef\u57f7\u884c\u5354\u8b70.\"\"\"\n\n    def execute(self, input: dict[str, Any]) -&gt; dict[str, Any]:\n        \"\"\"\u57f7\u884c\u64cd\u4f5c.\"\"\"\n        ...\n\n# \u4efb\u4f55\u5be6\u73fe execute \u65b9\u6cd5\u7684\u985e\u90fd\u6eff\u8db3\u6b64\u5354\u8b70\nclass Worker:\n    def execute(self, input: dict[str, Any]) -&gt; dict[str, Any]:\n        return {\"result\": \"done\"}\n\ndef run_task(executor: Executable) -&gt; dict[str, Any]:\n    \"\"\"\u63a5\u53d7\u4efb\u4f55\u5be6\u73fe Executable \u5354\u8b70\u7684\u5c0d\u8c61.\"\"\"\n    return executor.execute({})\n\nassert isinstance(Worker(), Executable)  # True\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#4-self-python-311","title":"4. Self \u985e\u578b (Python 3.11+)","text":"<pre><code>from typing import Self\n\nclass Builder:\n    \"\"\"\u5efa\u9020\u8005\u6a21\u5f0f\uff0c\u652f\u6301\u93c8\u5f0f\u8abf\u7528.\"\"\"\n\n    def __init__(self) -&gt; None:\n        self._config: dict[str, Any] = {}\n\n    def set_option(self, key: str, value: Any) -&gt; Self:\n        \"\"\"\u8a2d\u7f6e\u9078\u9805\u4e26\u8fd4\u56de self.\"\"\"\n        self._config[key] = value\n        return self  # \u8fd4\u56de\u985e\u578b\u81ea\u52d5\u63a8\u65b7\u70ba Builder\n\n    def build(self) -&gt; dict[str, Any]:\n        \"\"\"\u69cb\u5efa\u6700\u7d42\u5c0d\u8c61.\"\"\"\n        return self._config.copy()\n\n# \u4f7f\u7528\nconfig = (\n    Builder()\n    .set_option(\"debug\", True)\n    .set_option(\"timeout\", 30)\n    .build()\n)\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#5-literal","title":"5. Literal \u985e\u578b","text":"<pre><code>from typing import Literal\n\nStatusType = Literal[\"running\", \"completed\", \"failed\"]\n\ndef set_status(status: StatusType) -&gt; None:\n    \"\"\"\u8a2d\u7f6e\u72c0\u614b\uff0c\u53ea\u63a5\u53d7\u7279\u5b9a\u503c.\"\"\"\n    print(f\"Status: {status}\")\n\nset_status(\"running\")  # OK\nset_status(\"unknown\")  # mypy error!\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#6-typeddict","title":"6. TypedDict","text":"<pre><code>from typing import TypedDict, NotRequired\n\nclass ConfigDict(TypedDict):\n    \"\"\"\u914d\u7f6e\u5b57\u5178\u985e\u578b.\"\"\"\n    name: str\n    version: str\n    debug: NotRequired[bool]  # Python 3.11+ \u53ef\u9078\u5b57\u6bb5\n    timeout: NotRequired[int]\n\n# \u4f7f\u7528\nconfig: ConfigDict = {\n    \"name\": \"my-app\",\n    \"version\": \"1.0.0\"\n}\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#7-callable","title":"7. Callable \u985e\u578b","text":"<pre><code>from collections.abc import Callable\n\n# \u51fd\u6578\u985e\u578b\nProcessorFunc = Callable[[str], int]  # (str) -&gt; int\n\ndef apply_processor(text: str, processor: ProcessorFunc) -&gt; int:\n    \"\"\"\u61c9\u7528\u8655\u7406\u51fd\u6578.\"\"\"\n    return processor(text)\n\ndef len_processor(s: str) -&gt; int:\n    return len(s)\n\nresult = apply_processor(\"hello\", len_processor)\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#docstring","title":"Docstring \u683c\u5f0f","text":"<p>\u4f7f\u7528 Google Style docstrings</p>"},{"location":"vers0.1.0/oop/typing_guide/#1-docstring","title":"1. \u6a21\u7d44\u7d1a\u5225 Docstring","text":"<pre><code>\"\"\"Arkhon-Rheo \u6838\u5fc3\u72c0\u614b\u7ba1\u7406\u6a21\u7d44.\n\n\u6b64\u6a21\u7d44\u63d0\u4f9b\u4e0d\u53ef\u8b8a\u7684\u72c0\u614b\u7ba1\u7406\u548c\u4e8b\u4ef6\u6eaf\u6e90\u529f\u80fd\uff0c\u662f ReAct \u5f15\u64ce\u7684\u57fa\u790e\u3002\n\n\u5178\u578b\u7528\u6cd5\u7bc4\u4f8b:\n\n    from arkhon_rheo.core.state import ReActState, ReasoningStep\n\n    state = ReActState()\n    state = state.add_step(\n        ReasoningStep(type=\"thought\", content=\"I need to think\")\n    )\n\n\u4f5c\u8005:\n    Arkhon-Rheo Team\n\n\u7248\u672c:\n    1.0.0\n\"\"\"\n\nfrom __future__ import annotations\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#2-docstring","title":"2. \u985e\u7d1a\u5225 Docstring","text":"<pre><code>from dataclasses import dataclass, field\nfrom typing import Literal, Any\n\n@dataclass(frozen=True)\nclass ReActState:\n    \"\"\"\u4e0d\u53ef\u8b8a\u7684 ReAct \u57f7\u884c\u72c0\u614b.\n\n    \u4f7f\u7528 frozen dataclass \u78ba\u4fdd\u72c0\u614b\u4e0d\u53ef\u8b8a\u6027\uff0c\u652f\u6301\u4e8b\u4ef6\u6eaf\u6e90\u6a21\u5f0f\u3002\n    \u6bcf\u6b21\u72c0\u614b\u8b8a\u66f4\u90fd\u5275\u5efa\u65b0\u5be6\u4f8b\u800c\u975e\u4fee\u6539\u73fe\u6709\u5be6\u4f8b\u3002\n\n    \u5c6c\u6027:\n        steps: \u63a8\u7406\u6b65\u9a5f\u7684\u5b8c\u6574\u6b77\u53f2\u8a18\u9304\n        metadata: \u57f7\u884c\u76f8\u95dc\u7684\u5143\u6578\u64da\u5b57\u5178\n        trace_id: \u5206\u5e03\u5f0f\u8ffd\u8e64\u7684\u552f\u4e00\u6a19\u8b58\u7b26\n        status: \u7576\u524d\u57f7\u884c\u72c0\u614b (\"running\"/\"completed\"/\"failed\")\n\n    \u7bc4\u4f8b:\n        &gt;&gt;&gt; state = ReActState(trace_id=\"abc-123\")\n        &gt;&gt;&gt; new_state = state.add_step(ReasoningStep(...))\n        &gt;&gt;&gt; assert state != new_state  # \u4e0d\u53ef\u8b8a\n        &gt;&gt;&gt; assert new_state.validate()\n\n    \u6ce8\u610f:\n        \u7531\u65bc\u4f7f\u7528 frozen=True\uff0c\u6240\u6709\u5c6c\u6027\u5728\u5275\u5efa\u5f8c\u7121\u6cd5\u4fee\u6539\u3002\n        \u4f7f\u7528 add_step() \u7b49\u65b9\u6cd5\u8fd4\u56de\u65b0\u5be6\u4f8b\u3002\n    \"\"\"\n\n    steps: list[ReasoningStep] = field(default_factory=list)\n    metadata: dict[str, Any] = field(default_factory=dict)\n    trace_id: str = field(default_factory=lambda: str(uuid.uuid4()))\n    status: Literal[\"running\", \"completed\", \"failed\"] = \"running\"\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#3-docstring","title":"3. \u65b9\u6cd5\u7d1a\u5225 Docstring","text":"<pre><code>def add_step(self, step: ReasoningStep) -&gt; Self:\n    \"\"\"\u6dfb\u52a0\u65b0\u7684\u63a8\u7406\u6b65\u9a5f\u4e26\u8fd4\u56de\u65b0\u72c0\u614b\u5be6\u4f8b.\n\n    \u7531\u65bc\u72c0\u614b\u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u6b64\u65b9\u6cd5\u5275\u5efa\u4e26\u8fd4\u56de\u5305\u542b\u65b0\u6b65\u9a5f\u7684\u5168\u65b0\n    ReActState \u5be6\u4f8b\uff0c\u539f\u5be6\u4f8b\u4fdd\u6301\u4e0d\u8b8a\u3002\n\n    Args:\n        step: \u8981\u6dfb\u52a0\u7684\u63a8\u7406\u6b65\u9a5f\u5c0d\u8c61\n\n    Returns:\n        \u5305\u542b\u65b0\u6b65\u9a5f\u7684 ReActState \u5be6\u4f8b\n\n    Raises:\n        ValueError: \u5982\u679c step \u7684 type \u7121\u6548\n\n    \u7bc4\u4f8b:\n        &gt;&gt;&gt; state = ReActState()\n        &gt;&gt;&gt; step = ReasoningStep(type=\"thought\", content=\"thinking...\")\n        &gt;&gt;&gt; new_state = state.add_step(step)\n        &gt;&gt;&gt; len(new_state.steps)\n        1\n        &gt;&gt;&gt; len(state.steps)  # \u539f\u72c0\u614b\u4e0d\u8b8a\n        0\n    \"\"\"\n    if step.type not in (\"thought\", \"action\", \"observation\"):\n        raise ValueError(f\"Invalid step type: {step.type}\")\n\n    return ReActState(\n        steps=self.steps + [step],\n        metadata=self.metadata.copy(),\n        trace_id=self.trace_id,\n        status=self.status\n    )\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#4-docstring","title":"4. \u51fd\u6578 Docstring","text":"<pre><code>def create_state_from_events(\n    events: Sequence[dict[str, Any]],\n    trace_id: str | None = None\n) -&gt; ReActState:\n    \"\"\"\u5f9e\u4e8b\u4ef6\u5217\u8868\u91cd\u5efa ReActState.\n\n    \u6b64\u51fd\u6578\u5be6\u73fe\u4e8b\u4ef6\u6eaf\u6e90\u7684\u72c0\u614b\u91cd\u5efa\u908f\u8f2f\uff0c\u5f9e\u4e8b\u4ef6\u65e5\u8a8c\u6062\u5fa9\n    \u5b8c\u6574\u7684\u57f7\u884c\u72c0\u614b\u3002\n\n    Args:\n        events: \u4e8b\u4ef6\u5b57\u5178\u5e8f\u5217\uff0c\u6bcf\u500b\u4e8b\u4ef6\u5fc5\u9808\u5305\u542b 'type' \u548c 'content' \u9375\n        trace_id: \u53ef\u9078\u7684\u8ffd\u8e64 ID\u3002\u5982\u679c\u70ba None\uff0c\u5c07\u751f\u6210\u65b0 ID\n\n    Returns:\n        \u5f9e\u4e8b\u4ef6\u91cd\u5efa\u7684 ReActState \u5be6\u4f8b\n\n    Raises:\n        KeyError: \u5982\u679c\u4e8b\u4ef6\u7f3a\u5c11\u5fc5\u9700\u7684\u9375\n        ValueError: \u5982\u679c\u4e8b\u4ef6\u683c\u5f0f\u7121\u6548\n\n    \u7bc4\u4f8b:\n        &gt;&gt;&gt; events = [\n        ...     {\"type\": \"thought\", \"content\": \"I need to search\"},\n        ...     {\"type\": \"action\", \"content\": \"search(query='Python')\"}\n        ... ]\n        &gt;&gt;&gt; state = create_state_from_events(events)\n        &gt;&gt;&gt; len(state.steps)\n        2\n    \"\"\"\n    state = ReActState(trace_id=trace_id or str(uuid.uuid4()))\n\n    for event in events:\n        step = ReasoningStep(\n            step_id=str(uuid.uuid4()),\n            type=event[\"type\"],\n            content=event[\"content\"],\n            timestamp=datetime.now()\n        )\n        state = state.add_step(step)\n\n    return state\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#5-docstring","title":"5. \u5c6c\u6027 Docstring","text":"<pre><code>class StateGraph:\n    \"\"\"\u72c0\u614b\u5716\u57f7\u884c\u5f15\u64ce.\"\"\"\n\n    @property\n    def entry_point(self) -&gt; str | None:\n        \"\"\"\u5716\u7684\u5165\u53e3\u7bc0\u9ede\u540d\u7a31.\n\n        Returns:\n            \u5165\u53e3\u7bc0\u9ede\u540d\u7a31\uff0c\u5982\u679c\u672a\u8a2d\u7f6e\u5247\u70ba None\n\n        Raises:\n            ValueError: \u5982\u679c\u5f15\u7528\u7684\u7bc0\u9ede\u4e0d\u5b58\u5728\n        \"\"\"\n        return self._entry_point\n\n    @entry_point.setter\n    def entry_point(self, value: str) -&gt; None:\n        \"\"\"\u8a2d\u7f6e\u5165\u53e3\u7bc0\u9ede.\n\n        Args:\n            value: \u7bc0\u9ede\u540d\u7a31\uff0c\u5fc5\u9808\u5df2\u5b58\u5728\u65bc\u5716\u4e2d\n\n        Raises:\n            ValueError: \u5982\u679c\u7bc0\u9ede\u4e0d\u5b58\u5728\n        \"\"\"\n        if value not in self.nodes:\n            raise ValueError(f\"Node '{value}' not found\")\n        self._entry_point = value\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#_2","title":"\u5b8c\u6574\u7bc4\u4f8b","text":""},{"location":"vers0.1.0/oop/typing_guide/#reactstate","title":"\u6838\u5fc3\u985e\u5225\u7bc4\u4f8b: <code>ReActState</code>","text":"<pre><code>\"\"\"arkhon_rheo.core.state - \u6838\u5fc3\u72c0\u614b\u7ba1\u7406.\"\"\"\n\nfrom __future__ import annotations\n\nimport uuid\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom typing import Any, Literal, Self\n\n__all__ = [\"ReActState\", \"ReasoningStep\"]\n\n\n@dataclass(frozen=True)\nclass ReasoningStep:\n    \"\"\"\u55ae\u500b\u63a8\u7406\u6b65\u9a5f\u7684\u4e8b\u4ef6\u65e5\u8a8c.\n\n    \u8868\u793a ReAct \u5faa\u74b0\u4e2d\u7684\u4e00\u500b\u539f\u5b50\u6b65\u9a5f\uff08\u601d\u7dad\u3001\u884c\u52d5\u6216\u89c0\u5bdf\uff09\u3002\n    \u4f7f\u7528 frozen dataclass \u78ba\u4fdd\u4e8b\u4ef6\u4e0d\u53ef\u8b8a\u6027\u3002\n\n    \u5c6c\u6027:\n        step_id: \u6b65\u9a5f\u7684\u552f\u4e00\u6a19\u8b58\u7b26\n        type: \u6b65\u9a5f\u985e\u578b (thought/action/observation)\n        content: \u6b65\u9a5f\u7684\u6587\u672c\u5167\u5bb9\n        tool_name: \u4f7f\u7528\u7684\u5de5\u5177\u540d\u7a31\uff08\u50c5 action \u985e\u578b\uff09\n        tool_input: \u5de5\u5177\u8f38\u5165\u53c3\u6578\uff08\u50c5 action \u985e\u578b\uff09\n        tool_output: \u5de5\u5177\u57f7\u884c\u7d50\u679c\uff08\u50c5 action \u985e\u578b\uff09\n        timestamp: \u6b65\u9a5f\u5275\u5efa\u6642\u9593\n        metadata: \u984d\u5916\u7684\u5143\u6578\u64da\u5b57\u5178\n    \"\"\"\n\n    step_id: str = field(default_factory=lambda: str(uuid.uuid4()))\n    type: Literal[\"thought\", \"action\", \"observation\"] = \"thought\"\n    content: str = \"\"\n    tool_name: str | None = None\n    tool_input: dict[str, Any] | None = None\n    tool_output: Any | None = None\n    timestamp: datetime = field(default_factory=datetime.now)\n    metadata: dict[str, Any] = field(default_factory=dict)\n\n    def to_event(self) -&gt; dict[str, Any]:\n        \"\"\"\u8f49\u63db\u70ba\u4e8b\u4ef6\u65e5\u8a8c\u683c\u5f0f.\n\n        Returns:\n            \u4e8b\u4ef6\u5b57\u5178\uff0c\u5305\u542b\u6240\u6709\u975e None \u5b57\u6bb5\n\n        \u7bc4\u4f8b:\n            &gt;&gt;&gt; step = ReasoningStep(type=\"thought\", content=\"I need to think\")\n            &gt;&gt;&gt; event = step.to_event()\n            &gt;&gt;&gt; event[\"type\"]\n            'thought'\n        \"\"\"\n        event = {\n            \"step_id\": self.step_id,\n            \"type\": self.type,\n            \"content\": self.content,\n            \"timestamp\": self.timestamp.isoformat(),\n        }\n\n        if self.tool_name:\n            event[\"tool_name\"] = self.tool_name\n        if self.tool_input:\n            event[\"tool_input\"] = self.tool_input\n        if self.tool_output:\n            event[\"tool_output\"] = self.tool_output\n        if self.metadata:\n            event[\"metadata\"] = self.metadata\n\n        return event\n\n    def is_action(self) -&gt; bool:\n        \"\"\"\u6aa2\u67e5\u662f\u5426\u70ba action \u6b65\u9a5f.\n\n        Returns:\n            \u5982\u679c\u985e\u578b\u70ba \"action\" \u5247\u8fd4\u56de True\n        \"\"\"\n        return self.type == \"action\"\n\n    def is_thought(self) -&gt; bool:\n        \"\"\"\u6aa2\u67e5\u662f\u5426\u70ba thought \u6b65\u9a5f.\n\n        Returns:\n            \u5982\u679c\u985e\u578b\u70ba \"thought\" \u5247\u8fd4\u56de True\n        \"\"\"\n        return self.type == \"thought\"\n\n\n@dataclass(frozen=True)\nclass ReActState:\n    \"\"\"\u4e0d\u53ef\u8b8a\u7684 ReAct \u57f7\u884c\u72c0\u614b.\n\n    \u6838\u5fc3\u72c0\u614b\u5bb9\u5668\uff0c\u4f7f\u7528\u4e8b\u4ef6\u6eaf\u6e90\u6a21\u5f0f\u7ba1\u7406\u63a8\u7406\u57f7\u884c\u7684\u5b8c\u6574\u6b77\u53f2\u3002\n    \u6240\u6709\u72c0\u614b\u8b8a\u66f4\u90fd\u901a\u904e\u5275\u5efa\u65b0\u5be6\u4f8b\u5be6\u73fe\uff0c\u78ba\u4fdd\u6b77\u53f2\u8a18\u9304\u4e0d\u53ef\u7be1\u6539\u3002\n\n    \u5c6c\u6027:\n        steps: \u63a8\u7406\u6b65\u9a5f\u7684\u6642\u9593\u5e8f\u5217\n        metadata: \u57f7\u884c\u5143\u6578\u64da\n        trace_id: \u5206\u5e03\u5f0f\u8ffd\u8e64\u6a19\u8b58\u7b26\n        status: \u57f7\u884c\u72c0\u614b\n\n    \u7bc4\u4f8b:\n        &gt;&gt;&gt; state = ReActState()\n        &gt;&gt;&gt; step = ReasoningStep(type=\"thought\", content=\"I need data\")\n        &gt;&gt;&gt; state = state.add_step(step)\n        &gt;&gt;&gt; assert state.validate()\n    \"\"\"\n\n    steps: list[ReasoningStep] = field(default_factory=list)\n    metadata: dict[str, Any] = field(default_factory=dict)\n    trace_id: str = field(default_factory=lambda: str(uuid.uuid4()))\n    status: Literal[\"running\", \"completed\", \"failed\"] = \"running\"\n\n    def add_step(self, step: ReasoningStep) -&gt; Self:\n        \"\"\"\u6dfb\u52a0\u63a8\u7406\u6b65\u9a5f.\n\n        \u5275\u5efa\u5305\u542b\u65b0\u6b65\u9a5f\u7684\u65b0\u72c0\u614b\u5be6\u4f8b\u3002\u539f\u72c0\u614b\u4fdd\u6301\u4e0d\u8b8a\u3002\n\n        Args:\n            step: \u8981\u6dfb\u52a0\u7684\u63a8\u7406\u6b65\u9a5f\n\n        Returns:\n            \u65b0\u7684 ReActState \u5be6\u4f8b\n\n        \u7bc4\u4f8b:\n            &gt;&gt;&gt; state = ReActState()\n            &gt;&gt;&gt; new_state = state.add_step(ReasoningStep(type=\"thought\", content=\"...\"))\n            &gt;&gt;&gt; len(new_state.steps)\n            1\n            &gt;&gt;&gt; len(state.steps)\n            0\n        \"\"\"\n        return ReActState(\n            steps=self.steps + [step],\n            metadata=self.metadata.copy(),\n            trace_id=self.trace_id,\n            status=self.status\n        )\n\n    def validate(self) -&gt; bool:\n        \"\"\"\u9a57\u8b49\u72c0\u614b\u4e00\u81f4\u6027.\n\n        \u6aa2\u67e5\u72c0\u614b\u662f\u5426\u6eff\u8db3\u4ee5\u4e0b\u4e0d\u8b8a\u91cf:\n        - \u6240\u6709\u6b65\u9a5f\u7684 step_id \u552f\u4e00\n        - action \u6b65\u9a5f\u5fc5\u9808\u6709 tool_name\n        - \u6b65\u9a5f\u6642\u9593\u6233\u55ae\u8abf\u905e\u589e\n\n        Returns:\n            \u9a57\u8b49\u901a\u904e\u8fd4\u56de True\uff0c\u5426\u5247 False\n        \"\"\"\n        # \u6aa2\u67e5 step_id \u552f\u4e00\u6027\n        step_ids = [s.step_id for s in self.steps]\n        if len(step_ids) != len(set(step_ids)):\n            return False\n\n        # \u6aa2\u67e5 action \u6b65\u9a5f\n        for step in self.steps:\n            if step.is_action() and not step.tool_name:\n                return False\n\n        # \u6aa2\u67e5\u6642\u9593\u6233\u9806\u5e8f\n        for i in range(1, len(self.steps)):\n            if self.steps[i].timestamp &lt; self.steps[i-1].timestamp:\n                return False\n\n        return True\n\n    def get_latest_step(self) -&gt; ReasoningStep | None:\n        \"\"\"\u7372\u53d6\u6700\u65b0\u7684\u63a8\u7406\u6b65\u9a5f.\n\n        Returns:\n            \u6700\u65b0\u6b65\u9a5f\uff0c\u5982\u679c\u6c92\u6709\u6b65\u9a5f\u5247\u8fd4\u56de None\n        \"\"\"\n        return self.steps[-1] if self.steps else None\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        \"\"\"\u5e8f\u5217\u5316\u70ba\u5b57\u5178.\n\n        Returns:\n            \u5305\u542b\u6240\u6709\u72c0\u614b\u4fe1\u606f\u7684\u5b57\u5178\n        \"\"\"\n        return {\n            \"steps\": [s.to_event() for s in self.steps],\n            \"metadata\": self.metadata,\n            \"trace_id\": self.trace_id,\n            \"status\": self.status\n        }\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#_3","title":"\u7279\u6b8a\u6a21\u5f0f","text":""},{"location":"vers0.1.0/oop/typing_guide/#1-abc","title":"1. \u62bd\u8c61\u57fa\u985e (ABC)","text":"<pre><code>from abc import ABC, abstractmethod\nfrom typing import Any\n\nclass BaseNode(ABC):\n    \"\"\"\u7bc0\u9ede\u62bd\u8c61\u57fa\u985e.\n\n    \u5b9a\u7fa9\u6240\u6709\u7bc0\u9ede\u5fc5\u9808\u5be6\u73fe\u7684\u63a5\u53e3\u3002\u5b50\u985e\u5fc5\u9808\u5be6\u73fe run() \u65b9\u6cd5\u3002\n    \"\"\"\n\n    @property\n    @abstractmethod\n    def name(self) -&gt; str:\n        \"\"\"\u7bc0\u9ede\u540d\u7a31.\n\n        Returns:\n            \u7bc0\u9ede\u7684\u552f\u4e00\u6a19\u8b58\u7b26\n        \"\"\"\n        ...\n\n    @abstractmethod\n    def run(self, state: ReActState) -&gt; ReActState:\n        \"\"\"\u57f7\u884c\u7bc0\u9ede\u908f\u8f2f.\n\n        Args:\n            state: \u8f38\u5165\u72c0\u614b\n\n        Returns:\n            \u8f49\u63db\u5f8c\u7684\u72c0\u614b\n        \"\"\"\n        ...\n\n    def before_run(self, state: ReActState) -&gt; None:\n        \"\"\"\u57f7\u884c\u524d\u9264\u5b50\uff08\u53ef\u9078\uff09.\n\n        Args:\n            state: \u5373\u5c07\u57f7\u884c\u7684\u72c0\u614b\n        \"\"\"\n        pass\n\n    def after_run(self, state: ReActState) -&gt; None:\n        \"\"\"\u57f7\u884c\u5f8c\u9264\u5b50\uff08\u53ef\u9078\uff09.\n\n        Args:\n            state: \u57f7\u884c\u5f8c\u7684\u72c0\u614b\n        \"\"\"\n        pass\n\n    def __call__(self, state: ReActState) -&gt; ReActState:\n        \"\"\"\u4f7f\u7bc0\u9ede\u53ef\u8abf\u7528.\n\n        \u5be6\u73fe\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\uff0c\u5354\u8abf before_run\u3001run\u3001after_run \u7684\u57f7\u884c\u9806\u5e8f\u3002\n\n        Args:\n            state: \u8f38\u5165\u72c0\u614b\n\n        Returns:\n            \u57f7\u884c\u5f8c\u7684\u72c0\u614b\n        \"\"\"\n        self.before_run(state)\n        result = self.run(state)\n        self.after_run(result)\n        return result\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#2_1","title":"2. \u5de5\u5ee0\u65b9\u6cd5","text":"<pre><code>from typing import TypeVar, Type\n\nT = TypeVar(\"T\", bound=\"VectorStore\")\n\nclass VectorStore(ABC):\n    \"\"\"\u5411\u91cf\u5b58\u5132\u62bd\u8c61\u57fa\u985e.\"\"\"\n\n    @classmethod\n    def create(cls: Type[T], provider: str, **kwargs: Any) -&gt; T:\n        \"\"\"\u5de5\u5ee0\u65b9\u6cd5\u5275\u5efa\u5411\u91cf\u5b58\u5132\u5be6\u4f8b.\n\n        Args:\n            provider: \u63d0\u4f9b\u5546\u540d\u7a31 (\"pinecone\" | \"weaviate\")\n            **kwargs: \u63d0\u4f9b\u5546\u7279\u5b9a\u7684\u914d\u7f6e\u53c3\u6578\n\n        Returns:\n            \u5411\u91cf\u5b58\u5132\u5be6\u4f8b\n\n        Raises:\n            ValueError: \u5982\u679c provider \u4e0d\u652f\u6301\n\n        \u7bc4\u4f8b:\n            &gt;&gt;&gt; store = VectorStore.create(\"pinecone\", index_name=\"test\")\n            &gt;&gt;&gt; isinstance(store, PineconeStore)\n            True\n        \"\"\"\n        from .pinecone_store import PineconeStore\n        from .weaviate_store import WeaviateStore\n\n        providers = {\n            \"pinecone\": PineconeStore,\n            \"weaviate\": WeaviateStore,\n        }\n\n        if provider not in providers:\n            raise ValueError(f\"Unsupported provider: {provider}\")\n\n        return providers[provider](**kwargs)\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#3","title":"3. \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<pre><code>from typing import Self\nfrom contextvars import ContextVar\n\nclass ContextManager:\n    \"\"\"\u7dda\u7a0b\u672c\u5730\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668.\n\n    \u4f7f\u7528 ContextVar \u5be6\u73fe\u7dda\u7a0b\u5b89\u5168\u7684\u4e0a\u4e0b\u6587\u5b58\u5132\u3002\n    \u652f\u6301 with \u8a9e\u53e5\u81ea\u52d5\u7ba1\u7406\u4e0a\u4e0b\u6587\u751f\u547d\u9031\u671f\u3002\n    \"\"\"\n\n    _context: ContextVar[dict[str, Any]] = ContextVar(\n        \"arkhon_context\",\n        default={}\n    )\n\n    def get(self, key: str, default: Any = None) -&gt; Any:\n        \"\"\"\u7372\u53d6\u4e0a\u4e0b\u6587\u503c.\n\n        Args:\n            key: \u9375\u540d\n            default: \u9ed8\u8a8d\u503c\n\n        Returns:\n            \u4e0a\u4e0b\u6587\u503c\u6216\u9ed8\u8a8d\u503c\n        \"\"\"\n        return self._context.get().get(key, default)\n\n    def set(self, key: str, value: Any) -&gt; None:\n        \"\"\"\u8a2d\u7f6e\u4e0a\u4e0b\u6587\u503c.\n\n        Args:\n            key: \u9375\u540d\n            value: \u503c\n        \"\"\"\n        ctx = self._context.get().copy()\n        ctx[key] = value\n        self._context.set(ctx)\n\n    def __enter__(self) -&gt; Self:\n        \"\"\"\u9032\u5165\u4e0a\u4e0b\u6587.\"\"\"\n        return self\n\n    def __exit__(self, *args: Any) -&gt; None:\n        \"\"\"\u9000\u51fa\u4e0a\u4e0b\u6587\uff0c\u6e05\u7406\u8cc7\u6e90.\"\"\"\n        self._context.set({})\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#mypy","title":"mypy \u914d\u7f6e","text":"<p>\u5728 <code>pyproject.toml</code> \u4e2d\u914d\u7f6e:</p> <pre><code>[tool.mypy]\npython_version = \"3.12\"\nstrict = true\nwarn_return_any = true\nwarn_unused_configs = true\ndisallow_untyped_defs = true\ndisallow_any_unimported = false\nno_implicit_optional = true\nwarn_redundant_casts = true\nwarn_unused_ignores = true\nwarn_no_return = true\n\n# \u5916\u90e8\u5eab\u5b58\u6839\n[[tool.mypy.overrides]]\nmodule = [\n    \"pinecone.*\",\n    \"weaviate.*\",\n]\nignore_missing_imports = true\n</code></pre>"},{"location":"vers0.1.0/oop/typing_guide/#_4","title":"\u9a57\u8b49\u547d\u4ee4","text":"<pre><code># \u985e\u578b\u6aa2\u67e5\nmypy src/arkhon_rheo --strict\n\n# \u6587\u6a94\u6aa2\u67e5\npydocstyle src/arkhon_rheo --convention=google\n\n# \u751f\u6210\u6587\u6a94\npdoc arkhon_rheo --html --output-dir docs/api\n</code></pre> <p>\u7e3d\u7d50: \u672c\u6307\u5357\u9075\u5faa Python 3.12+ \u7684\u6700\u4f73\u5be6\u8e10\uff0c\u7d50\u5408 Google Style docstrings \u548c\u56b4\u683c\u7684 mypy \u985e\u578b\u6aa2\u67e5\uff0c\u78ba\u4fdd\u4ee3\u78bc\u7684\u985e\u578b\u5b89\u5168\u6027\u548c\u6587\u6a94\u5b8c\u6574\u6027\u3002</p>"},{"location":"vers0.1.0/oop/walkthrough/","title":"Arkhon-Rheo OOP Architecture - Complete Walkthrough","text":"<p>\u5b8c\u6574\u7684 Python OOP \u67b6\u69cb\u8a2d\u8a08\u7e3d\u7d50\u6587\u6a94</p>"},{"location":"vers0.1.0/oop/walkthrough/#_1","title":"\ud83c\udfaf \u67b6\u69cb\u8a2d\u8a08\u7d50\u679c","text":"<p>\u57fa\u65bc ROADMAP.md (PHASE 1-4) \u7684\u5b8c\u6574 Python \u5c08\u696d\u7d1a OOP \u67b6\u69cb\u8a2d\u8a08\u5df2\u5b8c\u6210\uff01</p>"},{"location":"vers0.1.0/oop/walkthrough/#_2","title":"\ud83d\udcca \u7d71\u8a08\u6578\u64da","text":"\u6307\u6a19 \u6578\u91cf \u5099\u8a3b \u7e3d\u985e\u5225\u6578 55 \u6db5\u84cb 4 \u500b PHASE \u7e3d\u65b9\u6cd5\u6578 142 \u5305\u542b\u62bd\u8c61\u65b9\u6cd5\u548c\u5177\u9ad4\u5be6\u73fe \u7e3d\u5c6c\u6027\u6578 99 \u5305\u542b\u985e\u8b8a\u91cf\u548c\u5be6\u4f8b\u8b8a\u91cf \u8a2d\u8a08\u6a21\u5f0f 15+ Template Method, Strategy, Registry, Mediator... \u6a21\u7d44\u6578\u91cf 11 \u6309\u529f\u80fd\u9818\u57df\u7d44\u7e54"},{"location":"vers0.1.0/oop/walkthrough/#_3","title":"\ud83d\udcda \u6587\u6a94\u6e05\u55ae","text":""},{"location":"vers0.1.0/oop/walkthrough/#1-class-inventory-class_inventorymd","title":"1. Class Inventory [<code>class_inventory.md</code>]","text":"<p>\u5167\u5bb9: \u6240\u6709 55 \u500b\u985e\u5225\u7684\u5b8c\u6574\u6e05\u55ae</p> <p>\u5305\u542b\u4fe1\u606f:</p> <ul> <li>\u2705 \u985e\u5225\u540d\u7a31\u548c\u6240\u5c6c\u6a21\u7d44</li> <li>\u2705 \u57fa\u985e/\u5354\u8b70</li> <li>\u2705 \u4e3b\u8981\u8cac\u4efb</li> <li>\u2705 \u61c9\u7528\u7684\u8a2d\u8a08\u6a21\u5f0f</li> <li>\u2705 \u5354\u4f5c\u8005\u985e\u5225</li> <li>\u2705 \u6309 PHASE 1-4 \u5206\u5c64\u5c55\u793a</li> </ul> <p>\u4eae\u9ede:</p> <ul> <li>Phase 1 (Foundation): 25 \u500b\u985e\u5225 - \u6838\u5fc3\u5f15\u64ce</li> <li>Phase 2 (Multi-Agent): 12 \u500b\u985e\u5225 - \u591a\u4ee3\u7406\u7cfb\u7d71</li> <li>Phase 3 (Memory): 11 \u500b\u985e\u5225 - \u8a18\u61b6\u7cfb\u7d71</li> <li>Phase 4 (CLI): 7 \u500b\u985e\u5225 - \u6846\u67b6\u6253\u5305</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#2-methods-properties-methods_propertiesmd","title":"2. Methods &amp; Properties [<code>methods_properties.md</code>]","text":"<p>\u5167\u5bb9: \u6240\u6709\u65b9\u6cd5\u548c\u5c6c\u6027\u7684\u8a73\u7d30\u6e05\u55ae</p> <p>\u5305\u542b\u4fe1\u606f:</p> <ul> <li>\u2705 \u5b8c\u6574\u7684\u65b9\u6cd5\u7c3d\u540d (\u53c3\u6578 + \u8fd4\u56de\u985e\u578b)</li> <li>\u2705 \u5c6c\u6027\u985e\u578b\u6a19\u8a3b</li> <li>\u2705 \u9810\u8a2d\u503c</li> <li>\u2705 \u7c21\u8981\u8aaa\u660e</li> </ul> <p>\u7bc4\u4f8b\u4eae\u9ede:</p> <pre><code># ReActState \u65b9\u6cd5\ndef add_step(self, step: ReasoningStep) -&gt; Self\ndef validate(self) -&gt; bool\ndef get_latest_step(self) -&gt; ReasoningStep | None\n\n# StateGraph \u65b9\u6cd5\ndef add_node(self, name: str, node: BaseNode) -&gt; Self\ndef compile(self) -&gt; CompiledGraph\ndef invoke(self, input: dict[str, Any]) -&gt; ReActState\n</code></pre>"},{"location":"vers0.1.0/oop/walkthrough/#3-class-diagram-class_diagrammd","title":"3. Class Diagram [<code>class_diagram.md</code>]","text":"<p>\u5167\u5bb9: \u5b8c\u6574\u7684 UML \u985e\u5716 (Mermaid \u683c\u5f0f)</p> <p>\u5305\u542b\u4fe1\u606f:</p> <ul> <li>\u2705 \u6240\u6709\u985e\u5225\u7684\u7e7c\u627f\u95dc\u4fc2 (<code>&lt;|--</code>)</li> <li>\u2705 \u7d44\u5408\u95dc\u4fc2 (<code>*--</code>)</li> <li>\u2705 \u805a\u5408\u95dc\u4fc2 (<code>o--</code>)</li> <li>\u2705 \u4f9d\u8cf4\u95dc\u4fc2 (<code>..&gt;</code>)</li> <li>\u2705 \u8a2d\u8a08\u6a21\u5f0f\u8a3b\u89e3</li> <li>\u2705 \u6309 PHASE \u5206\u5c64\u8996\u5716</li> </ul> <p>\u8996\u5716\u5c64\u7d1a:</p> <pre><code>Layer 5: CLI (Command Pattern)\n    \u2193\nLayer 4: Memory (Memento, Sliding Window)\n    \u2193\nLayer 3: Agents (Mediator, Agent Pattern)\n    \u2193\nLayer 2: Execution (Template Method, Strategy)\n    \u2193\nLayer 1: Core (State, Graph, Context)\n    \u2193\nLayer 0: Config (Pydantic Models)\n</code></pre>"},{"location":"vers0.1.0/oop/walkthrough/#4-crc-cards-crc_cardsmd","title":"4. CRC Cards [<code>crc_cards.md</code>]","text":"<p>\u5167\u5bb9: 12 \u500b\u6838\u5fc3\u985e\u5225\u7684 CRC \u5361\u7247</p> <p>\u5305\u542b\u4fe1\u606f:</p> <ul> <li>\u2705 Class (\u985e\u5225\u540d\u7a31)</li> <li>\u2705 Responsibilities (\u8077\u8cac\u6e05\u55ae)</li> <li>\u2705 Collaborators (\u5354\u4f5c\u8005)</li> <li>\u2705 \u4f7f\u7528\u5834\u666f\u7bc4\u4f8b</li> </ul> <p>\u8986\u84cb\u7684\u6838\u5fc3\u985e\u5225:</p> <ol> <li><code>ReActState</code> - \u72c0\u614b\u7ba1\u7406</li> <li><code>StateGraph</code> - \u5716\u57f7\u884c\u5f15\u64ce</li> <li><code>BaseNode</code> - \u7bc0\u9ede\u57fa\u985e</li> <li><code>ToolRegistry</code> - \u5de5\u5177\u8a3b\u518a\u8868</li> <li><code>RuleEngine</code> - \u898f\u5247\u5f15\u64ce</li> <li><code>Agent</code> - \u4ee3\u7406\u5be6\u9ad4</li> <li><code>Coordinator</code> - \u5354\u8abf\u5668</li> <li><code>Scheduler</code> - \u4efb\u52d9\u8abf\u5ea6\u5668</li> <li><code>ContextWindow</code> - \u8a18\u61b6\u7a97\u53e3</li> <li><code>VectorStore</code> - \u5411\u91cf\u5b58\u5132</li> <li><code>CheckpointManager</code> - \u6aa2\u67e5\u9ede\u7ba1\u7406</li> <li><code>CLI</code> - \u547d\u4ee4\u884c\u63a5\u53e3</li> </ol> <p>CRC \u8a2d\u8a08\u539f\u5247:</p> <ul> <li>\u2705 \u55ae\u4e00\u8077\u8cac\u539f\u5247 (SRP)</li> <li>\u2705 \u5354\u4f5c\u8005\u6700\u5c0f\u5316</li> <li>\u2705 \u62bd\u8c61\u7a69\u5b9a</li> <li>\u2705 \u4f9d\u8cf4\u5012\u7f6e</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#5-typing-guide-typing_guidemd","title":"5. Typing Guide [<code>typing_guide.md</code>]","text":"<p>\u5167\u5bb9: Python 3.12+ Typing Hints \u548c Docstrings \u6700\u4f73\u5be6\u8e10</p> <p>\u5305\u542b\u7ae0\u7bc0:</p> <ol> <li>Typing Hints \u898f\u7bc4</li> <li>\u57fa\u672c\u985e\u578b\u6a19\u8a3b</li> <li>\u6cdb\u578b\u548c\u985e\u578b\u8b8a\u91cf</li> <li>Protocol \u548c Duck Typing</li> <li>Self \u985e\u578b (Python 3.11+)</li> <li>Literal \u985e\u578b</li> <li>TypedDict</li> <li> <p>Callable \u985e\u578b</p> </li> <li> <p>Docstring \u683c\u5f0f (Google Style)</p> </li> <li>\u6a21\u7d44\u7d1a\u5225</li> <li>\u985e\u7d1a\u5225</li> <li>\u65b9\u6cd5\u7d1a\u5225</li> <li>\u51fd\u6578\u7d1a\u5225</li> <li> <p>\u5c6c\u6027\u7d1a\u5225</p> </li> <li> <p>\u5b8c\u6574\u7bc4\u4f8b</p> </li> <li><code>ReActState</code> \u5b8c\u6574\u5be6\u73fe</li> <li><code>ReasoningStep</code> \u5b8c\u6574\u5be6\u73fe</li> <li> <p>\u6240\u6709\u65b9\u6cd5\u7684 docstrings</p> </li> <li> <p>\u7279\u6b8a\u6a21\u5f0f</p> </li> <li>\u62bd\u8c61\u57fa\u985e (ABC)</li> <li>\u5de5\u5ee0\u65b9\u6cd5</li> <li> <p>\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668</p> </li> <li> <p>mypy \u914d\u7f6e</p> </li> <li><code>pyproject.toml</code> \u56b4\u683c\u6a21\u5f0f\u914d\u7f6e</li> <li>\u9a57\u8b49\u547d\u4ee4</li> </ol>"},{"location":"vers0.1.0/oop/walkthrough/#_4","title":"\ud83c\udfd7\ufe0f \u67b6\u69cb\u4eae\u9ede","text":""},{"location":"vers0.1.0/oop/walkthrough/#1-15","title":"1. \u8a2d\u8a08\u6a21\u5f0f\u61c9\u7528 (15+ \u7a2e)","text":"\u8a2d\u8a08\u6a21\u5f0f \u61c9\u7528\u4f4d\u7f6e \u76ee\u7684 Template Method <code>BaseNode</code> \u2192 \u5b50\u985e \u5b9a\u7fa9\u7b97\u6cd5\u9aa8\u67b6\uff0c\u5b50\u985e\u5be6\u73fe\u7d30\u7bc0 Strategy <code>Tool</code>, <code>VectorStore</code>, <code>Node</code> \u5b50\u985e \u53ef\u66ff\u63db\u7684\u7b97\u6cd5\u65cf Registry <code>ToolRegistry</code> \u52d5\u614b\u5de5\u5177\u767c\u73fe\u548c\u8a3b\u518a Singleton <code>ToolRegistry</code> \u5168\u5c40\u552f\u4e00\u5de5\u5177\u8a3b\u518a\u8868 Immutable Object <code>ReActState</code>, <code>ReasoningStep</code> \u4e8b\u4ef6\u6eaf\u6e90\uff0c\u72c0\u614b\u4e0d\u53ef\u8b8a Chain of Responsibility <code>RuleEngine</code> \u9806\u5e8f\u57f7\u884c\u898f\u5247\u96c6\u5408 Mediator <code>Coordinator</code> \u5354\u8abf\u591a\u4ee3\u7406\u4ea4\u4e92 Composite <code>SubGraph</code> \u6a39\u72c0\u7d50\u69cb\uff0c\u7d71\u4e00\u63a5\u53e3 Observer <code>Agent</code> \u8a0a\u606f\u50b3\u905e \u4e8b\u4ef6\u901a\u77e5\u6a5f\u5236 Memento <code>CheckpointManager</code> \u72c0\u614b\u5feb\u7167\u548c\u6062\u5fa9 Command CLI \u547d\u4ee4\u7cfb\u7d71 \u5c01\u88dd\u8acb\u6c42\u70ba\u5c0d\u8c61 Abstract Factory <code>VectorStore.create()</code> \u5275\u5efa\u76f8\u95dc\u5c0d\u8c61\u65cf Builder <code>ConfigLoader</code> \u9010\u6b65\u69cb\u5efa\u8907\u96dc\u5c0d\u8c61 State <code>StateGraph</code> \u72c0\u614b\u8f49\u63db\u7ba1\u7406 Facade <code>SubGraph.as_node()</code> \u7c21\u5316\u5b50\u7cfb\u7d71\u63a5\u53e3"},{"location":"vers0.1.0/oop/walkthrough/#2-solid","title":"2. SOLID \u539f\u5247\u9075\u5faa","text":"<p>\u2705 S - Single Responsibility</p> <ul> <li>\u6bcf\u500b\u985e\u5225\u53ea\u6709\u4e00\u500b\u660e\u78ba\u8077\u8cac</li> <li><code>ReActState</code> \u53ea\u7ba1\u7406\u72c0\u614b</li> <li><code>ToolRegistry</code> \u53ea\u7ba1\u7406\u5de5\u5177</li> </ul> <p>\u2705 O - Open/Closed</p> <ul> <li>\u901a\u904e\u7e7c\u627f\u64f4\u5c55 (<code>BaseNode</code> \u5b50\u985e)</li> <li>\u4e0d\u4fee\u6539\u73fe\u6709\u4ee3\u78bc</li> </ul> <p>\u2705 L - Liskov Substitution</p> <ul> <li>\u6240\u6709 <code>BaseNode</code> \u5b50\u985e\u53ef\u4e92\u63db</li> <li>\u6240\u6709 <code>VectorStore</code> \u5be6\u73fe\u53ef\u4e92\u63db</li> </ul> <p>\u2705 I - Interface Segregation</p> <ul> <li>\u5c0f\u800c\u5c08\u6ce8\u7684\u62bd\u8c61\u63a5\u53e3</li> <li><code>Tool</code>, <code>Rule</code> \u57fa\u985e\u7c21\u6f54</li> </ul> <p>\u2705 D - Dependency Inversion</p> <ul> <li>\u4f9d\u8cf4\u62bd\u8c61\u800c\u975e\u5177\u9ad4\u5be6\u73fe</li> <li><code>ActionNode</code> \u2192 <code>Tool</code> (\u62bd\u8c61)</li> <li><code>ValidateNode</code> \u2192 <code>Rule</code> (\u62bd\u8c61)</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#3-python-312","title":"3. \u985e\u578b\u5b89\u5168 (Python 3.12+)","text":"<p>\u2705 \u4f7f\u7528\u6700\u65b0 Python \u7279\u6027:</p> <ul> <li><code>Self</code> \u985e\u578b (\u65b9\u6cd5\u93c8)</li> <li><code>|</code> \u904b\u7b97\u7b26 (<code>str | None</code>)</li> <li><code>Literal</code> \u985e\u578b (\u679a\u8209\u503c)</li> <li><code>TypedDict</code> (\u7d50\u69cb\u5316\u5b57\u5178)</li> <li><code>Protocol</code> (Duck Typing)</li> <li><code>Generic[T]</code> (\u6cdb\u578b)</li> </ul> <p>\u2705 \u56b4\u683c mypy \u6aa2\u67e5:</p> <pre><code>mypy src/arkhon_rheo --strict\n# \u96f6\u932f\u8aa4\u3001\u96f6\u8b66\u544a\u76ee\u6a19\n</code></pre>"},{"location":"vers0.1.0/oop/walkthrough/#4-documentation-first","title":"4. Documentation First","text":"<p>\u2705 Google Style Docstrings:</p> <ul> <li>\u6240\u6709\u516c\u5171 API \u90fd\u6709\u5b8c\u6574\u6587\u6a94</li> <li>\u5305\u542b\u53c3\u6578\u3001\u8fd4\u56de\u503c\u3001\u7570\u5e38</li> <li>\u9644\u5e36\u4f7f\u7528\u7bc4\u4f8b</li> </ul> <p>\u2705 \u985e\u578b\u63d0\u793a\u512a\u5148:</p> <ul> <li>\u65b9\u6cd5\u7c3d\u540d\u5b8c\u6574\u985e\u578b\u6a19\u8a3b</li> <li>\u81ea\u52d5\u751f\u6210 API \u6587\u6a94</li> <li>IDE \u667a\u80fd\u63d0\u793a</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#_5","title":"\ud83c\udf93 \u5b78\u7fd2\u8def\u5f91","text":""},{"location":"vers0.1.0/oop/walkthrough/#_6","title":"\u5c0d\u65bc\u958b\u767c\u8005","text":"<ol> <li>Start with <code>class_inventory.md</code></li> <li>\u4e86\u89e3\u6574\u9ad4\u67b6\u69cb</li> <li> <p>\u638c\u63e1\u6a21\u7d44\u7d44\u7e54</p> </li> <li> <p>Dive into <code>class_diagram.md</code></p> </li> <li>\u8996\u89ba\u5316\u985e\u5225\u95dc\u4fc2</li> <li> <p>\u7406\u89e3\u8a2d\u8a08\u6a21\u5f0f</p> </li> <li> <p>Study <code>crc_cards.md</code></p> </li> <li>\u7406\u89e3\u6bcf\u500b\u985e\u5225\u7684\u8077\u8cac</li> <li> <p>\u5b78\u7fd2\u5354\u4f5c\u6a21\u5f0f</p> </li> <li> <p>Reference <code>methods_properties.md</code></p> </li> <li>\u67e5\u8a62\u5177\u9ad4 API</li> <li> <p>\u7406\u89e3\u65b9\u6cd5\u7c3d\u540d</p> </li> <li> <p>Follow <code>typing_guide.md</code></p> </li> <li>\u7de8\u5beb\u7b26\u5408\u898f\u7bc4\u7684\u4ee3\u78bc</li> <li>\u5be6\u73fe\u985e\u578b\u5b89\u5168</li> </ol>"},{"location":"vers0.1.0/oop/walkthrough/#_7","title":"\u5c0d\u65bc\u67b6\u69cb\u5e2b","text":"<ol> <li>Review \u8a2d\u8a08\u6a21\u5f0f\u61c9\u7528</li> <li>Validate SOLID \u539f\u5247\u9075\u5faa</li> <li>Check \u4f9d\u8cf4\u95dc\u4fc2\u5c64\u7d1a</li> <li>Assess \u64f4\u5c55\u9ede\u8a2d\u8a08</li> <li>Verify \u6e2c\u8a66\u53cb\u597d\u6027</li> </ol>"},{"location":"vers0.1.0/oop/walkthrough/#_8","title":"\ud83d\udcc1 \u6587\u6a94\u7d50\u69cb","text":"<pre><code>/home/yaochu/.gemini/antigravity/brain/22de8ef5-5806-4be7-b819-d45e13563c04/\n\u251c\u2500\u2500 task.md                  # \u4efb\u52d9\u6e05\u55ae\n\u251c\u2500\u2500 class_inventory.md       # \u985e\u5225\u6e05\u55ae (55 \u500b\u985e\u5225)\n\u251c\u2500\u2500 methods_properties.md    # \u65b9\u6cd5\u5c6c\u6027 (142 \u65b9\u6cd5 + 99 \u5c6c\u6027)\n\u251c\u2500\u2500 class_diagram.md         # UML \u985e\u5716 (Mermaid)\n\u251c\u2500\u2500 crc_cards.md            # CRC \u5361\u7247 (12 \u500b\u6838\u5fc3\u985e\u5225)\n\u251c\u2500\u2500 typing_guide.md         # Typing &amp; Docstrings \u6307\u5357\n\u2514\u2500\u2500 walkthrough.md          # \u672c\u6587\u6a94\n</code></pre>"},{"location":"vers0.1.0/oop/walkthrough/#_9","title":"\u2728 \u67b6\u69cb\u512a\u52e2","text":""},{"location":"vers0.1.0/oop/walkthrough/#1","title":"1. \u53ef\u64f4\u5c55\u6027","text":"<ul> <li>\u63d2\u4ef6\u5316\u5de5\u5177\u7cfb\u7d71 (<code>ToolRegistry</code>)</li> <li>\u53ef\u66ff\u63db\u5411\u91cf\u5b58\u5132 (<code>VectorStore</code> ABC)</li> <li>\u81ea\u5b9a\u7fa9\u7bc0\u9ede\u985e\u578b (<code>BaseNode</code> \u7e7c\u627f)</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#2","title":"2. \u53ef\u6e2c\u8a66\u6027","text":"<ul> <li>\u4f9d\u8cf4\u6ce8\u5165 (\u69cb\u9020\u5668\u53c3\u6578)</li> <li>\u63a5\u53e3\u9694\u96e2 (ABC + Protocol)</li> <li>\u4e0d\u53ef\u8b8a\u72c0\u614b (\u7121\u526f\u4f5c\u7528)</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#3","title":"3. \u53ef\u7dad\u8b77\u6027","text":"<ul> <li>\u6e05\u6670\u7684\u6a21\u7d44\u908a\u754c</li> <li>\u8c50\u5bcc\u7684\u985e\u578b\u63d0\u793a</li> <li>\u5b8c\u6574\u7684\u6587\u6a94</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#4","title":"4. \u6027\u80fd\u512a\u5316","text":"<ul> <li>Frozen dataclasses (\u4e0d\u53ef\u8b8a\u6027\u512a\u5316)</li> <li>\u6ed1\u52d5\u7a97\u53e3\u8a18\u61b6\u7ba1\u7406</li> <li>\u4e26\u884c\u4efb\u52d9\u57f7\u884c (<code>Scheduler</code>)</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#5","title":"5. \u751f\u7522\u5c31\u7dd2","text":"<ul> <li>\u5b8c\u6574\u7684\u932f\u8aa4\u8655\u7406</li> <li>\u6aa2\u67e5\u9ede\u548c\u56de\u6efe\u6a5f\u5236</li> <li>\u7d50\u69cb\u5316\u65e5\u8a8c\u8a18\u9304</li> <li>CLI \u5de5\u5177\u93c8</li> </ul>"},{"location":"vers0.1.0/oop/walkthrough/#_10","title":"\ud83d\ude80 \u4e0b\u4e00\u6b65","text":""},{"location":"vers0.1.0/oop/walkthrough/#phase","title":"\u5be6\u4f5c\u968e\u6bb5 (\u6309 PHASE \u9806\u5e8f)","text":"<p>PHASE 1 (Weeks 1-4)</p> <pre><code># 1. \u5275\u5efa\u5c08\u6848\u7d50\u69cb\nmkdir -p src/arkhon_rheo/{core,nodes,tools,config,rules}\n\n# 2. \u5be6\u73fe\u6838\u5fc3\u6a21\u7d44\n# \u53c3\u8003: class_inventory.md + typing_guide.md\n\n# 3. \u7de8\u5beb\u55ae\u5143\u6e2c\u8a66\npytest tests/core/ --cov=src/arkhon_rheo/core\n\n# 4. \u985e\u578b\u6aa2\u67e5\nmypy src/arkhon_rheo --strict\n</code></pre> <p>PHASE 2-4: \u6309\u540c\u6a23\u6d41\u7a0b\u8fed\u4ee3</p>"},{"location":"vers0.1.0/oop/walkthrough/#_11","title":"\u6587\u6a94\u751f\u6210","text":"<pre><code># \u751f\u6210 API \u6587\u6a94\npdoc arkhon_rheo --html --output-dir docs/api\n\n# \u751f\u6210 Class Diagram (\u5f9e class_diagram.md)\nmmdc -i class_diagram.md -o class_diagram.png\n</code></pre>"},{"location":"vers0.1.0/oop/walkthrough/#_12","title":"\ud83d\udca1 \u7e3d\u7d50","text":"<p>\u6b64\u67b6\u69cb\u8a2d\u8a08\u63d0\u4f9b\u4e86\u4e00\u500b\u4f01\u696d\u7d1a\u3001\u751f\u7522\u5c31\u7dd2\u3001\u985e\u578b\u5b89\u5168\u7684 Python OOP \u6846\u67b6\u57fa\u790e\u3002</p> <p>\u95dc\u9375\u6210\u5c31: \u2705 \u5b8c\u6574\u7684\u985e\u5225\u7d50\u69cb\u8a2d\u8a08 (55 \u500b\u985e\u5225) \u2705 \u8c50\u5bcc\u7684\u8a2d\u8a08\u6a21\u5f0f\u61c9\u7528 (15+ \u7a2e) \u2705 \u56b4\u683c\u7684 SOLID \u539f\u5247\u9075\u5faa \u2705 \u73fe\u4ee3\u5316\u7684 Python 3.12+ \u985e\u578b\u7cfb\u7d71 \u2705 \u5c08\u696d\u7d1a\u7684\u6587\u6a94\u898f\u7bc4</p> <p>\u9069\u7528\u5834\u666f:</p> <ul> <li>\u2705 ReAct \u5f15\u64ce\u5be6\u73fe</li> <li>\u2705 \u591a\u4ee3\u7406\u7cfb\u7d71</li> <li>\u2705 \u4e8b\u4ef6\u6eaf\u6e90\u67b6\u69cb</li> <li>\u2705 \u53ef\u64f4\u5c55 AI \u6846\u67b6</li> </ul> <p>\u4f5c\u8005: Claude (\u57fa\u65bc Sequential Thinking) \u5275\u5efa\u6642\u9593: 2026-02-15 \u7248\u672c: 1.0.0 \u72c0\u614b: \u2705 \u5b8c\u6210</p>"}]}